<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Waxa.Deisgn | 蛙夏设计</title>
  
  <subtitle>Stories should be told.</subtitle>
  <link href="https://waxa.design/atom.xml" rel="self"/>
  
  <link href="https://waxa.design/"/>
  <updated>2023-07-16T05:28:09.706Z</updated>
  <id>https://waxa.design/</id>
  
  <author>
    <name>Kaero</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo 同步 Github Page</title>
    <link href="https://waxa.design/playground/web/hexo-deploy-to-gitpage/"/>
    <id>https://waxa.design/playground/web/hexo-deploy-to-gitpage/</id>
    <published>2023-07-15T08:26:00.000Z</published>
    <updated>2023-07-16T05:28:09.706Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>说起 Hexo，用户最熟悉的操作自然是 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code>，但很不幸的是，不知是哪里出了错，我的 <code>hexo d</code> 还从未操作成功过。</p><span id="more"></span><p>可能我的部署环境比较特殊，是一台黑群晖。按照<a href="https://hexo.io/zh-cn/docs/one-command-deployment.html">官方文档</a>配置 <code>_config.yml</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/kaerozhi/kaerozhi.bitbucket.io</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line">  <span class="attr">token:</span> [<span class="string">token</span>]</span><br></pre></td></tr></table></figure><p>运行 <code>hexo d</code> 之后会提示输入用户名和密码，然后报错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">remote: Support <span class="keyword">for</span> password authentication was removed on August 13, 2021.</span><br><span class="line">remote: Please see https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories<span class="comment">#cloning-with-https-urls for information on currently recommended modes of authentication.</span></span><br><span class="line">fatal: Authentication failed <span class="keyword">for</span> <span class="string">&#x27;https://github.com/kaerozhi/kaerozhi.github.io.git/&#x27;</span></span><br><span class="line">FATAL Something<span class="string">&#x27;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span></span><br><span class="line"><span class="string">Error: Spawn failed</span></span><br><span class="line"><span class="string">    at ChildProcess.&lt;anonymous&gt; (/volume1/web/Hexo/node_modules/hexo-util/lib/spawn.js:51:21)</span></span><br><span class="line"><span class="string">    at ChildProcess.emit (node:events:513:28)</span></span><br><span class="line"><span class="string">    at ChildProcess._handle.onexit (node:internal/child_process:291:12)</span></span><br></pre></td></tr></table></figure><p>搜索了很多解决办法。首先，按照 <a href="https://blog.csdn.net/qq_43659183/article/details/126041835">使用 personal token 将 Hexo 本地文件推到 GitHub</a> 的办法，将 Token 加入 repo：     </p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://[token]@github.com/kaerozhi/kaerozhi.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>可惜仍然报错：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal: unable to stat &#x27;tags/Blog-Tools/index.html&#x27;: No such file or directory</span><br></pre></td></tr></table></figure><p>只不过这个错误跟之前不太一样，看起来是个权限问题。</p><p>既然此路不通，那就跳船。按照这篇文章；<a href="https://ayase.moe/2023/02/12/deploy-hexo-in-2023/">2023 年了，怎么用 Github Action 与 hexo 发布在 Github Pages 上发布文章</a> ，配置需要更新写法：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/aaaa/bbb.git</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">&#x27;&#x27;</span> <span class="comment"># ❌</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">    <span class="attr">github:</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">https://github.com/aaaa/bbb.git</span></span><br><span class="line">      <span class="attr">token:</span> <span class="string">&#x27;&#x27;</span> <span class="comment"># ✅</span></span><br></pre></td></tr></table></figure><p>这次运行了一段时间才报错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal: unable to access <span class="string">&#x27;https://github.com/kaerozhi/kaerozhi.github.io.git/&#x27;</span>: HTTP/2 stream 1 was not closed cleanly before end of the underlying stream</span><br></pre></td></tr></table></figure><p>还是有权限问题？实在没辙，只能再看看 SSH 能否奏效。但该文所说的「在部署前增加一个配置 SSH 的 action」，我不明白应该在什么地方操作，不知是 Github 还是本地？总之拿不太准，只能再换参考。</p><p>然后找到这一篇：<a href="https://www.cnblogs.com/v1coder/p/16358864.html">使用 Hexo 在 Github 上建博客</a>，因为 SSH Keys 已经生成过了，所以直接输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>将内容复制到 GitHub –&gt; Settings –&gt; SSH and GPG keys –&gt; NEW SSH key。然后将 <code>_config.yml</code> 里的 deploy 部分改成以下格式：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:yourname/yourname.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>运行 <code>hexo d</code>，居然跑通了！泪流满面~  之前也上传过 SSH Key，但可能配置文件并不是这个格式写的，真是太折腾人了。</p><p>不过又遇到了新的问题，文件夹太大了，囧：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">remote: fatal: pack exceeds maximum allowed size (2.00 GiB)</span><br></pre></td></tr></table></figure><p>检查了一下文件夹，发现游记里的图片过于巨大，动辄五六百M。赶紧用 Photoshop 批处理至 1920x1080px，把整个包压缩到了 1G 以内。<del>然后来一发爽快的 Hexo 三连，顺利收工。</del> 翌日起床，发现最后还是超了上限，也不知道什么原因，只能继续给文件夹瘦身，但再试依然失败。一怒之下删了整个 <code>.deploy_git</code> 文件夹，然后一键三连，嘿嘿，这次终于成功。</p><p>此时访问 <a href="https://kaerozhi.github.io/">https://kaerozhi.github.io</a> ，应该能正常浏览了，稍后再设置一个自定义域名。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">只求一键三连能成功！</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="网站" scheme="https://waxa.design/categories/playground/web/"/>
    
    
    <category term="Hexo" scheme="https://waxa.design/tags/Hexo/"/>
    
    <category term="Github" scheme="https://waxa.design/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 新主题：基于 Acorn 定制</title>
    <link href="https://waxa.design/playground/web/hexo-new-theme-based-on-acorn/"/>
    <id>https://waxa.design/playground/web/hexo-new-theme-based-on-acorn/</id>
    <published>2023-07-13T11:30:00.000Z</published>
    <updated>2023-07-14T14:03:01.374Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><div class="foreword"><p>离职以后，一直忙于搬家和新房装修，两头奔走，除了前期试水之外，后面就没找过工作。其实心里也早就做好了打算，一把年纪了，再去跟年轻人卷实在力有未逮，索性安定下来就转型自由设计师。</p><p>不过网站不能再和以前一样简简单单写博客，现在得展示更多的专业能力。出于这样的动机，去 <a href="https://hexo.io/themes/">Hexo 官方主题站</a>里翻检了几遍，发现 <a href="https://acorn.imaging.xin/">Acorn</a> 还挺合适的，下载到本地试着配置了一下，立马有改头换面的感觉，于是开始定制细节。</p></div><span id="more"></span><h2 id="关于-Acorn"><a href="#关于-Acorn" class="headerlink" title="关于 Acorn"></a>关于 Acorn</h2><p>关于 Acorn 主题，官方是这样介绍的：</p><blockquote><p>Acorn 是一“颗”免费且开源的 <a href="https://hexo.io/">Hexo</a> 主题，可适用于中小型企业门户或工作室等展示类网站的简单建设。如果你对 Hexo 基本操作已经很熟悉了，那么本文将会辅助你轻松使用 Acorn 主题搭建自己的网站， 亦或者你可以先阅读一下 <a href="https://hexo.io/zh-cn/docs/">Hexo 文档</a>。</p><p>Acorn 未使用任何前端框架，所以优秀的小盆友们可以任意发挥，突破自我。</p></blockquote><p>虽然确实没有用框架，但 Stylus 比 CSS 门槛还是高出那么一点点……</p><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230713203301498.png" title="Acorn 官方网站" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230713203301498.png" alt="Acorn 官方网站"><span class="image-caption">Acorn 官方网站</span></a></p><p>因为设计的目标就是企业建站，所以 Acorn 的定制性基本满足需求。需要强调的是：<strong>安装完之后，一定要立刻下载<a href="https://github.com/zhwangart/acorn-sample-data">配套数据包</a>，光看文档是没办法顺利上手的。</strong></p><p>不过还是得吐槽，官方文档并不是特别完备，比如内置的几个插件，Swiper &#x2F; TocBot 应该如何配置，「吃瓜妹子」绝对是毫无头绪的。即便是稍微进阶一点的用户如我，没有文档也需要研究很久。</p><h2 id="修改列表样式"><a href="#修改列表样式" class="headerlink" title="修改列表样式"></a>修改列表样式</h2><p>基本的字体和配色就略过了，根据个人喜好来就行。</p><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230713211817051.png" title="Acorn 原生的文章列表" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230713211817051.png" alt="Acorn 原生的文章列表"><span class="image-caption">Acorn 原生的文章列表</span></a></p><p>Acorn 默认的图文列表中规中矩，效果尚可，但标题和正文会按照限定的行数自动裁切，我不太喜欢这样把文字切得细碎的处理方式，主题都交代不完整，所以就做了改动：把正文去掉，保留标题，标题最多容纳三行文字，除了特别长的英文标题，基本上都能正常显示。</p><p>图文列表的模板是 <code>/themes/acorn/layout/partial/archive-post.ejs</code>，打开源文件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;col-3&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;archive-article archive-type-&lt;%= post.layout %&gt;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card rounded&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &lt;%- partial(&#x27;post/gallery&#x27;) %&gt; // 预览图</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-body bg-light&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;%- partial(&#x27;post/title&#x27;, &#123;class_name: &#x27;article-title mb-0 line-clamp line-clamp-1&#x27;&#125;) %&gt; // 标题，line-clamp-1 用 CSS 限定行数为 1</span></span><br><span class="line"><span class="language-xml">        &lt;%- partial(&#x27;post/date&#x27;, &#123;class_name: &#x27;article-date&#x27;, date_format: null&#125;) %&gt; // 日期</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-text mt-3 line-clamp line-clamp-2&quot;</span>&gt;</span>&lt;%- post.excerpt %&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> // 正文摘抄，line-clamp-2 限定行数为 2</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">&quot;hr&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% if (theme.excerpt_link)&#123; %&gt; // 阅读更多的链接</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-more-link&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- url_for(post.path) %&gt;#more&quot;</span>&gt;</span>&lt;%= theme.excerpt_link %&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>把横线、裁切过的正文和「阅读更多」的链接统统删除，在标题上面增加分类，调整过的代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;col-3&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;archive-article archive-type-&lt;%= post.layout %&gt;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card rounded&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &lt;%- partial(&#x27;post/gallery&#x27;) %&gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-body bg-light&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &lt;%- partial(&#x27;post/category&#x27;, &#123;class_name: &#x27;mb-1&#x27;&#125;) %&gt; // 增加分类</span></span><br><span class="line"><span class="language-xml">        &lt;%- partial(&#x27;post/title&#x27;, &#123;class_name: &#x27;article-title mb-1 line-clamp line-clamp-3&#x27;&#125;) %&gt; // CSS 类改为 line-clamp-3，扩展为三行</span></span><br><span class="line"><span class="language-xml">        &lt;%- partial(&#x27;post/date&#x27;, &#123;class_name: &#x27;article-date&#x27;, date_format: null&#125;) %&gt; // 保留日期，其他删除</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>修改之后的列表是这样的：</p><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230713211525981.png" title="修改后的列表" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230713211525981.png" alt="修改后的列表"><span class="image-caption">修改后的列表</span></a></p><p>个人觉得清爽了不少。</p><p>此外还有一个问题，配置好 Acorn 之后，Archives 每页显示 10 篇文章，这个问题不大，但不知为何首页同样显示 10 篇，而不是我想要的 4 篇。在主题文件夹研究了半天，没找到线索，最后才发现这个是由 Hexo 的 <code>config.yml</code> 全局控制的：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">&#x27;-date&#x27;</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure><p><code>index_generator</code> 下面的 <code>per_page</code> 控制首页显示的条数，首页要显示一行四条，把 10 改成 4 即可，如果想显示两行，则可以改成 8。另外一个 <code>per_page</code> 则控制列表页每页显示的条数，我直接改成了 20。</p><h2 id="默认预览图"><a href="#默认预览图" class="headerlink" title="默认预览图"></a>默认预览图</h2><p>之前的文章大部分没有配置预览图，没预览图的条目比有图的低一半左右，这样的列表页肯定不怎么好看。</p><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230713213833206.png" title="有预览图和没预览图的排在一行，低低高高，不太好看。" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230713213833206.png" alt="有预览图和没预览图的排在一行，低低高高，不太好看。"><span class="image-caption">有预览图和没预览图的排在一行，低低高高，不太好看。</span></a></p><p>我们先准备好一张图，可以命名为 <code>post-preview.png</code>，丢在 <code>/source/images/</code> 文件夹里。此时有两种思路，其一是修改 <code>/themes/acorn/layout/partial/post/gallery.ejs</code>，这样不管是列表还是文章页，只要没有预览图，都会显示我们前面准备的这张  <code>post-preview.png</code>。但个人以为，列表页必须兼顾表现的一致性，才需要默认的预览图补位，但文章页搭配这张图没有多大意义，徒然浪费空间。</p><p>所以不如换另外一个思路，只改列表页就好，顺藤摸瓜，还是找到 <code>/themes/acorn/layout/partial/archive-post.ejs</code>，将 <code>&lt;%- partial(&#39;post/gallery&#39;) %&gt;</code> 替换为以下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (post.<span class="property">photos</span> &amp;&amp; post.<span class="property">photos</span>.<span class="property">length</span>)&#123; %&gt; <span class="comment">// 如果配置了预览图就正常显示</span></span><br><span class="line">  &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;post/gallery&#x27;</span>) %&gt;</span><br><span class="line">&lt;% &#125; <span class="keyword">else</span> &#123;%&gt;  <span class="comment">// 如果没有，则显示 post-preview.png    </span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;card-img-link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- url_for(post.path) %&gt;&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;gallery_&lt;%= post._id %&gt;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;card-img lazyload&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;/images/post-preview.png&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;image&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;gallery&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">&lt;% &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>测试之后发现没问题，搞定。</p><h2 id="控制预览图比例"><a href="#控制预览图比例" class="headerlink" title="控制预览图比例"></a>控制预览图比例</h2><p>现在列表里的预览图都有了，但问题还在：Acorn 默认是不管你配置的是怎样的预览图，它都给你原样显示出来。但这些图的比例可能参差不齐，有纵向的，有横向的，有 4:3 的，有 16:9 的，没准还有正方形 1:1 的，所以我们得控制一下图片的比例。</p><p>这个倒是比较简单，不需要改模板，只要改 CSS 文件就好。打开 <code>/themes/acorn/source/css/_partial/archive.styl</code>，在 <code>.archives-wrap</code> 下面增加以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archives</span></span><br><span class="line">  <span class="selector-class">.row</span></span><br><span class="line">    <span class="selector-class">.card-img-link</span></span><br><span class="line">      <span class="attribute">display</span>: flex</span><br><span class="line">      width: <span class="number">100%</span></span><br><span class="line">      aspect-ratio: <span class="number">16</span> / <span class="number">9</span> // 指定比例为 <span class="number">16</span>:<span class="number">9</span></span><br><span class="line">      overflow: hidden // 超过的部分不可见</span><br><span class="line">      align-items: center // 纵向居中</span><br><span class="line">      .card-img</span><br><span class="line">        width: <span class="number">100%</span></span><br></pre></td></tr></table></figure><h2 id="列表的节奏变化"><a href="#列表的节奏变化" class="headerlink" title="列表的节奏变化"></a>列表的节奏变化</h2><p>现在图文列表显示都正常了，但还比较单调，我希望能有一点节奏变化。</p><p>一开始的思路是在 CSS 里面按照 <code>nth-child[]</code>来调整不同的样式，但尝试了一下，发现成本极高，因为要适配不同的屏幕尺寸。</p><p>然后就尝试在模板文件里加一个前置判断，原本所有的列表项，其类别都是统一的 <code>col-3</code>，调整之后，根据排序的不同，第一个的类别改成 <code>col-12</code>，第二至第五改成 <code>col-6</code>。这些类别 Acorn 已经做好了屏幕适配，不存在兼容性问题。</p><p>加判断虽然简单，但这个序号要如何取得？研究了老半天，最后发现只要调用模板的时候传递一个变量即可。在 <code>/themes/acorn/layout/_partial/archive.ejs</code> 找到这一行：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;archive-post&#x27;</span>, &#123;<span class="attr">post</span>: post, <span class="attr">even</span>: i % <span class="number">2</span> == <span class="number">0</span>&#125;) %&gt;</span><br></pre></td></tr></table></figure><p>增加一个变量 <code>orderid</code>，值等于 Query 循环里面的 i：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;archive-post&#x27;</span>, &#123;<span class="attr">post</span>: post, <span class="attr">even</span>: i % <span class="number">2</span> == <span class="number">0</span>, <span class="attr">orderid</span>: i&#125;) %&gt;</span><br></pre></td></tr></table></figure><p>然后再次打开 <code>/themes/acorn/layout/partial/archive-post.ejs</code>，将里面的 <code>&lt;div class=&quot;col-3&quot;&gt;</code>替换为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (is_home())&#123;%&gt; // 首页都是统一的小号样式</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-3&quot;</span>&gt;</span></span><br><span class="line">&lt;% &#125; else &#123; %&gt;</span><br><span class="line">  &lt;% if ( orderid == 0)&#123;%&gt; // 第一个大号</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-12&quot;</span>&gt;</span></span><br><span class="line">  &lt;% &#125; else if ( orderid &gt; 0 &amp;&amp; orderid &lt; 5)&#123; %&gt; // 二至四中号</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-6&quot;</span>&gt;</span></span><br><span class="line">  &lt;% &#125; else &#123; %&gt; // 其他仍然小号</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-3&quot;</span>&gt;</span></span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>列表就变成现在的样子了，撒花~</p><p>当然这个结果并不完美，因为现在的列表会根据年份断开，导致 <code>col-6</code> 后面紧跟两个 <code>col-3</code>，还是不整齐，太纠结了。</p><h2 id="启用-Tocbot"><a href="#启用-Tocbot" class="headerlink" title="启用 Tocbot"></a>启用 Tocbot</h2><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230714092041702.png" title="Acorn 文档页面的目录" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230714092041702.png" alt="Acorn 文档页面的目录"><span class="image-caption">Acorn 文档页面的目录</span></a></p><p>Acorn 内置了 <a href="https://tscanlin.github.io/tocbot/">Tocbot</a>，技术文档也是有目录的，但本地如何启用？在 <code>/themes/acorn/_config.yml</code> 设置好 <code>toc: true</code>，发现没有效果。但也没有与之对应的模板，所以到底该怎么办呢？</p><p>打开 <code>/themes/acorn/layout/_partial/after-footer.ejs</code>，发现 tocbot 的相关代码确实已经加载好了：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">toc</span>)&#123; %&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- url_for(theme.libs.tocbot) %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    tocbot.<span class="title function_">init</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// Where to render the table of contents.</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">tocSelector</span>: <span class="string">&#x27;.js-toc&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// Where to grab the headings to build the table of contents.</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">contentSelector</span>: <span class="string">&#x27;.js-toc-content&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// Which headings to grab inside of the contentSelector element.</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">headingSelector</span>: <span class="string">&#x27;h2, h3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// For headings inside relative or absolute positioned containers within content.</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">hasInnerContainers</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>对应的两个类分别是：<code>.js-toc</code> 用于挂载目录，<code>.js-toc-content</code> 则是需要生成目录的内容。我们试着将这两个类添加到 <code>/themes/acorn/layout/_partial/article.ejs</code>，找到这一行：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-entry&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;articleBody&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>将它修改为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;js-toc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-entry js-toc-content&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;articleBody&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>刷新，目录果然出现了。</p><p>当然，除非像本文一样啰嗦，大部分的文章篇幅都不长，并不需要目录，所以我们可以给目录设置一个开关。将上面的代码扩充一下，加一个判断：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if ( post.toc == true)&#123; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;js-toc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-entry js-toc-content&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;articleBody&quot;</span>&gt;</span></span><br><span class="line">&lt;% &#125; else &#123; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-entry&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;articleBody&quot;</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>这样一来，默认不生成目录，但可以通过文章前面的 Front Matter 里加上一行 <code>toc: true</code> 手动加载，完美。</p><h2 id="启用-Swiper"><a href="#启用-Swiper" class="headerlink" title="启用 Swiper"></a>启用 Swiper</h2><p><a href="https://swiperjs.com/">Swiper</a> 也是 Acorn 内置的组件，但既然官方没有说明怎么用，那就只能自力更生去查文档。</p><p>按照 Swiper 首页的范例，以下是最简单的用法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/swiper@10/swiper-element-bundle.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">swiper-container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper-slide</span>&gt;</span>Slide 1<span class="tag">&lt;/<span class="name">swiper-slide</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper-slide</span>&gt;</span>Slide 2<span class="tag">&lt;/<span class="name">swiper-slide</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper-slide</span>&gt;</span>Slide 3<span class="tag">&lt;/<span class="name">swiper-slide</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper-slide</span>&gt;</span>Slide ...<span class="tag">&lt;/<span class="name">swiper-slide</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">swiper-container</span>&gt;</span></span><br></pre></td></tr></table></figure><p>试了一下，并无效果。然后文档里发现另外一个范例：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Slider main container --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Additional required wrapper --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-wrapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Slides --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span>Slide 1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span>Slide 2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span>Slide 3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- If we need pagination --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-pagination&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- If we need navigation buttons --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-button-prev&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-button-next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- If we need scrollbar --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-scrollbar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>粘贴进来，发现框架已经搭好，但不能滑动，打开 <code>/themes/acorn/layout/_partial/after-footer.ejs</code>，发现触发的类名是 <code>oneSwiper</code>，加上之后就正常了。</p><div class="swiper oneSwiper"><div class="swiper-wrapper"><div class="swiper-slide"><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230714142643620.png" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230714142643620.png"></a></p></div><div class="swiper-slide"><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230714142629684.png" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230714142629684.png"></a></p></div><div class="swiper-slide"><p><a href="/playground/web/hexo-new-theme-based-on-acorn/image-20230714142552538.png" class="gallery-item"><img src="/playground/web/hexo-new-theme-based-on-acorn/image-20230714142552538.png"></a></p></div></div><div class="swiper-pagination"></div></div><p>然而又发现了新的问题，与这些 HTML 代码混用之后，Markdown 无法渲染，图片自然也不能正常显示。研究了一下 <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>，发现 Markdown 与 HTML 混用时，HTML 代码不能缩进，并且与 Makrdown 内容之间必须空一行，如下所示：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper oneSwiper&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-wrapper&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">![](image-20230714142643620.png)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">![](image-20230714142629684.png)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">![](image-20230714142552538.png)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-pagination&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>刷新，搞定。</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline; vertical-align: top;">可参阅： https://daringfireball.net/projects/markdown/syntax</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">更丰富的展示模块，更深度的细节定制。</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="网站" scheme="https://waxa.design/categories/playground/web/"/>
    
    
    <category term="Hexo" scheme="https://waxa.design/tags/Hexo/"/>
    
    <category term="Theme" scheme="https://waxa.design/tags/Theme/"/>
    
    <category term="Acorn" scheme="https://waxa.design/tags/Acorn/"/>
    
    <category term="Web Development" scheme="https://waxa.design/tags/Web-Development/"/>
    
  </entry>
  
  <entry>
    <title>Stable Diffusion 施法权威指南</title>
    <link href="https://waxa.design/playground/stable-diffusion/stable-diffusion-prompt-a-definitive-guide/"/>
    <id>https://waxa.design/playground/stable-diffusion/stable-diffusion-prompt-a-definitive-guide/</id>
    <published>2023-07-09T11:48:00.000Z</published>
    <updated>2023-07-13T02:56:15.717Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>作为一个初学者，既然投身于炼丹事业，首先要做的事情就是熟悉写咒语的方法。<br>Developing a process to build good prompts is the first step every Stable Diffusion user tackles. This article summarizes the process and techniques developed through experimentations and other users’ inputs. The goal is to write down all I know about prompts, so you can know them all in one place.</p><h2 id="Anatomy-of-a-good-prompt"><a href="#Anatomy-of-a-good-prompt" class="headerlink" title="Anatomy of a good prompt"></a>Anatomy of a good prompt</h2><p>A good prompt needs to be detailed and specific. A good process is to look through a list of keyword categories and decide whether you want to use any of them.</p><p>The keyword categories are</p><ol><li>Subject</li><li>Medium</li><li>Style</li><li>Artist</li><li>Website</li><li>Resolution</li><li>Additional details</li><li>Color</li><li>Lighting</li></ol><p>An extensive list of keywords from each category is available in the <a href="https://andrewongai.gumroad.com/l/stable_diffusion_prompt_generator">prompt generator</a>. You can also find a short list <a href="https://stable-diffusion-art.com/how-to-come-up-with-good-prompts-for-ai-image-generation/#Some_good_keywords_for_you">here</a>.</p><p>You don’t <em>have to</em> include keywords from all categories. Treat them as a checklist to remind you what <em>could</em> be used.</p><p>Let’s review each category and generate some images by adding keywords from each. I will use the v1.5 base model. To see the effect of the prompt alone, I won’t be using negative prompts for now. Don’t worry, we will study negative prompts in the later part of this article. All images are generated with 30 steps of DPM++ 2M Karas sampler and an image size 512×704.</p><h3 id="Subject"><a href="#Subject" class="headerlink" title="Subject"></a>Subject</h3><p><strong><strong>The</strong> subject</strong> is what you want to <strong>see</strong> in the image. A common mistake is not writing enough about the subjects.</p><p>Let’s say we want to generate a sorceress casting magic. A newbie may just write</p><blockquote><p>A sorceress</p></blockquote><p>That leaves too much room for imagination. How do you want the sorceress to look? Any words describing her that would narrow down her image? What does she wear? What kind of magic is she casting? Is she standing, running, or floating in the air? What’s the background scene?</p><p>Stable Diffusion cannot read our minds. We have to say exactly what we want.</p><p>A common trick for human subjects is to use celebrity names. They have a strong effect and are an excellent way to control the subject’s appearance. However, be aware that these names may change not only the face but also the pose and something else. I will defer this topic to a later part of this article.</p><p>As a demo, let’s cast the sorceress to look like <strong>Emma Watson</strong>, the most used keyword in Stable Diffusion. Let’s say she is powerful and mysterious and uses lightning magic. We want her outfit to be very detailed so she would look interesting.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04803-3491393131-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04803-3491393131-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04808-1220894852-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04808-1220894852-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04805-3491393133-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04805-3491393133-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing.png?resize=512,704&ssl=1"></a></p><p>We get Emma Watson 11 out of 10 times. Her name is such a strong effect on the model. I think she’s popular among Stable Diffusion users because she looks decent, young, and consistent across a wide range of scenes. Trust me, we cannot say the same for all actresses, especially the ones who have been active in the 90s or earlier…</p><h3 id="Medium"><a href="#Medium" class="headerlink" title="Medium"></a>Medium</h3><p>Medium is the material used to make artwork. Some examples are illustration, oil painting, 3D rendering, and photography. Medium has a strong effect because one keyword alone can dramatically change the style.</p><p>Let’s add the keyword <strong>digital painting</strong>.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, <strong>digital painting</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04810-340969114-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04810-340969114-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04812-340969116-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04812-340969116-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04817-1396537237-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04817-1396537237-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting.png?resize=512,704&ssl=1"></a></p><p>We see what we expected! The images changed from photographs to digital paintings. So far so good. I think we can stop here. Just kidding.</p><h3 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h3><p>The <strong>style</strong> refers to the artistic style of the image. Examples include impressionist, surrealist, pop art, etc.</p><p>Let’s add <strong>hyperrealistic</strong>, <strong>fantasy</strong>, <strong>surrealist</strong>, <strong>full body</strong> to the prompt.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, digital painting, <strong>hyperrealistic, fantasy, Surrealist, full body</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04818-3088755247-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04818-3088755247-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04821-3088755250-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04821-3088755250-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04825-719406636-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04825-719406636-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p>Mmm… not sure if they have added much. Perhaps these keywords were already implied by the previous ones. But I guess it doesn’t hurt to keep it.</p><h3 id="Artist"><a href="#Artist" class="headerlink" title="Artist"></a>Artist</h3><p>Artist names are strong modifiers. They allow you to dial in the exact style using a particular artist as a reference. It is also common to use multiple artist names to blend their styles. Now let’s add <strong>Stanley Artgerm Lau</strong>, a superhero comic artist, and <strong>Alphonse Mucha</strong>, a portrait painter in the 19th century.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, digital painting, hyperrealistic, fantasy, Surrealist, full body, <strong>by Stanley Artgerm Lau and Alphonse Mucha</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04827-1484067991-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04827-1484067991-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04830-2757126635-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04830-2757126635-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04832-2757126637-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04832-2757126637-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p>We can see the styles of both artists blending in and taking effect nicely.</p><h3 id="Website"><a href="#Website" class="headerlink" title="Website"></a>Website</h3><p>Niche graphic websites such as <a href="https://www.artstation.com/">Artstation</a> and <a href="https://www.deviantart.com/">Deviant Art</a> aggregate many images of distinct genres. Using them in a prompt is a sure way to steer the image toward these styles.</p><p>Let’s add <strong>artstation</strong> to the prompt.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, digital painting, hyperrealistic, fantasy, Surrealist, full body, by Stanley Artgerm Lau and Alphonse Mucha, <strong>artstation</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04837-2123193945-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04837-2123193945-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04841-1804899486-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04841-1804899486-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04843-344447326-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04843-344447326-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p>It’s not a huge change but the images do look like what you would find on Artstation.</p><h3 id="Resolution"><a href="#Resolution" class="headerlink" title="Resolution"></a>Resolution</h3><p>Resolution represents how sharp and detailed the image is. Let’s add keywords <strong>highly detailed</strong> and <strong>sharp focus</strong>.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, digital painting, hyperrealistic, fantasy, Surrealist, full body, by Stanley Artgerm Lau and Alphonse Mucha, artstation, <strong>highly detailed, sharp focus</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04847-1108153948-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04847-1108153948-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04851-1851210878-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04851-1851210878-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04860-254908403-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04860-254908403-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p>Well, not a huge effect perhaps because the previous images are already pretty sharp and detailed. But it doesn’t hurt to add.</p><h3 id="Additional-details"><a href="#Additional-details" class="headerlink" title="Additional details"></a>Additional details</h3><p>Additional details are <em>sweeteners</em> added to modify an image. We will add <strong>sci-fi, stunningly beautiful</strong> and <strong>dystopian</strong> to add some vibe to the image.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, digital painting, hyperrealistic, fantasy, Surrealist, full body, by Stanley Artgerm Lau and Alphonse Mucha, artstation, highly detailed, sharp focus, <strong>sci-fi, stunningly beautiful, dystopian</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04864-2405740094-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04864-2405740094-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04872-1134998445-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04872-1134998445-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04876-1634672953-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04876-1634672953-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><h3 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h3><p>You can control the overall color of the image by adding <strong>color</strong> <strong>keywords</strong>. The colors you specified may appear as a tone or in objects.</p><p>Let’s add some golden color to the image with the keyword <strong>iridescent gold</strong>.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, digital painting, hyperrealistic, fantasy, Surrealist, full body, by Stanley Artgerm Lau and Alphonse Mucha, artstation, highly detailed, sharp focus, sci-fi, stunningly beautiful, dystopian, <strong>iridescent gold</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/01658-1103039641-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/01658-1103039641-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04884-285855119-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04884-285855119-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04889-2937046758-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04889-2937046758-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p>The gold comes out great!</p><h3 id="Lighting"><a href="#Lighting" class="headerlink" title="Lighting"></a>Lighting</h3><p>Any photographer would tell you lighting is a key factor in creating successful images. Lighting keywords can have a huge effect on how the image looks. Let’s add <strong>cinematic lighting</strong> and <strong>dark</strong> to the prompt.</p><blockquote><p>Emma Watson as a powerful mysterious sorceress, casting lightning magic, detailed clothing, digital painting, hyperrealistic, fantasy, Surrealist, full body, by Stanley Artgerm Lau and Alphonse Mucha, artstation, highly detailed, sharp focus, sci-fi, stunningly beautiful, dystopian, iridescent gold, <strong>cinematic lighting, dark</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04912-3838184885-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04912-3838184885-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04925-552912716-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04925-552912716-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04928-512218395-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04928-512218395-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p>This complete our example prompt.</p><p>As you may have notice, the images are already pretty good with a few keywords added to the subject. When it comes to building a prompt for Stable Diffusion, often you don’t need to have many keywords to get good images.</p><h2 id="Negative-prompt"><a href="#Negative-prompt" class="headerlink" title="Negative prompt"></a>Negative prompt</h2><p>Using <a href="https://stable-diffusion-art.com/how-to-use-negative-prompts/">negative prompts</a> is another great way to steer the image, but instead of putting in what you want, you put in what you don’t want. They don’t need to be objects. They can also be styles and unwanted attributes. (e.g. ugly, deformed)</p><p>Using negative prompts is a must for <a href="https://stable-diffusion-art.com/models/#v2_models">v2 models</a>. Without it, the images would look far inferior to v1’s. They are optional for v1 models, but I routinely use them because they either help or don’t hurt.</p><p>I will use a universal negative prompt. You can <a href="https://stable-diffusion-art.com/how-to-use-negative-prompts/">read more</a> about it if you want to understand how it works.</p><blockquote><p>ugly, tiling, poorly drawn hands, poorly drawn feet, poorly drawn face, out of frame, extra limbs, disfigured, deformed, body out of frame, bad anatomy, watermark, signature, cut off, low contrast, underexposed, overexposed, bad art, beginner, amateur, distorted face, blurry, draft, grainy</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/01701-214807721-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/01701-214807721-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04932-512218397-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04932-512218397-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04965-4275528308-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/04965-4275528308-Emma-Watson-as-a-powerful-mysterious-sorceress-casting-lightning-magic-detailed-clothing-digital-painting-hyperrealistic-fa.png?resize=512,704&ssl=1"></a></p><p>With universal negative prompt.</p><p>The negative prompt helped the images to pop out more, making them less flat.</p><h2 id="Process-of-building-a-good-prompt"><a href="#Process-of-building-a-good-prompt" class="headerlink" title="Process of building a good prompt"></a>Process of building a good prompt</h2><h3 id="Iterative-prompt-building"><a href="#Iterative-prompt-building" class="headerlink" title="Iterative prompt building"></a>Iterative prompt building</h3><p>You should approach prompt building as an iterative process. As you see from the previous section, the images could be pretty good with just a few keywords added to the subject.</p><p>I always start with a simple prompt with subject, medium, and style only. Generate at least 4 images at a time to see what you get. Most prompts do not work 100% of the time. You want to get some idea of what they can do statistically.</p><p>Add at most two keywords at a time. Likewise, generate at least 4 images to assess its effect.</p><h3 id="Using-negative-prompt"><a href="#Using-negative-prompt" class="headerlink" title="Using negative prompt"></a>Using negative prompt</h3><p>You can use an <a href="https://stable-diffusion-art.com/how-to-use-negative-prompts/#Universal_negative_prompt">universal negative prompt</a> if you are starting out.</p><p>Adding keywords to the negative prompt can be part of the iterative process. The keywords can be objects or body parts you want to avoid (Since v1 models are not very good at rendering hands, it’s not a bad idea to use “hand” in the negative prompt to hide them.)</p><h2 id="Prompting-techniques"><a href="#Prompting-techniques" class="headerlink" title="Prompting techniques"></a>Prompting techniques</h2><p>You can modify a keyword’s importance by switching to a different one at a certain sampling step.</p><p>The following syntaxes apply to AUTOMATIC1111 GUI. You can run this GUI with one-click using the Colab notebook in the <a href="https://andrewongai.gumroad.com/l/stable_diffusion_quick_start">Quick Start Guide</a>. You can also install it on <a href="https://stable-diffusion-art.com/install-windows/">Windows</a> and <a href="https://stable-diffusion-art.com/install-mac/">Mac</a>.</p><h3 id="Keyword-weight"><a href="#Keyword-weight" class="headerlink" title="Keyword weight"></a>Keyword weight</h3><p>(<em>This syntax applies to AUTOMATIC1111 GUI.</em>)</p><p>You can adjust the <strong>weight</strong> of a keyword by the syntax <code>(keyword: factor)</code>. <code>factor</code> is a value such that less than 1 means less important and larger than 1 means more important.</p><p>For example, we can adjust the weight of the keyword <code>dog</code> in the following prompt</p><blockquote><p><strong>dog</strong>, autumn in paris, ornate, beautiful, atmosphere, vibe, mist, smoke, fire, chimney, rain, wet, pristine, puddles, melting, dripping, snow, creek, lush, ice, bridge, forest, roses, flowers, by stanley artgerm lau, greg rutkowski, thomas kindkade, alphonse mucha, loish, norman rockwell.</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/0.5-05038-1215212448-dog_0.5-autumn-in-paris-ornate-beautiful-atmosphere-vibe-mist-smoke-fire-chimney-rain-wet-pristine-puddles-mel.png?resize=704,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/0.5-05038-1215212448-dog_0.5-autumn-in-paris-ornate-beautiful-atmosphere-vibe-mist-smoke-fire-chimney-rain-wet-pristine-puddles-mel.png?resize=704,512&ssl=1"></a></p><p>(dog: 0.5)</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/1-05037-1215212448-dog-autumn-in-paris-ornate-beautiful-atmosphere-vibe-mist-smoke-fire-chimney-rain-wet-pristine-puddles-melting-d.png?resize=704,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/1-05037-1215212448-dog-autumn-in-paris-ornate-beautiful-atmosphere-vibe-mist-smoke-fire-chimney-rain-wet-pristine-puddles-melting-d.png?resize=704,512&ssl=1"></a></p><p>dog</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/1.5-05036-1215212448-dog_1.5-autumn-in-paris-ornate-beautiful-atmosphere-vibe-mist-smoke-fire-chimney-rain-wet-pristine-puddles-melt.png?resize=704,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/1.5-05036-1215212448-dog_1.5-autumn-in-paris-ornate-beautiful-atmosphere-vibe-mist-smoke-fire-chimney-rain-wet-pristine-puddles-melt.png?resize=704,512&ssl=1"></a></p><p>(dog: 1.5)</p><p>Increasing the weight of <code>dog</code> tends to generate more dogs. Decreasing it tends to generate fewer. It is not always true for every single image. But it is true in a statistical sense.</p><p>This technique can be applied to subject keywords and all categories, such as style and lighting.</p><h3 id="and-syntax"><a href="#and-syntax" class="headerlink" title="() and [] syntax"></a>() and [] syntax</h3><p>(<em>This syntax applies to AUTOMATIC1111 GUI.</em>)</p><p>An equivalent way to adjust keyword strength is to use <code>()</code> and <code>[]</code>. <code>(keyword)</code> increases the strength of the keyword by a factor of 1.1 and is the same as <code>(keyword:1.1)</code>. <code>[keyword]</code> decrease the strength by a factor of 0.9 and is the same as <code>(keyword:0.9)</code>.</p><p>You can use multiple of them, just like in Algebra… The effect is multiplicative.</p><blockquote><p>(keyword): 1.1<br>((keyword)): 1.21<br>(((keyword))): 1.33</p></blockquote><p>Similarly, the effects of using multiple <code>[]</code> are</p><blockquote><p>[keyword]: 0.9<br>[[keyword]]: 0.81<br>[[[keyword]]]: 0.73</p></blockquote><h3 id="Keyword-blending"><a href="#Keyword-blending" class="headerlink" title="Keyword blending"></a>Keyword blending</h3><p>(<em>This syntax applies to AUTOMATIC1111 GUI.</em>)</p><p>You can mix two keywords. The proper term is <strong>prompt scheduling</strong>. The syntax is</p><blockquote><p>[keyword1 : keyword2: factor]</p></blockquote><p><code>factor</code> controls at which step keyword1 is switched to keyword2. It is a number between 0 and 1.</p><p>For example, if I use the prompt</p><blockquote><p>Oil painting portrait of [Joe Biden: Donald Trump: 0.5]</p></blockquote><p>for 30 sampling steps.</p><p>That means the prompt in steps 1 to 15 is</p><blockquote><p>Oil painting portrait of Joe Biden</p></blockquote><p>And the prompt in steps 16 to 30 becomes</p><blockquote><p>Oil painting portrait of Donald Trump</p></blockquote><p>The factor determines when the keyword is changed. it is after 30 steps x 0.5 &#x3D; 15 steps.</p><p>The effect of changing the factor is blending the two presidents to different degrees.</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-19.png?resize=480,196&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-19.png?resize=480,196&ssl=1"></a></p><p>You may have noticed Trump is in a white suit which is more of a Joe outfit. This is a perfect example of a very important rule for keyword blending: <strong>The first keyword dictates the global composition.</strong> The early diffusion steps set the overall composition. The later steps refine details.</p><p>Quiz: What would you get if you swapped Donald Trump and Joe Biden?</p><h4 id="Blending-faces"><a href="#Blending-faces" class="headerlink" title="Blending faces"></a>Blending faces</h4><p>A common use case is to create a new face with a particular look, borrowing from actors and actresses. For example, [Emma Watson: Amber heard: 0.85], 40 steps is a look between the two:</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-20.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-20.png?resize=512,512&ssl=1"></a></p><p>When carefully choosing the two names and adjusting the factor, we can get the look we want precisely.</p><h4 id="Poor-man’s-prompt-to-prompt"><a href="#Poor-man’s-prompt-to-prompt" class="headerlink" title="Poor man’s prompt-to-prompt"></a>Poor man’s prompt-to-prompt</h4><p>Using keyword blending, you can achieve effects similar to <a href="https://prompt-to-prompt.github.io/">prompt-to-prompt</a>, generating pairs of highly similar images with edits. The following two images are generated with the same prompt except for a prompt schedule to substitute <code>apple</code> with <code>fire</code>. The seed and number of steps were kept the same.</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05070-1215212449-Amber-Heard_-emma-watson-_0.5-holding-an-apple_-fire_-0.9Victorian-FemininePerfect-Face-arms-outstretched-ab.png?resize=704,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05070-1215212449-Amber-Heard_-emma-watson-_0.5-holding-an-apple_-fire_-0.9Victorian-FemininePerfect-Face-arms-outstretched-ab.png?resize=704,512&ssl=1"></a></p><p><strong>holding an [apple: fire: 0.9]</strong></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05078-1215212449-Amber-Heard_-emma-watson-_0.5-holding-an-apple_-fire_-0.2Victorian-FemininePerfect-Face-arms-outstretched-ab.png?resize=704,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05078-1215212449-Amber-Heard_-emma-watson-_0.5-holding-an-apple_-fire_-0.2Victorian-FemininePerfect-Face-arms-outstretched-ab.png?resize=704,512&ssl=1"></a></p><p><strong>holding an [apple: fire: 0.2]</strong></p><p>The factor needs to be carefully adjusted. How does it work? The theory behind this is the overall composition of the image was set by the early <a href="https://stable-diffusion-art.com/how-stable-diffusion-work/#Diffusion_model">diffusion process</a>. Once the diffusion is trapped in a small space, swapping any keywords won’t have a large effect on the overall image. It would only change a small part.</p><h2 id="How-long-can-a-prompt-be"><a href="#How-long-can-a-prompt-be" class="headerlink" title="How long can a prompt be?"></a>How long can a prompt be?</h2><p>Depending on what Stable Diffusion service you are using, there could be a maximum number of keywords you can use in the prompt. In the basic Stable Diffusion v1 model, that limit is 75 <strong>tokens</strong>.</p><p>Note that tokens are not the same as words. The <a href="https://stable-diffusion-art.com/how-stable-diffusion-work/#Tokenizer">CLIP model</a> Stable Diffusion uses automatically converts the prompt into tokens, a numerical representation of words it knows. If you put in a word it has not seen before, it will be broken up into 2 or more sub-words until it knows what it is. The words it knows are called tokens, which are represented as numbers. For example, <em>dream</em> is one token, <em>beach</em> is one token. But <em>dreambeach</em> are two tokens because the model doesn’t know this word, and so the model breaks the word up to <code>dream</code> and <code>beach</code> which it knows.</p><h3 id="Prompt-limit-in-AUTOMATIC1111"><a href="#Prompt-limit-in-AUTOMATIC1111" class="headerlink" title="Prompt limit in AUTOMATIC1111"></a>Prompt limit in AUTOMATIC1111</h3><p>AUTOMATIC1111 has <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/Features#infinite-prompt-length">no token limits</a>. If a prompt contains more than 75 tokens, the limit of the CLIP tokenizer, it will start a new chunk of another 75 tokens, so the new “limit” becomes 150. The process can continue forever or until your computer runs out of memory…</p><p>Each chunk of 75 tokens is processed independently, and the resulting representations are concatenated before feeding into Stable Diffusion’s <a href="https://stable-diffusion-art.com/how-stable-diffusion-work/#Feeding_embeddings_to_noise_predictor">U-Net</a>.</p><p>In AUTOMATIC1111, You can check the number of tokens by looking at the small box at the top right corner of the prompt input box.</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-23.png?resize=404,225&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-23.png?resize=404,225&ssl=1"></a></p><p>Token counter in AUTOMATIC1111</p><h2 id="Checking-keywords"><a href="#Checking-keywords" class="headerlink" title="Checking keywords"></a>Checking keywords</h2><p>The fact that you see people using a keyword doesn’t mean that it is effective. Like homework, we all copy each other’s prompts, sometimes without much thought.</p><p>You can check the effectiveness of a keyword by just using it as a prompt. For example, does the v1.5 model know the American painter <a href="https://www.artbrokerage.com/Henry-Asencio">Henry Asencio</a>? Let’s check with the prompt</p><blockquote><p>henry asencio</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-13.png?resize=750,750&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-13.png?resize=750,750&ssl=1"></a></p><p>Positive!</p><p>How about the Artstation sensation <a href="https://www.artstation.com/wlop">wlop</a>?</p><blockquote><p>wlop</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-12.png?resize=750,750&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-12.png?resize=750,750&ssl=1"></a></p><p>Well, doesn’t look like it. That’s why you shouldn’t use “by wlop”. That’s just adding noise.</p><p><strong>Josephine Wall</strong> is a resounding yes:</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-14.png?resize=750,750&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-14.png?resize=750,750&ssl=1"></a></p><p>You can use this technique to examine the effect of mixing two or more artists.</p><blockquote><p>Henry asencio, Josephine Wall</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-15.png?resize=750,750&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-15.png?resize=750,750&ssl=1"></a></p><h2 id="Limiting-the-variation"><a href="#Limiting-the-variation" class="headerlink" title="Limiting the variation"></a>Limiting the variation</h2><p>To be good at building prompts, you need to think like Stable Diffusion. At its core, it is an <strong>image sampler</strong>, generating pixel values that we humans likely say it’s legit and good. You can even use it without prompts, and it would generate many unrelated images. In technical terms, this is called unconditioned or unguided diffusion.</p><p>The prompt is a way to <strong>guide</strong> the diffusion process to the sampling space where it matches. I said earlier that a prompt needs to be detailed and specific. It’s because a detailed prompt narrows down the sampling space. Let’s look at an example.</p><blockquote><p>castle</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05589-1260129908-castle.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05589-1260129908-castle.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05590-1260129909-castle.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05590-1260129909-castle.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05593-977577124-castle.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05593-977577124-castle.png?resize=512,512&ssl=1"></a></p><blockquote><p>castle, <strong>blue sky background</strong></p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05580-4186220353-castle-blue-sky-background.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05580-4186220353-castle-blue-sky-background.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05581-4186220354-castle-blue-sky-background.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05581-4186220354-castle-blue-sky-background.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05587-613358571-castle-blue-sky-background.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05587-613358571-castle-blue-sky-background.png?resize=512,512&ssl=1"></a></p><blockquote><p><strong>wide angle view</strong> of castle, blue sky background</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05573-3352466387-wide-angle-view-of-castle-blue-sky-background.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05573-3352466387-wide-angle-view-of-castle-blue-sky-background.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05575-3352466389-wide-angle-view-of-castle-blue-sky-background.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05575-3352466389-wide-angle-view-of-castle-blue-sky-background.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05578-3659602232-wide-angle-view-of-castle-blue-sky-background.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05578-3659602232-wide-angle-view-of-castle-blue-sky-background.png?resize=512,512&ssl=1"></a></p><p>By adding more describing keywords in the prompt, we narrow down the sampling of castles. In We asked for <strong>any image of a castle</strong> in the first example. Then we asked to get only those with a blue sky background. Finally, we demanded it is <strong>taken as a wide-angle photo</strong>.</p><p>The more you specify in the prompt, the less variation in the images.</p><h2 id="Association-effect"><a href="#Association-effect" class="headerlink" title="Association effect"></a>Association effect</h2><h3 id="Attribute-association"><a href="#Attribute-association" class="headerlink" title="Attribute association"></a>Attribute association</h3><p>Some attributes are strongly correlated. When you specify one, you will get the other. Stable Diffusion generates the most likely images that could have an unintended association effect.</p><p>Let’s say we want to generate photos of women with <strong>blue eyes</strong>.</p><blockquote><p>a young female with <strong>blue eyes</strong>, highlights in hair, sitting outside restaurant, wearing a white outfit, side light</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05642-962108224-a-young-female-with-blue-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05642-962108224-a-young-female-with-blue-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05644-962108226-a-young-female-with-blue-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05644-962108226-a-young-female-with-blue-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05648-1605130365-a-young-female-with-blue-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05648-1605130365-a-young-female-with-blue-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1"></a></p><p>Blue eyes</p><p>What if we change to brown eyes?</p><blockquote><p>a young female with <strong>brown eyes</strong>, highlights in hair, sitting outside restaurant, wearing a white outfit, side light</p></blockquote><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05636-2710473180-a-young-female-with-brown-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05636-2710473180-a-young-female-with-brown-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05637-3695321613-a-young-female-with-brown-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05637-3695321613-a-young-female-with-brown-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05639-3695321615-a-young-female-with-brown-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05639-3695321615-a-young-female-with-brown-eyes-highlights-in-hair-sitting-outside-restaurant-wearing-dress-side-light.png?resize=512,512&ssl=1"></a></p><p>Brown eyes</p><p>Nowhere in the prompts, I specified ethnicity. But because people with blue eyes are predominantly Europeans, Caucasians were generated. Brown eyes are more common across different ethnicities, so you will see a more diverse sample of races.</p><p>Stereotyping and bias is a big topic in AI models. I will confine to the technical aspect in this article.</p><h3 id="Association-of-celebrity-names"><a href="#Association-of-celebrity-names" class="headerlink" title="Association of celebrity names"></a>Association of celebrity names</h3><p>Every keyword has some unintended associations. That’s especially true for celebrity names. Some actors and actresses like to be in certain poses or wear certain outfits when taking pictures, and hence in the training data. If you think about it, model training is nothing but learning by association. If Taylor Swift (in the training data) always crosses her legs, the model would think leg crossing is Taylor Swift too.</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05190-3766034489-full-body-taylor-swift-in-future-high-tech-dystopian-city-digital-painting.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05190-3766034489-full-body-taylor-swift-in-future-high-tech-dystopian-city-digital-painting.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05197-2765129714-full-body-taylor-swift-in-future-high-tech-dystopian-city-digital-painting.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05197-2765129714-full-body-taylor-swift-in-future-high-tech-dystopian-city-digital-painting.png?resize=512,704&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05210-151929197-full-body-taylor-swift-in-future-high-tech-dystopian-city-digital-painting.png?resize=512,704&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05210-151929197-full-body-taylor-swift-in-future-high-tech-dystopian-city-digital-painting.png?resize=512,704&ssl=1"></a></p><p>Prompt: full body taylor swift in future high tech dystopian city, digital painting</p><p>When you use Taylor Swift in the prompt, you may mean to use her face. But there’s an effect of the subject’s pose and outfit too. The effect can be studied by using her name alone as the prompt.</p><p>Poses and outfits are global compositions. If you want her face but not her poses, you can use <a href="https://stable-diffusion-art.com/prompt-guide/#Keyword_blending">keyword blending</a> to swap her in at a later sampling step.</p><h3 id="Association-of-artist-names"><a href="#Association-of-artist-names" class="headerlink" title="Association of artist names"></a>Association of artist names</h3><p>Perhaps the most prominent example of association is seen when using artist names.</p><p>The 19th-century Czech painter Alphonse Mucha is a popular occurrence in portrait prompts because the name helps generate interesting embellishments, and his style blends very well with digital illustrations. But it also often leaves a signature circular or dome-shaped pattern in the background. They could look unnatural in outdoor settings.</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05276-3433818815-digital-painting-of-Emma-Watson_Taylor-Swift_-0.5-by-Alphonse-Mucha.png?resize=512,768&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05276-3433818815-digital-painting-of-Emma-Watson_Taylor-Swift_-0.5-by-Alphonse-Mucha.png?resize=512,768&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05279-1972745901-digital-painting-of-Emma-Watson_Taylor-Swift_-0.6-by-Alphonse-Mucha.png?resize=512,768&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05279-1972745901-digital-painting-of-Emma-Watson_Taylor-Swift_-0.6-by-Alphonse-Mucha.png?resize=512,768&ssl=1"></a></p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05281-1972745903-digital-painting-of-Emma-Watson_Taylor-Swift_-0.6-by-Alphonse-Mucha.png?resize=512,768&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/05281-1972745903-digital-painting-of-Emma-Watson_Taylor-Swift_-0.6-by-Alphonse-Mucha.png?resize=512,768&ssl=1"></a></p><p>Prompt: digital painting of [Emma Watson:Taylor Swift: 0.6] by Alphonse Mucha. (30 steps)</p><h2 id="Embeddings-are-keywords"><a href="#Embeddings-are-keywords" class="headerlink" title="Embeddings are keywords"></a>Embeddings are keywords</h2><p><a href="https://stable-diffusion-art.com/embedding/">Embeddings</a>, the result of textual inversion, are nothing but combinations of keywords. You can expect them to do a bit more than what they claim.</p><p>Let’s see the following base images of Ironman making a meal without using embeddings.</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/grid-1060.png?resize=750,546&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/grid-1060.png?resize=750,546&ssl=1"></a></p><p>Prompt: iron man cooking in kitchen.</p><p><a href="https://civitai.com/models/2032/empire-style">Style-Empire</a> is an embedding I like to use because it adds a dark tone to portrait images and creates an interesting lighting effect. Since it was trained on an image with a street scene at night, you can expect it adds some blacks AND perhaps buildings and streets. See the images below with the embedding added.</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/grid-1059.png?resize=750,546&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/grid-1059.png?resize=750,546&ssl=1"></a></p><p>Prompt: iron man cooking in kitchen <strong>Style-Empire</strong>.</p><p>Note some interesting effects</p><ul><li>The background of the first image changed to city buildings at night.</li><li>Iron man tends to show his face. Perhaps the training image is a portrait?</li></ul><p>So even if an embedding is intended to modify the style, it is just a bunch of keywords and can have unintended effects.</p><h2 id="Effect-of-custom-models"><a href="#Effect-of-custom-models" class="headerlink" title="Effect of custom models"></a>Effect of custom models</h2><p>Using a <a href="https://stable-diffusion-art.com/models/">custom model</a> is the easiest way to achieve a style, guaranteed. This is also a unique charm of Stable Diffusion. Because of the large open-source community, hundreds of custom models are freely available.</p><p>When using a model, we need to be aware that the meaning of a keyword can change. This is especially true for styles.</p><p>Let’s use Henry Asencio again as an example. In v1.5, his name alone generates:</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-13.png?resize=750,750&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-13.png?resize=750,750&ssl=1"></a></p><p>Using <a href="https://stable-diffusion-art.com/models/#DreamShaper">DreamShaper</a>, a model fine-tuned for portrait illustrations, with the same prompt gives</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-21.png?resize=750,750&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/02/image-21.png?resize=750,750&ssl=1"></a></p><p>It is a very decent but distinctly different style. The model has a strong basis for generating clear and pretty faces, which has been revealed here.</p><p>So make sure to check when you use a style in custom models. van Gogh may not be van Gogh anymore!</p><h2 id="Region-specific-prompts"><a href="#Region-specific-prompts" class="headerlink" title="Region-specific prompts"></a>Region-specific prompts</h2><p>Do you know you can specify different prompts for different regions of the image?</p><p>For example, you can put the moon at the top left:</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-34.png?resize=750,500&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-34.png?resize=750,500&ssl=1"></a></p><p>Or at the top right:</p><p><a href="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-39.png?resize=750,500&ssl=1" class="gallery-item"><img src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-39.png?resize=750,500&ssl=1"></a></p><p>You can do that by using the <a href="https://stable-diffusion-art.com/regional-prompter/">Regional Prompter</a> extension. It’s a great way to control image composition!</p><p><a href="https://www.buymeacoffee.com/sdart"><a href="https://i0.wp.com/cdn.buymeacoffee.com/buttons/v2/default-yellow.png?w=750&ssl=1" title="Buy Me A Coffee" class="gallery-item"><img src="https://i0.wp.com/cdn.buymeacoffee.com/buttons/v2/default-yellow.png?w=750&ssl=1" alt="Buy Me A Coffee"><span class="image-caption">Buy Me A Coffee</span></a></a></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">翻译自 [Stable Diffusion prompt: a definitive guide](https://stable-diffusion-art.com/prompt-guide/)，未取得授权，水平有限，自娱而已。若有讹误，望读者不吝指正。</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="Stable Diffusion" scheme="https://waxa.design/categories/playground/stable-diffusion/"/>
    
    
    <category term="stable diffusion" scheme="https://waxa.design/tags/stable-diffusion/"/>
    
    <category term="翻译" scheme="https://waxa.design/tags/%E7%BF%BB%E8%AF%91/"/>
    
    <category term="指南" scheme="https://waxa.design/tags/%E6%8C%87%E5%8D%97/"/>
    
  </entry>
  
  <entry>
    <title>Auto Photoshop Stable Diffusion Plugin</title>
    <link href="https://waxa.design/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/"/>
    <id>https://waxa.design/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/</id>
    <published>2023-07-09T02:55:00.000Z</published>
    <updated>2023-07-10T11:54:19.002Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>因为名字太长，为行文方便，后文一律简称为 SD4PS。<a href="https://github.com/AbdullahAlfaraj/Auto-Photoshop-StableDiffusion-Plugin"><strong>Github 传送门</strong></a></p><p>这款插件其实已经推出有一段时间了，但国内好像没有太具深度的介绍，介绍完如何安装，随便生成几张图片，就点到为止了。还有普遍反应的安装报错，但我按照说明文档中的标准流程走下来，基本上通行无阻，可能是人品比较好？</p><p>至于现阶段的体验，个人觉得远不如想象的那么趁手。基本的 txt2img &#x2F; img2img 虽然简单，但因为不能像 Web UI 那样存储预设，浏览和切换模型 &#x2F; Lora &#x2F; Embeddings 也不方便，所以得先在 Web UI 里面把包括 LORA 在内的 Prompts 写好，然后再粘贴到 SD4PS——多试几遍就反应过来了，这不是多此一举吗？还不如 Web UI 出图，然后 Photoshop 打开来得便捷。</p><p>当然，安装这个插件肯定是为了 Inpaint &#x2F; Outpaint，毕竟绘制草图和处理蒙版，Photoshop 可不知比 Web UI 强到哪里去了。</p><span id="more"></span><h2 id="Inpaint-体验"><a href="#Inpaint-体验" class="headerlink" title="Inpaint 体验"></a>Inpaint 体验</h2><p>我们先在 Photoshop 里面生成一张图，模型还是 DreamShaper 7，<code>a beautiful young girl</code>常规起手。注意这个插件不兼容画板，新建文档的时候记得取消画板选项，分辨率依旧是 512x768。走起：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/output_image.png" title="A beautiful young girl" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/output_image.png" alt="A beautiful young girl"><span class="image-caption">A beautiful young girl</span></a></p><p>我们从生成的结果中选了一张比较满意的，但希望把眼睛换成绿色。试着用白色画笔涂抹眼睛，作为 Inpaint 蒙版：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-white-mask.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-white-mask.png"></a></p><p>此时维持原 Prompts 不变，选中整张图片，在原来的 Prompts 基础上增加眼睛的描述：<code>green eyes, light green pupils, high detailed eyes</code>，绘图模式切换至 Inpaint，点击 Generate Inpaint，五选一之后得到：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-green-eyes.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-green-eyes.png"></a></p><p>效果不错。注意 SD4PS 选项卡，原图和蒙版都识别得很准确——不要以为这很正常，其实这就是该插件最容易翻车的地方。</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709122410457.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709122410457.png"></a></p><h3 id="局部重绘"><a href="#局部重绘" class="headerlink" title="局部重绘"></a>局部重绘</h3><p>当然也有第二种方法，就是框选局部再重绘，这也是绘画和修图时最常用的场景。</p><p>此时建议将 Prompts 内关于人物整体的部分去掉，只需要眼睛的描述即可，因为我们重绘的部分只包括眼睛，保留人物的描述反而会造成干扰。而且该方法重绘的面积更小，理论上消耗的资源更低。</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-selected.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-selected.png"></a></p><p>出图之前记得检查一下重绘部分的分辨率，因为插件的比例控制非常任性。本来是为了节省资源才选择局部重绘，结果一不小心，插件给出 33.83 倍的放大比率，电脑差点当场崩溃……</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709123540396.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709123540396.png"></a></p><p>风扇狂转了十几分钟之后，出来的结果令我……大失所望，眼睛套眼睛，右边还套歪了：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-regenerate-result.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-regenerate-result.png"></a></p><p>怀疑是局部重绘的计算量太小，导致重绘的部分无法完美融合。既然如此，那就尝试调整参数，将 SD4PS 底部的 Mask Content 选项从 Fill 更改为 Original，此时 AI 会更多地参考原图，理论上会降低翻车的机率。</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709125451268.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709125451268.png"></a></p><p>在重绘的过程中注意到原图和蒙版缩略图是这样的：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709125612522.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709125612522.png"></a></p><p>不用想，这次肯定翻车。出图之后果不其然，比上一次还离谱：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-regenerate-failed-result.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-regenerate-failed-result.png"></a></p><p>这也是这款插件最不稳定最令人揪心的地方，操作没变，但插件并不是每次都能准确识别原图和蒙版。</p><p>再次尝试，可惜还是很魔性：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-regenerate-failed-result2.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/eyes-regenerate-failed-result2.png"></a></p><p>既然如此，那我们就扩大框选面积，选中整个面部，增加 <code>beautiful face</code> 关键词。为了与之前的结果有所差异，改成蓝色眼睛。</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709131016550.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709131016550.png"></a></p><p>这样参考的要素更多，理论上会画得更好一点。再次重绘：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-blue-eyes.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-blue-eyes.png"></a></p><p>成功。</p><p>由此可见，参考的像素越少，翻车的机率越大，即便我们希望节省系统资源，但还是要拿捏好尺度，过于局部的细节 AI 很难控制。</p><h3 id="精确控制蒙版"><a href="#精确控制蒙版" class="headerlink" title="精确控制蒙版"></a>精确控制蒙版</h3><p>使用几天之后，我发现其实精确控制蒙版并不难。</p><p>起初在网上看视频，想当然地认为涂白之后，插件自动将其识别为蒙版，但这样的结果就是看人品，有时候 ok，有时候叫人抓狂。但稍加注意就能发现，如果你从 txt2img &#x2F; img2img 切换到 inpaint &#x2F; outpaint，插件会自动生成一个名为 <em>Mask – Paint White to Mask – temporary</em> 的图层：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709152907829.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709152907829.png"></a></p><p>在这个图层里，无论你是用选择工具框选，还是用画笔涂抹，又或是用钢笔精确勾选，总之只要涂白，插件就再也不会傻傻搞错你的蒙版了。</p><h2 id="涂鸦重绘"><a href="#涂鸦重绘" class="headerlink" title="涂鸦重绘"></a>涂鸦重绘</h2><p>涂鸦重绘也是非常普遍的使用场景。比如我想给这位已经换上蓝色美瞳的女同学戴上一顶希腊式的花冠，通过我高妙的画技，得到这样的结果：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709133820611.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709133820611.png"></a></p><p>在 Prompts 增加花冠的描述词：<code>greek flower crown, greek wreath</code>，选中头部，看看图生图能得到怎样的结果：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath.png"></a></p><p>插件读懂了我的想法，但完全没有考虑如何与原图融合。调整参数，将 Inpainting conditioning mask strenght 从 1 降到 0.3：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709134621361.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709134621361.png"></a></p><p>重新出图：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath2.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath2.png"></a></p><p>脸倒是更像原来的脸了，但是这个融合还是很捉急啊，难道我都用上 AI 了，还要手动抠图合成吗？再说这光线也跟原来不一样，重塑光线可太麻烦了。</p><p>没奈何，那还是重绘一下全图试试。<kbd>Ctr</kbd> + <kbd>A</kbd> 选择全图，为了保持女同学的姿势不变，SD4PS 切换到 ControlNet 标签页，激活 slot1，选择 openpose-face 模型：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709135356150.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709135356150.png"></a></p><p>回到默认标签，跑图！</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success.png"></a><br><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success2.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success2.png"></a></p><p>挺好，就是背景和光线还是有变化，并且受 <code>greek</code> 影响，背景里出现了希腊的古典建筑。我们尝试将 Inpainting conditioning mask strenght 从 0.3 降到 0.15 试试：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success3.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success3.png"></a></p><p>只能说有一点变化，但不明显。感觉方向不太对，<strong>img2img 适合确定构图之后改变画风或者提升品质和完成度，如果只想调整局部，加一个花冠，添一条项链，或者换一身衣裳，那还是 Inpaint 更合适</strong>。</p><h3 id="Inpaint-局部重绘"><a href="#Inpaint-局部重绘" class="headerlink" title="Inpaint 局部重绘"></a>Inpaint 局部重绘</h3><p>我们将花冠部分涂成白色蒙版：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709141737351.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709141737351.png"></a></p><p>为了减轻系统负担，只选中头部：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709141826088.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709141826088.png"></a></p><p>跑图：</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success4.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success4.png"></a><br><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success5.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success5.png"></a><br><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success6.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/girl-with-greek-wreath-success6.png"></a></p><p>几乎每一张都得到了可用的结果，Inpaint 永远的神！</p><h2 id="Outpaint"><a href="#Outpaint" class="headerlink" title="Outpaint"></a>Outpaint</h2><p>Outpaint 与 Inpaint 原理基本一致，差别仅在于蒙版是正选还是反选而已，这里暂且不作探讨，以后若有意外发现再增补进来。</p><h2 id="图片保存路径"><a href="#图片保存路径" class="headerlink" title="图片保存路径"></a>图片保存路径</h2><p>Web UI 生成的任何图片都可以在 Outputs 文件夹里面找到，而 SD4PS 调用的虽然也是 Stable Diffusion，但它生成的图片却不在 Outputs 文件夹里。如果跑了图却没有另外保存，事后再去找，难免会一时摸不着头绪。</p><p>当然，办法肯定会有的。打开插件的 Settings 标签页，点击最下面的 <strong>Get Path</strong> 按钮，就可以找到文件的保存路径。</p><p><a href="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709160106478.png" class="gallery-item"><img src="/playground/stable-diffusion/stable-diffusion-plugin-for-photoshop/image-20230709160106478.png"></a></p><p>但里面的文件夹名称都是随机生成的字符串，要找指定的文件提供不了任何线索，只能海底捞针逐个翻阅。假如你已经跑过很多图生成了海量文件夹……那场面想想就很酸爽，所以有可能的话，还是养成随手存图的好习惯吧。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">给 Photoshop 准备的 Stable Diffusion 操作界面，虽然还称不上尽善尽美，但至少值得一试。</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="Stable Diffusion" scheme="https://waxa.design/categories/playground/stable-diffusion/"/>
    
    
    <category term="plugins" scheme="https://waxa.design/tags/plugins/"/>
    
    <category term="stable diffusion" scheme="https://waxa.design/tags/stable-diffusion/"/>
    
    <category term="photoshop" scheme="https://waxa.design/tags/photoshop/"/>
    
  </entry>
  
  <entry>
    <title>用 Stable Diffusion 尝试传统水墨画</title>
    <link href="https://waxa.design/playground/stable-diffusion/traditional-chinese-ink-painting/"/>
    <id>https://waxa.design/playground/stable-diffusion/traditional-chinese-ink-painting/</id>
    <published>2023-07-06T05:25:07.000Z</published>
    <updated>2023-07-14T10:01:54.302Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>最近的项目与传统文化相关，主题又含有竹子元素，所以就想着如何用 Stable Diffusion 来输出合适的素材。作为传统的梅兰竹菊四君子之一，竹一直都是文人画里非常重要的元素，找一些相关的素材并不难，不过外面找的毕竟不如自己炼制来得好玩。</p><p>参考知乎上的 <a href="https://www.zhihu.com/question/589056030/answer/2979794738">Ai 绘画有哪些有趣的 prompt？ - 董步云的回答</a>，水墨风格的关键词如下，顺便分解一下词组：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sumi-e style, // 日语水墨</span><br><span class="line">(expressive brush strokes):1.2, // 提升笔触的精致感</span><br><span class="line">ink wash, gradation, monochromatic, // 水墨的层次感，保持黑白色调</span><br><span class="line">poetic atmosphere, delicate balance, // 诗意，平衡</span><br><span class="line">fluid motion // 液态的流动感</span><br></pre></td></tr></table></figure><p>所以输出的是这样的例图，就可以预见了。</p><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/image-20230706132451143.jpeg" title="版权所有 董步云@知乎" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/image-20230706132451143.jpeg" alt="版权所有 董步云@知乎"><span class="image-caption">版权所有 董步云@知乎</span></a></p><span id="more"></span><p>我们先按照上面的 prompts 来尝试一下，把女孩主题换成我们想画的竹子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">masterpiece, best quality, highres, 8k, </span><br><span class="line">bamboo, falling bamboo leaves, blowing wind, (no humans:1.2), </span><br><span class="line">traditianal chinese ink painting, sumi-e style, (expressive brush strokes):1.2,</span><br><span class="line">ink wash, gradation, monochromatic,</span><br><span class="line">poetic atmosphere, delicate balance,</span><br><span class="line">fluid motion</span><br></pre></td></tr></table></figure><p>依旧是 DreamShaper 作为底模，分辨率 768 x 512px，输出如下：</p><div class="lightgallery album-grid-2"><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00049-1493546664.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00049-1493546664.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00052-1493546667.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00052-1493546667.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00053-1493546668.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00053-1493546668.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00059-1493546674.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00059-1493546674.png"></a></p></div><p>确实有点意思了。不过 <em>fluid motion</em> 还是导致了一些意外的结果。如以下图：</p><div class="lightgallery album-grid-2"><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00048-1493546663.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00048-1493546663.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00060-1493546675.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00060-1493546675.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00057-1493546672.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00057-1493546672.png"></a></p></div><p>过于强调流动感，画面的冲击力是有了，但不太符合我们想要的传统美学。我们去掉 <em>fluid motion</em>，同时将 <em>monochromatic</em> 更换为 <em>turquoise theme</em>，增加假山，这样就可以将黑白的水墨画换成青绿色主题，看看效果如何？</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">masterpiece, best quality, highres, 8k, </span><br><span class="line">bamboo, falling bamboo leaves, chinese style rock garden, blowing wind, (no humans:1.2), </span><br><span class="line">traditianal chinese ink painting, sumi-e style, (expressive brush strokes):1.2,</span><br><span class="line">ink wash, gradation, (turquoise theme),</span><br><span class="line">poetic atmosphere, delicate balance,</span><br></pre></td></tr></table></figure><p>其他参数不变，输出如下：</p><div class="lightgallery album-grid-2"><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00066-3843042960.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00066-3843042960.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00071-3843042965.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00071-3843042965.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00074-3843042968.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00074-3843042968.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00078-3843042972.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00078-3843042972.png"></a></p></div><p>意境不错，但假山园林的比重太高了。不如化繁为简，专注于竹子，假山可以后期合成。去掉假山的关键词，重新输出：</p><div class="lightgallery album-grid-2"><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00081-1987821862.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00081-1987821862.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00083-1987821864.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00083-1987821864.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00084-1987821865.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00084-1987821865.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00087-1987821868.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00087-1987821868.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00095-1987821876.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00095-1987821876.png"></a></p></div><p>基本上成功。唯一的缺憾是始终没有画出风中飘洒的竹叶，不知道是哪里出了问题。</p><p>突然想起东坡的朱竹，又尝试了一下，结果怎么说呢？有点怪怪的，因为红色的竹子不符合常识，所以AI 很容易偏离到枫叶主题：</p><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00111-671757114.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00111-671757114.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00102-671757105.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00102-671757105.png"></a></p><p>除了竹子之外，画面中还需要一些辅助元素。将竹子替换成流云和烟雾，得到：</p><div class="lightgallery album-grid-2"><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00181-2660401093.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00181-2660401093.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00182-2660401094.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00182-2660401094.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00189-2660401101.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00189-2660401101.png"></a></p></div><p>再将主体换成假山和石头，得到：</p><div class="lightgallery album-grid-2"><p><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00194-2660401090.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00194-2660401090.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00205-2660401101.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00205-2660401101.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00219-2660401099.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00219-2660401099.png"></a><br><a href="/playground/stable-diffusion/traditional-chinese-ink-painting/00221-2660401101.png" class="gallery-item"><img src="/playground/stable-diffusion/traditional-chinese-ink-painting/00221-2660401101.png"></a></p></div><p>感觉 AI 对假山还是有误会，本人的英文水平也不太够用，没有找到合适的单词来描述文人画里那些嶙峋奇崛的石头。不过这些也差不多够用了，就此收工。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;最近的项目与传统文化相关，主题又含有竹子元素，所以就想着如何用 Stable Diffusion 来输出合适的素材。作为传统的梅兰竹菊四君子之一，竹一直都是文人画里非常重要的元素，找一些相关的素材并不难，不过外面找的毕竟不如自己炼制来得好玩。&lt;/p&gt;
&lt;p&gt;参考知乎上的 &lt;a href=&quot;https://www.zhihu.com/question/589056030/answer/2979794738&quot;&gt;Ai 绘画有哪些有趣的 prompt？ - 董步云的回答&lt;/a&gt;，水墨风格的关键词如下，顺便分解一下词组：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sumi-e style, // 日语水墨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(expressive brush strokes):1.2, // 提升笔触的精致感&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ink wash, gradation, monochromatic, // 水墨的层次感，保持黑白色调&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;poetic atmosphere, delicate balance, // 诗意，平衡&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fluid motion // 液态的流动感&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;所以输出的是这样的例图，就可以预见了。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/playground/stable-diffusion/traditional-chinese-ink-painting/image-20230706132451143.jpeg&quot; title=&quot;版权所有 董步云@知乎&quot; class=&quot;gallery-item&quot;&gt;&lt;img src=&quot;/playground/stable-diffusion/traditional-chinese-ink-painting/image-20230706132451143.jpeg&quot; alt=&quot;版权所有 董步云@知乎&quot;&gt;&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="Stable Diffusion" scheme="https://waxa.design/categories/playground/stable-diffusion/"/>
    
    
    <category term="竹子" scheme="https://waxa.design/tags/%E7%AB%B9%E5%AD%90/"/>
    
    <category term="中国水墨画" scheme="https://waxa.design/tags/%E4%B8%AD%E5%9B%BD%E6%B0%B4%E5%A2%A8%E7%94%BB/"/>
    
    <category term="AIGC" scheme="https://waxa.design/tags/AIGC/"/>
    
  </entry>
  
  <entry>
    <title>LORA 日推：梵高风格</title>
    <link href="https://waxa.design/playground/stable-diffusion/van-gogh-style-lora/"/>
    <id>https://waxa.design/playground/stable-diffusion/van-gogh-style-lora/</id>
    <published>2023-07-04T13:52:31.000Z</published>
    <updated>2023-07-14T09:40:42.643Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>今天推荐的 Lora 是 <a href="https://civitai.com/models/100873/van-gogh-style">Van Gogh Style</a>，还原度极高。以 <code>a young beautiful girl</code> 常规起手，底模选用 <a href="https://civitai.com/models/4384/dreamshaper">DreamShaper</a>，Prompts 如下；</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">masterpiece, best quality, 8k, ultra detailed, simple background, </span><br><span class="line">a young beautiful girl, &lt;lora:vgv1:1&gt;, vg, painting by van gogh, vincent van gogh style,</span><br></pre></td></tr></table></figure><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00338-1039788934.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00338-1039788934.png"></a></p><p>大笔厚涂，油画颜料的堆叠极富体积感，笔触感极佳，这一点比同类型的 Lora 都要突出，甚至真实得有些叫人心疼，这种画法是不是太费颜料了……</p><span id="more"></span><p>如果觉得皮肤这么画太狂放，毕竟光滑粉嫩还是大家的普遍倾向，那稍微调整一下即可。使用同样的 Seed，将 Lora 的权重降到 0.7；</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">masterpiece, best quality, 8k, ultra detailed, simple background, </span><br><span class="line">a young beautiful girl, &lt;lora:vgv1:0.7&gt;, vg, oil painting by van gogh, vincent van gogh style,</span><br></pre></td></tr></table></figure><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00343-2440416913.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00343-2440416913.png"></a></p><p>差不多就完美了。</p><p>像梵高这种风格强烈的大师，我们最爱做的事情就是为我所用，给平淡无奇的素材加上那么一点点艺术性。比如最近热映的电影，陈思成导演的<a href="https://movie.douban.com/subject/35660795/">消失的她</a>，有一组角色海报就是用梵高风格来画的，虽然这个画风更细密，但笔触感也更平了：</p><div class="lightgallery"><p><a href="/playground/stable-diffusion/van-gogh-style-lora/3eb095ec066eea0d822b9d0b4c8326b652a3886968b74-FCRgFM_fw1200webp.webp" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/3eb095ec066eea0d822b9d0b4c8326b652a3886968b74-FCRgFM_fw1200webp.webp"></a><br><a href="/playground/stable-diffusion/van-gogh-style-lora/0f1b02c55ec715093329ad4e4ff24ee281bba36c174a47-YtkAd8_fw1200webp.webp" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/0f1b02c55ec715093329ad4e4ff24ee281bba36c174a47-YtkAd8_fw1200webp.webp"></a><br><a href="/playground/stable-diffusion/van-gogh-style-lora/51917fd15362161be6bc03f1ca8221a945cbea0b1317fd-USkgfX_fw1200webp.webp" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/51917fd15362161be6bc03f1ca8221a945cbea0b1317fd-USkgfX_fw1200webp.webp"></a><br><a href="/playground/stable-diffusion/van-gogh-style-lora/image-20230706094111775.jpeg" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/image-20230706094111775.jpeg"></a><br><a href="/playground/stable-diffusion/van-gogh-style-lora/image-20230706094134153.jpeg" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/image-20230706094134153.jpeg"></a></p></div><p>这点小伎俩自然骗不过咱们的眼睛，当然也没啥难度。比如牛教授最近用的头像，是许同学亲自创作的和服猫咪食面图。猫咪表情生动，面馆内的布置细节丰富，还能透过窗户和窗外的樱花看到远处的富士山。</p><p><a href="/playground/stable-diffusion/van-gogh-style-lora/profniu-wechat-avatar.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/profniu-wechat-avatar.png"></a></p><p>我们丢到图生图，用梵高风格重绘一下：</p><div class="lightgallery"><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00017-945388574.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00017-945388574.png"></a><br><a href="/playground/stable-diffusion/van-gogh-style-lora/00025-945388582.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00025-945388582.png"></a><br><a href="/playground/stable-diffusion/van-gogh-style-lora/00030-945388587.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00030-945388587.png"></a><br><a href="/playground/stable-diffusion/van-gogh-style-lora/00059-1511553299.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00059-1511553299.png"></a></p></div><p>虽然手的问题一直存在——很显然 AI 也搞不清楚你们这些人类到底是怎么做到一只手拿筷子另外一只手端碗的<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>——但风格还是非常明显，大成功！</p><p>接着我们以阿锅家的法国斗牛犬为创作主题。有一天，阿锅忙于思考人生，家里的小狗只能穿上 Labcoat，替父从军，不，替主人去实验室里搬砖的感人故事：</p><p>第一次就接受这么重大的任务，慎重思考实验方案；</p><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00160-3920061412.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00160-3920061412.png"></a></p><p>有思路了！然后去仓库里拿实验器材：</p><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00161-3920061413.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00161-3920061413.png"></a></p><p>呼呼~ 实验顺利进行中：</p><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00178-2773427644.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00178-2773427644.png"></a></p><p>与实验室同事亲切沟通实验结果，毫无疑问，这次的实验数据很有价值：</p><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00180-2773427646.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00180-2773427646.png"></a></p><p>大成功，来一杯香槟庆祝一下！</p><p><a href="/playground/stable-diffusion/van-gogh-style-lora/00183-2773427649.png" class="gallery-item"><img src="/playground/stable-diffusion/van-gogh-style-lora/00183-2773427649.png"></a><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline; vertical-align: top;">吃拉面也是可以优化的，一位日本玩家特地开发了一个名叫 <a href="https://civitai.com/models/22359/betterrameneating">BetterRamenEating</a> 的 Lora。前面的图只要加上这个 Lora，猫咪就能学会正确的拉面食用姿势了。</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;今天推荐的 Lora 是 &lt;a href=&quot;https://civitai.com/models/100873/van-gogh-style&quot;&gt;Van Gogh Style&lt;/a&gt;，还原度极高。以 &lt;code&gt;a young beautiful girl&lt;/code&gt; 常规起手，底模选用 &lt;a href=&quot;https://civitai.com/models/4384/dreamshaper&quot;&gt;DreamShaper&lt;/a&gt;，Prompts 如下；&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;masterpiece, best quality, 8k, ultra detailed, simple background, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;a young beautiful girl, &amp;lt;lora:vgv1:1&amp;gt;, vg, painting by van gogh, vincent van gogh style,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;a href=&quot;/playground/stable-diffusion/van-gogh-style-lora/00338-1039788934.png&quot; class=&quot;gallery-item&quot;&gt;&lt;img src=&quot;/playground/stable-diffusion/van-gogh-style-lora/00338-1039788934.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;大笔厚涂，油画颜料的堆叠极富体积感，笔触感极佳，这一点比同类型的 Lora 都要突出，甚至真实得有些叫人心疼，这种画法是不是太费颜料了……&lt;/p&gt;</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="Stable Diffusion" scheme="https://waxa.design/categories/playground/stable-diffusion/"/>
    
    
    <category term="AIGC" scheme="https://waxa.design/tags/AIGC/"/>
    
    <category term="stable-diffusion" scheme="https://waxa.design/tags/stable-diffusion/"/>
    
    <category term="van-gogh" scheme="https://waxa.design/tags/van-gogh/"/>
    
    <category term="LORA" scheme="https://waxa.design/tags/LORA/"/>
    
  </entry>
  
  <entry>
    <title>iPhone 1x 信号故障</title>
    <link href="https://waxa.design/blog/iphone-1x-signal-failure/"/>
    <id>https://waxa.design/blog/iphone-1x-signal-failure/</id>
    <published>2023-06-08T10:31:25.000Z</published>
    <updated>2023-06-08T11:40:25.913Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>下午一点半，陶小婧出门，我则在家校书。</p><p>大概三点钟，电话铃响了。陶小婧说手机很奇怪，没有网络信号。开关飞行模式、重启动手机都试过了，就是连不了网，因为没网络，所以也打不了车，好在还能打电话，只能麻烦我过去接她。</p><p>到地方接着人，顺便检查了一下手机，信号是满格，但后面的文字不是 4G，而是一个从未见过的 1x，果然奇怪。试着进入飞行模式，十秒钟之后再关闭，然而正如陶小婧所说，没有任何效果。</p><p>在路边不便久留，于是先回家。</p><p>回家用 <em>“iPhone 1x 上不了网”</em> 作为关键词搜索了一下。原来 1x 表示 CDMA 的原始速率，该症状一般出现在电信手机上，解决办法各种各样，略举如下：</p><ol><li>用飞行模式重置网络；</li><li>进入菜单，按 <em>“通用 &gt; 关于手机 &gt; 还原 &gt; 还原网络设置”</em> 重置网络；</li><li>关机，重启；</li><li>拔卡重插，重启；</li><li>去电信换张 SIM 卡；</li><li>去苹果天才吧报修；</li></ol><p>前面四种一一试过，症状如故。感觉很棘手，赶紧让陶小婧搜索了 Apple Store 的地址，以备不虞。不过出一趟门毕竟成本太高，还是先弄清楚具体是卡的问题还是手机的问题。把我的手机也拿出来，拔下两台手机的 SIM 卡。陶小婧的电信卡我还用酒精棉仔细擦拭了一遍，然后遍历操作：</p><ol><li>把我的联通卡装到陶小婧的 iPhone 上，网络正常，说明 iPhone 没问题；</li><li>把陶小婧的电信卡装到我的 Vivo 上，嘿，居然也正常，说明 SIM 卡也没问题；</li><li>那到底是什么问题？兼容性问题？但这张卡插在这部手机上已经有三年多了。</li></ol><p>没奈何，把卡各自插回原手机，看看有没有别的办法。然后过了一会，陶小婧惊叫，网络恢复正常了。</p><p>妈的，居然稀里糊涂就好了……</p><p>中间看过 Bilibili 上<a href="https://www.bilibili.com/video/BV19r4y1b7e4">一个视频</a>，有两点可以对得上：先清洁 SIM 卡；再用另外一张卡切换网络。因为陶小婧的 iPhone 只有单卡槽，所以只能通过换我的卡来完成这个过程。</p><p>是为记，希望对发生同样故障的朋友有帮助。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article</summary>
      
    
    
    
    <category term="日常" scheme="https://waxa.design/categories/blog/"/>
    
    
    <category term="iPhone" scheme="https://waxa.design/tags/iPhone/"/>
    
    <category term="信号故障" scheme="https://waxa.design/tags/%E4%BF%A1%E5%8F%B7%E6%95%85%E9%9A%9C/"/>
    
  </entry>
  
  <entry>
    <title>SONY 相机文件名前缀的下划线</title>
    <link href="https://waxa.design/playground/gears/sony-camera-filename-underscore/"/>
    <id>https://waxa.design/playground/gears/sony-camera-filename-underscore/</id>
    <published>2023-06-05T07:19:42.000Z</published>
    <updated>2023-06-05T10:42:54.378Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>我用 SONY 相机拍摄的照片，不知为何，文件名都有一条前缀的下划线，比如 <code>_DSC9527.jpg</code>。记得最早是没有的，但因为无伤大雅，就一直略过了。</p><p>最近改用 <a href="/playground/web/hexo-and-new-blog/">Hexo</a>，前缀下划线 <code>_</code> 的文件，Hexo 默认是不处理的。这就导致了一个很尴尬的问题：直接把照片拖入 Obsidian 文档中，生成静态网页之后刷新却不显示。手动去除下划线，问题倒是暂时修复了，不过我还是想弄明白这其中的因果，毕竟照片那么多，也不可能每次都手动纠正。</p><p>一搜索，这个问题似乎确实微不足道，中文网络还不曾有人讨论过。改用英文搜索，很快就有了答案：原来因为把色彩空间设置成了 Adobe RGB。如果进入机身菜单，改回默认的 sRGB，下划线就会消失 <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>。</p><p>既然规范如此，我又不可能因此放弃 Adobe RGB，那岂不是无法可想，只能每次手动操作，任劳任怨？</p><p>其实也很简单，给文件批量重命名的方法有无数个，自选一种即可。之前给 Obsidian 安装过一个插件，叫做 <a href="https://github.com/RainCat1998/obsidian-custom-attachment-location">Custom Attachment Location</a>，打开插件设置界面，将 <code>Automatically rename attachment files</code> 选项打开。这样每次把照片插入 Obsidian 时，插件就会按照时间码自动将其重命名。</p><p>之前因为命名规则太少，只有时间码和文件名两个参数可用，我嫌它不够灵活就没有考虑启用，没想到有些缘分终究逃不掉。</p><p>搞定收工。<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline; vertical-align: top;">原帖来自 <a href="https://www.dpreview.com/forums/thread/3976976">DPReview 论坛</a> <em>（这么好的网站居然要 shut down 了，呜呼）</em>，答疑的大佬还给了 SONY 一个清白。因为这并非 SONY 一家的问题，DCF 就是这样规范的，而相机厂商都遵循相同的规范。因为我只有 SONY 的相机，所以无法验证别家的机器是否同样如此。有关 DCF 规范，详见 <a href="https://en.wikipedia.org/wiki/Design_rule_for_Camera_File_system">https://en.wikipedia.org/wiki/Design_rule_for_Camera_File_system</a></span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article</summary>
      
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="器用" scheme="https://waxa.design/categories/playground/gears/"/>
    
    
    <category term="SONY" scheme="https://waxa.design/tags/SONY/"/>
    
    <category term="相机" scheme="https://waxa.design/tags/%E7%9B%B8%E6%9C%BA/"/>
    
    <category term="文件名" scheme="https://waxa.design/tags/%E6%96%87%E4%BB%B6%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>夜访山塘</title>
    <link href="https://waxa.design/tours/shantang-at-night/"/>
    <id>https://waxa.design/tours/shantang-at-night/</id>
    <published>2023-06-05T02:13:25.000Z</published>
    <updated>2023-07-13T00:45:27.296Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>周末的山塘令人望而却步。从新民桥下来，仿佛立马被卷入洪流，被熙熙攘攘的人群一直裹挟着向前向前。每个店门外都排着长队，每座石桥上都挤满了取景拍照的游人，每个巷口都盘踞着吃小吃的食客，连屋檐下的每一盏灯笼都有些咄咄逼人似的急于招徕。寄身其中，既不能像逛园林一样从容游览，也不像日常逛街买菜一般轻松自在。</p><span id="more"></span><p>水运被陆运取代以后，苏州繁荣了上千年的河网水道，恐怕只有山塘河靠近阊门这一段依旧忙碌。无论是朝宗阁前，还是御碑亭后，游船码头始终排着长龙。</p><p>朝宗阁码头放着一支大喇叭，开着大音量一直重复：“排队请分成两列，50元的排外侧，100元的排内侧。”特别烦人。我们还没有坐过游船，也不知100元的票能否直通虎丘，体验到完整的七里山塘？</p><p><a href="/tours/shantang-at-night/DSC3440.jpg" title="游船码头排队检票的长队" class="gallery-item"><img src="/tours/shantang-at-night/DSC3440.jpg" alt="游船码头排队检票的长队"><span class="image-caption">游船码头排队检票的长队</span></a><br><a href="/tours/shantang-at-night/DSC3455.jpg" title="人头攒动" class="gallery-item"><img src="/tours/shantang-at-night/DSC3455.jpg" alt="人头攒动"><span class="image-caption">人头攒动</span></a></p><p>从新民桥进山塘街，商会博物馆就在入口不远处。这里原是闽商所建的汀州会馆，苏州总商会的原址在何处，一时查找不到了，不过印象里艺圃倒也做过什么商会的会馆？</p><p>商业发达的地方，民众的物权意识会更早萌发，民间自治团体也更活跃。看展厅内容，自清末民初起，苏州的各种商会、民团、公社都发展迅速，等到红朝建政，就只能团结在红旗下全体起立鼓掌，庆祝公私合营罢了。</p><p><a href="/tours/shantang-at-night/DSC3441.jpg" title="苏州商会博物馆" class="gallery-item"><img src="/tours/shantang-at-night/DSC3441.jpg" alt="苏州商会博物馆"><span class="image-caption">苏州商会博物馆</span></a><br><a href="/tours/shantang-at-night/DSC3443.jpg" title="庭树灯影" class="gallery-item"><img src="/tours/shantang-at-night/DSC3443.jpg" alt="庭树灯影"><span class="image-caption">庭树灯影</span></a></p><p>苏州商号众多，不少民国时期的海报、商标设计都很优秀。</p><p><a href="/tours/shantang-at-night/DSC3442.jpg" title="金阊下塘桃坞市民公社浚河报告册" class="gallery-item"><img src="/tours/shantang-at-night/DSC3442.jpg" alt="金阊下塘桃坞市民公社浚河报告册"><span class="image-caption">金阊下塘桃坞市民公社浚河报告册</span></a><br><a href="/tours/shantang-at-night/DSC3444.jpg" title="民国的设计挺棒" class="gallery-item"><img src="/tours/shantang-at-night/DSC3444.jpg" alt="民国的设计挺棒"><span class="image-caption">民国的设计挺棒</span></a></p><p>从阊门桥右转，便能看到白傅祠宽大的门头，左书山塘始祖，右书乐府诗神。白公真可谓造福一方遗泽千年。</p><p><a href="/tours/shantang-at-night/DSC3459.jpg" title="唐少傅白公祠" class="gallery-item"><img src="/tours/shantang-at-night/DSC3459.jpg" alt="唐少傅白公祠"><span class="image-caption">唐少傅白公祠</span></a></p><p>白傅祠是免费景点，所以进门参观的游人不少。只不过里头远不如大门那么唬人，只有一重院落。穿过主殿，后面就是朝宗阁。</p><p>之前在北码头看到朝宗阁，陶小婧问我是什么地方？我说百鸟朝凤万法朝宗，既然是码头，那旧时的商人载货至此，就免不了上岸拜码头。周礼春官书云：<em>春见曰朝，夏见曰宗，秋见曰觐，冬见曰遇。</em> 客商远来，态度自须恭敬，然而码头上的大佬们飘飘然以朝宗自命，则不免有僭越的嫌疑。好在这些封建残余早已肃清，此处只剩山塘画舫之售票处了。</p><p>朝宗阁的匾额下面挂着寻根祭祖的牌子，也不知是什么操作？</p><p><a href="/tours/shantang-at-night/DSC3465.jpg" title="朝宗阁" class="gallery-item"><img src="/tours/shantang-at-night/DSC3465.jpg" alt="朝宗阁"><span class="image-caption">朝宗阁</span></a></p><p>山塘街无非是白墙黛瓦，画船流水，还有晚上挂起的灯笼。终年灯火鱼龙夜，盛世清明上河图。但最动人的故事往往发生在灯火阑珊处。</p><p><a href="/tours/shantang-at-night/DSC3466.jpg" class="gallery-item"><img src="/tours/shantang-at-night/DSC3466.jpg"></a><br><a href="/tours/shantang-at-night/DSC3478.jpg" class="gallery-item"><img src="/tours/shantang-at-night/DSC3478.jpg"></a><br><a href="/tours/shantang-at-night/DSC3480.jpg" class="gallery-item"><img src="/tours/shantang-at-night/DSC3480.jpg"></a><br><a href="/tours/shantang-at-night/DSC3458.jpg" class="gallery-item"><img src="/tours/shantang-at-night/DSC3458.jpg"></a></p><p>海市山塘的名字取得很妙，似乎暗示着这一场繁华，原不过是海市蜃楼，迷天幻境。商场内立着几十百面镜子，行走其中，一不留神就容易生出一种恍惚迷离之感。</p><p><a href="/tours/shantang-at-night/DSC3490.jpg" title="海市山塘" class="gallery-item"><img src="/tours/shantang-at-night/DSC3490.jpg" alt="海市山塘"><span class="image-caption">海市山塘</span></a></p><p>不过这套设计确实是极好的。</p><p><a href="/tours/shantang-at-night/DSC3485.jpg" class="gallery-item"><img src="/tours/shantang-at-night/DSC3485.jpg"></a><br><a href="/tours/shantang-at-night/DSC3486.jpg" class="gallery-item"><img src="/tours/shantang-at-night/DSC3486.jpg"></a></p><p>国内的文化旅游产业是日趋兴盛了，古镇仿佛也送上了工业大国的生产线，和别的商业地产一样，数年之间即遍布全国，而且还在不断炮制之中。</p><p>苏州的古镇当然自有它的底蕴，但这类面向大众的开放式步行街，商业结构总会慢慢向大众倾斜，注定要失去它的本来面目。而且人气越火爆，竞争压力就越大，经营成本越高，那些立足本地的小而精的东西就越是无法立足，最后变成我们熟悉的低成本快节奏的奶茶果汁小吃烧烤臭豆腐伴手礼。</p><p><a href="/tours/shantang-at-night/DSC3492.jpg" title="等待游客的黄包车" class="gallery-item"><img src="/tours/shantang-at-night/DSC3492.jpg" alt="等待游客的黄包车"><span class="image-caption">等待游客的黄包车</span></a></p><p>晚归之际，霓虹灯影不及笼罩的路侧，停着几辆等待客人光顾的黄包车，一位老车夫讷讷地坐在乘客的位置上，周身披着幽幽的黄色路灯。在一个经济还不够发达的环境里，那些古老的商业模式终将隐退，让位于更时髦更快捷的大众消费。老车夫退休以后，黄包车恐怕也将在山塘街头消失。</p><p>跨上灵活的 72V 电动车，我在晚风中驱动电门，向城北呼啸而去。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;周末的山塘令人望而却步。从新民桥下来，仿佛立马被卷入洪流，被熙熙攘攘的人群一直裹挟着向前向前。每个店门外都排着长队，每座石桥上都挤满了取景拍照的游人，每个巷口都盘踞着吃小吃的食客，连屋檐下的每一盏灯笼都有些咄咄逼人似的急于招徕。寄身其中，既不能像逛园林一样从容游览，也不像日常逛街买菜一般轻松自在。&lt;/p&gt;</summary>
    
    
    
    <category term="游历" scheme="https://waxa.design/categories/tours/"/>
    
    
    <category term="苏州" scheme="https://waxa.design/tags/%E8%8B%8F%E5%B7%9E/"/>
    
    <category term="山塘街" scheme="https://waxa.design/tags/%E5%B1%B1%E5%A1%98%E8%A1%97/"/>
    
    <category term="夜游" scheme="https://waxa.design/tags/%E5%A4%9C%E6%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title>曲园的菖蒲</title>
    <link href="https://waxa.design/tours/quyuan-and-calamus/"/>
    <id>https://waxa.design/tours/quyuan-and-calamus/</id>
    <published>2023-06-04T07:31:52.000Z</published>
    <updated>2023-07-13T00:46:07.112Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>曲园这周有个菖蒲展。失业在家，终日都是闲暇，就骑上小电驴载着陶小婧进了城。</p><p>菖蒲自然趁着端午的时令，虽然今年过节颇有些迟。小时候过节，除了粽子，家里还要做咸鸭蛋、茶叶蛋和蒸发糕，有几年还蒸过蒜头。蒜头是成捆蒸的，不知别处有没有这样的吃法。起锅，端上桌，就着腾腾热气剥开蒜皮，辛香扑鼻。蒜子是秀润的白色，入口辣中带甜，并不像配菜的蒜泥那般呛人，只是不知道后来为何不太做了。</p><p>咸鸭蛋是小朋友的最爱，他们倒不是为了吃，而是拿去碰。通常先在盆里翻检一遍，取蛋形长而锐者，握在掌心，掂一掂分量，再举到透光处，仔细观察内部有没有多余的气孔，总之要紧实沉手。选好了，一溜烟奔到屋场，遇到别的小朋友，两边叫阵，各自撸起袖子亮出鸭蛋，定要来一番比试较量。这时免不了群众围观，几个小脑瓜团团围住，中间两位选手凝神屏气，蓄力待发。鸭蛋的两头自是有尖有圆，将咸鸭蛋攥在手心，只露尖头，防止被狡黠的对手从侧面击破。蓦地一声稚叱，好似天雷交地火，火星撞地球，啪的一声，刹那间胜负已分。观者尚未分明，胜者已经欢欣踊跃，气势高扬挑选下一个对手，败者则垂头丧气，默默将破掉的咸鸭蛋剥了壳含泪吞下。</p><p>端午一早晨，大人就会在大门两侧的竹筒内插上菖蒲和艾叶 <em>（艾叶本地又唤作蕲艾）</em>。当时只晓得包粽子的是粽叶，并不知道这透着夏日清香的修长的叶子叫菖蒲。</p><span id="more"></span><p>到了高中，看浪客剑心的漫画，后来又看了追忆篇的 OVA。追忆篇里，小萩屋的老板娘对巴说：“<em>雨中的菖蒲是最香的，在太阳底下味道就隐藏起来了。</em>”</p><p>后来又说：“<em>菖蒲花，是雨中最香的花，即使是血雨腥风中。</em>”</p><p>这几句形容菖蒲花的台词，和追忆篇一道给我留下了极深的印象 <em>（当然还有沉郁悱恻的 OST，个人心中的动漫史最高杰作之一）</em>。</p><p><a href="/tours/quyuan-and-calamus/image-20230604144702408.jpeg" title="追忆篇中的菖蒲花" class="gallery-item"><img src="/tours/quyuan-and-calamus/image-20230604144702408.jpeg" alt="追忆篇中的菖蒲花"><span class="image-caption">追忆篇中的菖蒲花</span></a></p><p>只是真正的菖蒲花，我却至今没有见过。所以一听陶小婧说曲园有菖蒲展出，自然是颇饶兴味，说走就走。</p><p>到曲园停好车，一进大门，就看到醒目的展览主题：清风高洁，2023曲园菖蒲艺术展——暨市级机关政德专题教育活动，隐隐觉得有些不妙。</p><p>乐知堂内人头涌动，想必都是组团前来打卡的公务员，保安在旁维持秩序，只听他不停劝导：“不能摸呀，这个不好摸的呀。”我凑近去一看，才发现里面展出的是一盆盆极细小的水草，和形状各异的小巧太湖石摆在一起，作为盆景放在台案上。</p><p><a href="/tours/quyuan-and-calamus/DSC3285.jpg" title="石菖蒲" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3285.jpg" alt="石菖蒲"><span class="image-caption">石菖蒲</span></a></p><p><a href="/tours/quyuan-and-calamus/DSC3276.jpg" title="石菖蒲" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3276.jpg" alt="石菖蒲"><span class="image-caption">石菖蒲</span></a><br><a href="/tours/quyuan-and-calamus/DSC3277.jpg" title="石菖蒲" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3277.jpg" alt="石菖蒲"><span class="image-caption">石菖蒲</span></a></p><p>既非童年记忆里的菖蒲叶子，期待的菖蒲花也踪影全无，心中失望，差点掉头就走。</p><p>后来回家仔细研究，才知道这是菖蒲科菖蒲属的石菖蒲，自古是风雅之士赏玩的案头清供。又叫金钱蒲，足见君子爱财之本意。</p><p>端午节与艾叶一起挂在门上辟邪的叶子，则是天南星科菖蒲属的菖蒲，它也会开花，但小小一朵，呈黄绿色，极不起眼，也难怪我毫无印象。菖蒲会在秋天结出红色的浆果，小时候倒是经常在田里或是沟边见到，只是全然不知那是菖蒲的果子。</p><p>而此行本欲一睹芳容的紫色菖蒲花，又别是一种，叫做唐菖蒲，是鸢尾科唐菖蒲属，原产于非洲好望角，国内亦有广泛栽培。唐菖蒲是杂交品种，花色繁多，并不限于紫色，但因为不野生，所以上世纪末的乡下老家自然无缘得见。</p><p>至此算是了然了，这三者除了名字相近，都叫菖蒲，生物学意义上本来就没有多大关联 。如果博闻强识，号人肉百科全书如肥猫者，定无此厄，然而我不学无术，自然免不了乘兴而来落寞而归。</p><hr><p>曲园是第二次来，上次来还是<a href="/tours/2020-suzhou/#%E6%9B%B2%E5%9B%AD">三年前</a> <em>（也许是第三次，因为那次已说是重游，只不过更早的一次，我已经没什么印象了，也没有留下文字或照片）</em>。曲园没有大变，倒是自己的生活天翻地覆，从此地的游客变成了居民，抚今追昔，不无沧桑陵谷之思。</p><p><a href="/tours/quyuan-and-calamus/DSC3358.jpg" title="前厅画像" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3358.jpg" alt="前厅画像"><span class="image-caption">前厅画像</span></a></p><p>停车靠近侧门，侧门向来是锁闭的，门上贴的春联尚未褪色：</p><div class="poem"><p>新元肇启开泰运<br>前兔似锦呈吉祥</p></div><p>今年的春节过得略草草，一读才反应过来已是兔年。游到后院，办公室的窗玻璃上也贴着兔年的贴纸，颇为可爱。若按旧俗，虎年的小朋友都十三岁了。真可谓年与时驰，意与日去，接下来可不能悲守穷庐，否则就真变成多不接世，遂成枯落了。</p><p><a href="/tours/quyuan-and-calamus/DSC3251.jpg" title="兔年春联" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3251.jpg" alt="兔年春联"><span class="image-caption">兔年春联</span></a><br><a href="/tours/quyuan-and-calamus/DSC3326.jpg" title="窗户上兔年的贴纸" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3326.jpg" alt="窗户上兔年的贴纸"><span class="image-caption">窗户上兔年的贴纸</span></a></p><p>在苏州，曲园只是个不见经传的小园子，游客不多，又不收门票，虽然不像艺圃的延光阁一样每天茶客满座，后院亦尽有二三长者，或盘桓屋檐下，或逍遥水池边，从容闲坐，谈天品茗，于小小院落之中各占浮生半日闲，倒显得拍完照就走的我有些匆忙了。</p><p><a href="/tours/quyuan-and-calamus/DSC3352.jpg" title="树荫下聊天的阿姨" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3352.jpg" alt="树荫下聊天的阿姨"><span class="image-caption">树荫下聊天的阿姨</span></a></p><p>小竹里馆清幽不减，石榴花也开得极好。蔷薇倒差不多都谢了，只剩认春轩前数朵。</p><p><a href="/tours/quyuan-and-calamus/DSC3377.jpg" title="小竹里馆" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3377.jpg" alt="小竹里馆"><span class="image-caption">小竹里馆</span></a><br><a href="/tours/quyuan-and-calamus/DSC3329.jpg" title="石榴花" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3329.jpg" alt="石榴花"><span class="image-caption">石榴花</span></a><br><a href="/tours/quyuan-and-calamus/DSC3299.jpg" title="蔷薇" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3299.jpg" alt="蔷薇"><span class="image-caption">蔷薇</span></a></p><p>池中锦鲤可百许头，比前几天在耦园看到的多而且活泼。这些鱼也很爱聚众的样子，时东时西，总是抱团游走。</p><p><a href="/tours/quyuan-and-calamus/DSC3350.jpg" title="池鱼" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3350.jpg" alt="池鱼"><span class="image-caption">池鱼</span></a></p><p>又在后院刻石上曲园老人的自制印，方圆并济，立意极佳，比例极协调。曲园老人如果生活在当代，想必也足以成为一个了不起的设计师吧？</p><p><a href="/tours/quyuan-and-calamus/DSC3323.jpg" title="曲园" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3323.jpg" alt="曲园"><span class="image-caption">曲园</span></a></p><p>最后是陶小婧压轴出场。</p><p><a href="/tours/quyuan-and-calamus/DSC3360.jpg" title="在乐知堂前" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3360.jpg" alt="在乐知堂前"><span class="image-caption">在乐知堂前</span></a><br><a href="/tours/quyuan-and-calamus/DSC3331.jpg" title="陶小婧在曲园" class="gallery-item"><img src="/tours/quyuan-and-calamus/DSC3331.jpg" alt="陶小婧在曲园"><span class="image-caption">陶小婧在曲园</span></a></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;曲园这周有个菖蒲展。失业在家，终日都是闲暇，就骑上小电驴载着陶小婧进了城。&lt;/p&gt;
&lt;p&gt;菖蒲自然趁着端午的时令，虽然今年过节颇有些迟。小时候过节，除了粽子，家里还要做咸鸭蛋、茶叶蛋和蒸发糕，有几年还蒸过蒜头。蒜头是成捆蒸的，不知别处有没有这样的吃法。起锅，端上桌，就着腾腾热气剥开蒜皮，辛香扑鼻。蒜子是秀润的白色，入口辣中带甜，并不像配菜的蒜泥那般呛人，只是不知道后来为何不太做了。&lt;/p&gt;
&lt;p&gt;咸鸭蛋是小朋友的最爱，他们倒不是为了吃，而是拿去碰。通常先在盆里翻检一遍，取蛋形长而锐者，握在掌心，掂一掂分量，再举到透光处，仔细观察内部有没有多余的气孔，总之要紧实沉手。选好了，一溜烟奔到屋场，遇到别的小朋友，两边叫阵，各自撸起袖子亮出鸭蛋，定要来一番比试较量。这时免不了群众围观，几个小脑瓜团团围住，中间两位选手凝神屏气，蓄力待发。鸭蛋的两头自是有尖有圆，将咸鸭蛋攥在手心，只露尖头，防止被狡黠的对手从侧面击破。蓦地一声稚叱，好似天雷交地火，火星撞地球，啪的一声，刹那间胜负已分。观者尚未分明，胜者已经欢欣踊跃，气势高扬挑选下一个对手，败者则垂头丧气，默默将破掉的咸鸭蛋剥了壳含泪吞下。&lt;/p&gt;
&lt;p&gt;端午一早晨，大人就会在大门两侧的竹筒内插上菖蒲和艾叶 &lt;em&gt;（艾叶本地又唤作蕲艾）&lt;/em&gt;。当时只晓得包粽子的是粽叶，并不知道这透着夏日清香的修长的叶子叫菖蒲。&lt;/p&gt;</summary>
    
    
    
    <category term="游历" scheme="https://waxa.design/categories/tours/"/>
    
    
    <category term="苏州" scheme="https://waxa.design/tags/%E8%8B%8F%E5%B7%9E/"/>
    
    <category term="园林" scheme="https://waxa.design/tags/%E5%9B%AD%E6%9E%97/"/>
    
    <category term="曲园" scheme="https://waxa.design/tags/%E6%9B%B2%E5%9B%AD/"/>
    
    <category term="菖蒲" scheme="https://waxa.design/tags/%E8%8F%96%E8%92%B2/"/>
    
  </entry>
  
  <entry>
    <title>相城基督堂</title>
    <link href="https://waxa.design/blog/xiangcheng-christ-church/"/>
    <id>https://waxa.design/blog/xiangcheng-christ-church/</id>
    <published>2023-06-02T00:00:00.000Z</published>
    <updated>2023-07-13T00:48:30.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>散步路过相城基督堂，时值黄昏，教堂方正的轮廓和屋顶的十字架在黯淡的半空中黝黑如铸铁。于路口小伫，晚风颇有些萧瑟，成群的蚊虫在一旁忙碌而自在地嗡嗡盘旋着，不远处是虎丘湿地公园未开发的荒凉草甸，路面上不时有大货车轰隆而来扬尘而去。一时间有些茫然自失，有句话冷不丁在脑中响起：神啊，救救这世人。</p><p>然后反应过来，自己既不信神，世人也无需拯救，一笑遂去。</p><p><a href="/blog/xiangcheng-christ-church/DSC3221.jpg" title="相城基督堂" class="gallery-item"><img src="/blog/xiangcheng-christ-church/DSC3221.jpg" alt="相城基督堂"><span class="image-caption">相城基督堂</span></a></p><span id="more"></span><p><a href="/blog/xiangcheng-christ-church/DSC3209.jpg" title="虎丘湿地公园一角" class="gallery-item"><img src="/blog/xiangcheng-christ-church/DSC3209.jpg" alt="虎丘湿地公园一角"><span class="image-caption">虎丘湿地公园一角</span></a></p><p>虎丘湿地公园占地面积怕是有半个苏州城那么大了，一直无缘游赏。今天路过才发现，这地方要全部开发完恐怕还尚需时日，风吹草低，茫茫无际，只欠晚归的牛羊。</p><p>湿地公园边的一条小路上，搭满了长条形的箱式临时房屋，聚居着在此施工的民工与工程相关人员。差不多是晚饭时间了，十几辆三轮车凑成一个临时的廉价市集，大多挂着黄色的白炽灯，供应简餐盒饭与各色熟食，甚至有一辆提供理发服务的小巴士。此地的居民纷纷出动，在这荒废且蓬勃的草甸边缘，倒也自成一番热闹的景象。</p><p><a href="/blog/xiangcheng-christ-church/DSC3210.jpg" title="某条小路" class="gallery-item"><img src="/blog/xiangcheng-christ-church/DSC3210.jpg" alt="某条小路"><span class="image-caption">某条小路</span></a></p><p>又记，生活在南方，夏天的蚊虫就无可避免。陶小婧每次出门，总不免被叮出满身的包。而非敏感体质的我，顶多也就是几个淡淡的红点而已，令她颇为嫉妒。</p><p>今天更是搞笑，两个虎口外侧各被咬出一个大包，完全对称，看来也有恪守审美之道的讲究蚊子。人要吃饭，蚊子就要吸血，大家都只能遵从自然法则讨生活，Respect。</p><p><a href="/blog/xiangcheng-christ-church/DSC3205.jpg" title="两只手叮出来两个对称的包" class="gallery-item"><img src="/blog/xiangcheng-christ-church/DSC3205.jpg" alt="两只手叮出来两个对称的包"><span class="image-caption">两只手叮出来两个对称的包</span></a></p><p>又，在河边看到两只水鸟，高额红喙，羽毛全黑，惟两翅有白色，一前一后，悠游水面。后来走入荷叶从中，或相逐嬉戏，或低头啄食。回家搜索资料，原来叫<a href="https://baike.baidu.com/item/%E9%BB%91%E6%B0%B4%E9%B8%A1/4524074">黑水鸡</a>，是鹤形目秧鸡科水鸡属，倒是从前所不知道的新物种。</p><p><a href="/blog/xiangcheng-christ-church/DSC3201.jpg" title="荷叶中的黑水鸡" class="gallery-item"><img src="/blog/xiangcheng-christ-church/DSC3201.jpg" alt="荷叶中的黑水鸡"><span class="image-caption">荷叶中的黑水鸡</span></a></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;散步路过相城基督堂，时值黄昏，教堂方正的轮廓和屋顶的十字架在黯淡的半空中黝黑如铸铁。于路口小伫，晚风颇有些萧瑟，成群的蚊虫在一旁忙碌而自在地嗡嗡盘旋着，不远处是虎丘湿地公园未开发的荒凉草甸，路面上不时有大货车轰隆而来扬尘而去。一时间有些茫然自失，有句话冷不丁在脑中响起：神啊，救救这世人。&lt;/p&gt;
&lt;p&gt;然后反应过来，自己既不信神，世人也无需拯救，一笑遂去。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/blog/xiangcheng-christ-church/DSC3221.jpg&quot; title=&quot;相城基督堂&quot; class=&quot;gallery-item&quot;&gt;&lt;img src=&quot;/blog/xiangcheng-christ-church/DSC3221.jpg&quot; alt=&quot;相城基督堂&quot;&gt;&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="日常" scheme="https://waxa.design/categories/blog/"/>
    
    
    <category term="苏州" scheme="https://waxa.design/tags/%E8%8B%8F%E5%B7%9E/"/>
    
    <category term="公园" scheme="https://waxa.design/tags/%E5%85%AC%E5%9B%AD/"/>
    
    <category term="教堂" scheme="https://waxa.design/tags/%E6%95%99%E5%A0%82/"/>
    
    <category term="虎丘湿地公园" scheme="https://waxa.design/tags/%E8%99%8E%E4%B8%98%E6%B9%BF%E5%9C%B0%E5%85%AC%E5%9B%AD/"/>
    
  </entry>
  
  <entry>
    <title>用 Synology Drive 同步 Obsidian 仓库</title>
    <link href="https://waxa.design/playground/apps/obsidian-sync-with-synology-drive/"/>
    <id>https://waxa.design/playground/apps/obsidian-sync-with-synology-drive/</id>
    <published>2023-05-31T11:36:27.000Z</published>
    <updated>2023-07-15T07:10:58.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>转用 Hexo 以后，在桌面端更新是没问题了，但如果出门在外，又希望分享一些东西，能否做到呢？</p><p>我平时都用 Obsidian 来写 Markdown，在 <a href="/playground/web/hexo-and-new-blog/">Hexo 的安装与配置</a> 一文中，我介绍了如何配置 Obsidian 与 Hexo 无缝协作。Obsidian 也有移动端 App，所以这两天就想，能否通过网盘同步 Obsidian 的仓库，随时随地写 Hexo 里面的 Markdown 呢？</p><span id="more"></span><p>同时为了开源节流，如果目标能通过 NAS 搞定，就尽量不使用云服务。我家的 NAS 装的是 Unraid，同时也通过虚拟机装了群晖。最近因为 OneDrive 被墙，所以一直考虑逐步用 Synology Drive 作为替代。既然如此，不如就先试试能否用 Synology Drive 来同步 Obsidian 仓库。</p><h2 id="Synology-Drive-服务器端"><a href="#Synology-Drive-服务器端" class="headerlink" title="Synology Drive 服务器端"></a>Synology Drive 服务器端</h2><p>打开 Synology Drive 管理控制台，在团队文件夹里启用 Hexo 所在的 <code>web</code> 文件夹。</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/image-20230605073051037.png" title="Synology Drive 服务器端配置" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/image-20230605073051037.png" alt="Synology Drive 服务器端配置"><span class="image-caption">Synology Drive 服务器端配置</span></a></p><p>不过团队文件夹只能选择根目录下面的文件夹，不能直接定位至 Markdown 文档所在的 <code>/web/Hexo/source</code>，略有遗憾。</p><h2 id="Synology-Drive-手机端"><a href="#Synology-Drive-手机端" class="headerlink" title="Synology Drive 手机端"></a>Synology Drive 手机端</h2><p>服务器端的配置就到此为止，接下来下载移动端的 Synology Drive。</p><p>我用的是 Android 手机，App 怎么下载不赘述。打开 App，登录到自家的群晖，进入主界面，从下方的主菜单转到“<strong>更多</strong>”。</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/synology-drive-settings.png" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/synology-drive-settings.png"></a></p><p>然后点击“备份和同步任务”，里面只有两个选项，一个是“照片备份”，群晖用户备份照片肯定用 Synology Photos，这里略过就好。另外一个是“同步任务”：</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/bcc97caa90e8e04bfa21ba54643d15a.jpg" title="备份和同步任务" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/bcc97caa90e8e04bfa21ba54643d15a.jpg" alt="备份和同步任务"><span class="image-caption">备份和同步任务</span></a></p><p>点击同步任务，初次打开列表自然是空白的，直接点击右上角的加号，开始创建任务：</p><p><a href="/724ab0f60709fefb8416589d9747982.jpg" title="创建同步任务" class="gallery-item"><img src="/724ab0f60709fefb8416589d9747982.jpg" alt="创建同步任务"><span class="image-caption">创建同步任务</span></a></p><p>我们逐个设置界面上的各种选项：</p><ol><li><strong>服务器上的远程路径</strong>，就是我们之前在服务器上指定的 <code>Hexo/source</code> 文件夹；</li><li><strong>本地路径</strong>，Synology Drive 会提示“<em>请先允许 Drive 访问文件夹</em>”，点击确定；<br><a href="/15242e4fec999c6c7bea0bd07717729.jpg" title="文件夹权限提示" class="gallery-item"><img src="/15242e4fec999c6c7bea0bd07717729.jpg" alt="文件夹权限提示"><span class="image-caption">文件夹权限提示</span></a><br>我们在文件管理器的根目录先新建一个 <code>Hexo</code> 目录，然后在其中再建一个 <code>source</code> 文件夹，这样就与服务器端对应上了；</li><li><strong>模式</strong>一般选择“<strong>双向</strong>”，如果手机上只限于收集和记录灵感，正式的文章留到电脑上再编辑，那选择“<strong>仅上传</strong>”也 OK，需要同步的数据会小很多；</li><li>其他的保持默认即可，也可以根据自身偏好自行配置。</li></ol><p>最后点击右上角的“<strong>完成</strong>”，回到同步任务界面，应该会看到当前的任务已经在同步了。</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/sycn-tasks.png" title="任务同步中" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/sycn-tasks.png" alt="任务同步中"><span class="image-caption">任务同步中</span></a><br>打开系统文件管理器，找到 <code>Hexo/source</code> 文件夹，确认无误，Synology Drive 客户端的配置就完成了。</p><h2 id="Obsidian-的配置"><a href="#Obsidian-的配置" class="headerlink" title="Obsidian 的配置"></a>Obsidian 的配置</h2><p>同样，先安装 Obsidian App，进入主界面。Obsidian 并不会根据系统语言自动配置界面语言，我们稍后再设置。</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/bcee00f2d01f74c79954d1642d9022e.jpg" title="Obisidian 主界面" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/bcee00f2d01f74c79954d1642d9022e.jpg" alt="Obisidian 主界面"><span class="image-caption">Obisidian 主界面</span></a></p><p>点击主界面上的 <code>Open folder as vault</code>，找到我们之前同步的 <code>Hexo/source</code> 文件夹，选择底部的“<strong>使用此文件夹</strong>”：</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/edb4513f05000f3c2feaca8abac6f90.jpg" title="使用此文件夹" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/edb4513f05000f3c2feaca8abac6f90.jpg" alt="使用此文件夹"><span class="image-caption">使用此文件夹</span></a></p><p>然后就可以将这个文件夹作为 Obsidian 仓库使用了，打开其中的一个 Markdown 文档 试试：</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/b668b16e0c90090e71749aaf9469943.jpg" title="Markdown 编辑界面" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/b668b16e0c90090e71749aaf9469943.jpg" alt="Markdown 编辑界面"><span class="image-caption">Markdown 编辑界面</span></a></p><p>Bingo！</p><p>最后我们手动配置一下界面语言。</p><p>点击右上角的仓库图标，从左侧滑出主菜单，点齿轮图标进入设置界面。选择 <code>About</code>，第二项 <code>Language</code> 找到简体中文，然后 <strong>Relaunch</strong> 重启，就是中文界面了。</p><p><a href="/playground/apps/obsidian-sync-with-synology-drive/4c13d472221af160f87077403730a06.jpg" title="配置中文界面" class="gallery-item"><img src="/playground/apps/obsidian-sync-with-synology-drive/4c13d472221af160f87077403730a06.jpg" alt="配置中文界面"><span class="image-caption">配置中文界面</span></a></p><p>至此目标全部达成，撒花~</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;转用 Hexo 以后，在桌面端更新是没问题了，但如果出门在外，又希望分享一些东西，能否做到呢？&lt;/p&gt;
&lt;p&gt;我平时都用 Obsidian 来写 Markdown，在 &lt;a href=&quot;/playground/web/hexo-and-new-blog/&quot;&gt;Hexo 的安装与配置&lt;/a&gt; 一文中，我介绍了如何配置 Obsidian 与 Hexo 无缝协作。Obsidian 也有移动端 App，所以这两天就想，能否通过网盘同步 Obsidian 的仓库，随时随地写 Hexo 里面的 Markdown 呢？&lt;/p&gt;</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="软件" scheme="https://waxa.design/categories/playground/apps/"/>
    
    
    <category term="Obsidian" scheme="https://waxa.design/tags/Obsidian/"/>
    
    <category term="Synology Drive" scheme="https://waxa.design/tags/Synology-Drive/"/>
    
    <category term="NAS" scheme="https://waxa.design/tags/NAS/"/>
    
  </entry>
  
  <entry>
    <title>耦园初夏</title>
    <link href="https://waxa.design/tours/ouyuan-in-summer/"/>
    <id>https://waxa.design/tours/ouyuan-in-summer/</id>
    <published>2023-05-30T02:31:15.000Z</published>
    <updated>2023-07-15T14:10:45.341Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>今天去了一趟耦园。</p><p>最近的天气神鬼莫测。昨天看到一张高温地图，各区县都已经三十五度上下了，然而只要一场阵雨，就立马炎凉变易，回到二十来度。我们十点左右出了门，昨晚大概下了雨，墙角树荫的水晕尚未全然褪去。日头迟迟不露面，晴雨有待分明，但骑着电动车两肋生风，无曝晒之苦，倒是颇为快意。</p><p>周二是工作日，但人并不少，着实有些意外。大概是因为一直和美满爱情神仙眷侣绑定宣传（<em>婚姻登记处都大张旗鼓进驻了，有关部门确实不遗余力</em>），又靠近平江路，距拙政园也就一刻钟的脚程，所以在几大名园之外，耦园的人气也算拔尖了。</p><span id="more"></span><p>五月六月之交，荷花盛放以前，可赏的花不多。检票过闸，平泉小隐门口摆着几盆蓝色海棠，中间围着似花非花的红色盆栽，倒好像是深圳街头常年开放的簕杜鹃，又叫叶子花的。仔细端详，倒真是它。顾名思义，那些红到索尼相机饱和度都会溢出的花瓣，其实都只是叶子的伪装，中间那细米粒一般大小的浅浅的骨朵儿，才是叶子花本花。</p><p><a href="/tours/ouyuan-in-summer/DSC2175-%E7%9C%8B%E6%9C%B1%E6%88%90%E7%A2%A7.jpg" title="看朱成碧" class="gallery-item"><img src="/tours/ouyuan-in-summer/DSC2175-%E7%9C%8B%E6%9C%B1%E6%88%90%E7%A2%A7.jpg" alt="看朱成碧"><span class="image-caption">看朱成碧</span></a></p><p>二十四番花信风，这一番的花信迟迟不来，管理员为了增色，把叶子花请来充数，我是不以为然的。</p><p>花季游园，如入华宴，枝枝朵朵前后左右招摇荡漾，令人目眩神迷。初夏却是反过来的，大部分时间都无所事事，然后才是那些不期然的邂逅，角落里滋生的青苔，在假山石根下微微颤动的小小的铜钱草，长廊转角吹来大芭蕉叶扇起的凉风。连路面上被时光打磨圆润的石头，此时也比冬天的颜色更深沉内敛，微带潮意。</p><p><a href="/tours/ouyuan-in-summer/DSC2286-%E6%A1%83%E5%B1%BF%E7%9F%B3%E6%A0%B9%E6%B6%A6%EF%BC%8C%E9%93%9C%E9%92%B1%E8%8D%89%E8%84%9A%E8%BD%BB%E3%80%82.jpg" title="桃屿石根润，铜钱草脚轻。" class="gallery-item"><img src="/tours/ouyuan-in-summer/DSC2286-%E6%A1%83%E5%B1%BF%E7%9F%B3%E6%A0%B9%E6%B6%A6%EF%BC%8C%E9%93%9C%E9%92%B1%E8%8D%89%E8%84%9A%E8%BD%BB%E3%80%82.jpg" alt="桃屿石根润，铜钱草脚轻。"><span class="image-caption">桃屿石根润，铜钱草脚轻。</span></a></p><p><a href="/tours/ouyuan-in-summer/DSC2291-%E4%BA%A4%E6%AA%90%E5%8F%A0%E5%A3%81.jpg" title="交檐叠壁" class="gallery-item"><img src="/tours/ouyuan-in-summer/DSC2291-%E4%BA%A4%E6%AA%90%E5%8F%A0%E5%A3%81.jpg" alt="交檐叠壁"><span class="image-caption">交檐叠壁</span></a></p><p>园内人不少，但真正的游人不多，摄影师随行跟拍的倒占了大头，乃至几乎每个院子都能碰到一拨。拍婚纱的自然不少，盛装入园的汉服姑娘也日见繁多，自拍与跟拍各半，偶尔还能碰到做直播的。</p><p>无俗韵轩南边有个院子，规模颇大，通往出口。月洞门外栽着几树芭蕉，一旁支起了衣架，挂满各种款式的旗袍，大概是专业的商拍团队在此取景。女模特明眸皓齿，仪态和笑容都无可挑剔。我们游东园，恰从此门经过，冷不丁撞见门外一美女就地更衣，从肩头解开盘扣直褪到脚踝，然后助手立马递过要换的款式套上。模特面不改色一气呵成，反倒是我这个路人着实吓了一跳。好在里面还穿着肉色的比基尼，并非裸体，否则这么大摇大摆走过去就太唐突了。非礼勿视之余，暗自赞叹，职业模特的觉悟实非常人可比。</p><p>但专门拍照的太多，游园不免受影响。宛虹杠上一位阿姨正举着手机自拍，然后就从池塘对面的山水间传来一声叫唤：“麻烦让一让好吗？”阿姨只好放下手机离开。大家买的都的一样的门票，借园林搞自己的商业活动反而有特权了么？</p><p><a href="/tours/ouyuan-in-summer/DSC2238-%E5%AE%9B%E8%99%B9%E6%A1%A5%E4%B8%8A.jpg" title="陶小婧在宛虹杠" class="gallery-item"><img src="/tours/ouyuan-in-summer/DSC2238-%E5%AE%9B%E8%99%B9%E6%A1%A5%E4%B8%8A.jpg" alt="陶小婧在宛虹杠"><span class="image-caption">陶小婧在宛虹杠</span></a></p><p><a href="/tours/ouyuan-in-summer/DSC2216-%E4%B8%9C%E8%8A%B1%E5%9B%AD%E6%A0%91%E8%8D%AB%E4%B8%8B.jpg" class="gallery-item"><img src="/tours/ouyuan-in-summer/DSC2216-%E4%B8%9C%E8%8A%B1%E5%9B%AD%E6%A0%91%E8%8D%AB%E4%B8%8B.jpg"></a></p><p><a href="/tours/ouyuan-in-summer/DSC2221-%E5%AE%89%E4%B9%90%E5%9B%BD.jpg" title="安乐国放置的茶具" class="gallery-item"><img src="/tours/ouyuan-in-summer/DSC2221-%E5%AE%89%E4%B9%90%E5%9B%BD.jpg" alt="安乐国放置的茶具"><span class="image-caption">安乐国放置的茶具</span></a></p><p><a href="/tours/ouyuan-in-summer/DSC2243-%E6%B1%A0%E4%B8%AD%E9%94%A6%E9%B2%A4%E7%BF%A9%E7%84%B6.jpg" title="池中锦鲤翩然" class="gallery-item"><img src="/tours/ouyuan-in-summer/DSC2243-%E6%B1%A0%E4%B8%AD%E9%94%A6%E9%B2%A4%E7%BF%A9%E7%84%B6.jpg" alt="池中锦鲤翩然"><span class="image-caption">池中锦鲤翩然</span></a></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">桃屿石根润，铜钱草脚轻。</summary>
    
    
    
    <category term="游历" scheme="https://waxa.design/categories/tours/"/>
    
    
    <category term="苏州" scheme="https://waxa.design/tags/%E8%8B%8F%E5%B7%9E/"/>
    
    <category term="耦园" scheme="https://waxa.design/tags/%E8%80%A6%E5%9B%AD/"/>
    
    <category term="园林" scheme="https://waxa.design/tags/%E5%9B%AD%E6%9E%97/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 的主题定制</title>
    <link href="https://waxa.design/playground/web/hexo-theme-minos/"/>
    <id>https://waxa.design/playground/web/hexo-theme-minos/</id>
    <published>2023-05-28T13:36:07.000Z</published>
    <updated>2023-07-13T10:44:40.328Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>Hexo 的主题生态非常贫乏，官方的主题列表看起来有几十页，但其实都是极少数几个主题（如 <a href="https://theme-next.js.org/">Next</a>）的变体，所以颇有些千篇一律。个人不太喜欢 Next 这种太典型的博客风格，让我一种梦回十几年前，博客大爆发时期的错觉。</p><p>我确实懂一些 CSS&#x2F;SCSS，但 Node.js 就一无所知了，要根据 Hexo 的官方文档手撸初一个全新主题出来，肯定吃力不讨好。总之，找了一圈，最后选定了 <a href="http://ppoffice.github.io/hexo-theme-minos/">Minos</a> 作为基础，来日方长，一步一步改造吧。</p><span id="more"></span><h2 id="hexo-renderer-sass-安装问题"><a href="#hexo-renderer-sass-安装问题" class="headerlink" title="hexo-renderer-sass 安装问题"></a>hexo-renderer-sass 安装问题</h2><p>不过 Minos 倒是给了我一个下马威。刚切换过来，提示需要安装 hexo-renderer-sass，但试过了才发现，这个 hexo-renderer-sass 压根就是装不上的。</p><p>一开始我尝试了好几种办法，包括但不限于给系统安装 Python 2，更新 request 和 tar，搜索 <code>ERR code 1</code> 是怎么回事，都没辙。最后找到这篇：<a href="https://sobaigu.com/hexo-renderer-sass-error.html">解决 hexo-renderer-sass 无法安装</a>，才最终搞定。</p><p>原因倒是很简单，hexo-renderer-sass 上一次更新还在 2018 年，属于退版本的状态。我们可以用 hexo-renderer-sass-next 替代它：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-sass  </span><br><span class="line">npm i --save hexo-renderer-sass-next</span><br></pre></td></tr></table></figure><p>然后打开 <code>/themes/minos/scripts/01_check.js</code>，搜索 <code>hexo-renderer-sass</code>，将其替换为 <code>hexo-renderer-sass-next</code>。重新渲染 Hexo，成功。</p><h2 id="中文字体"><a href="#中文字体" class="headerlink" title="中文字体"></a>中文字体</h2><p>从 Wordpress 某个版本开始，我就参考 <a href="https://github.com/zenozeng/fonts.css">Fonts.css</a> 来配置中文字体了。该方案跨平台，不需要外挂 Web Font<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>，样式囊括黑体、宋体、楷体与仿宋体，基本能覆盖排版所需。</p><p>如你所见，本站的标题一概用宋体，正文用黑体，文章前后的序语、题跋则用仿宋，行内注释与脚注则分配给了楷体，真可谓物尽其用。可惜的是，Markdown 本身支持的 HTML 标签有限，如果想在排版上做出区别，仍然需要手动指定 CSS 类。</p><p>比如文章前面的序言，我手动指定了 <code>class=&quot;foreword&quot;</code>。但不知为何， 指定 <code>foreword</code> CSS 类之后，无论加几个换行，“<strong>阅读更多</strong>”的都会紧贴着，只能给 <code>foreword</code> 类加上 <code>margin-bottom: 1.2em</code> 强行拉开距离。</p><p>当然，问题仍然存在：<strong>当前几乎没有手机厂商会预装楷体和仿宋</strong>。即便是国产厂商，也只会沿袭苹果、Google 开创的传统，预装几十种英文字体，而预装中文字体者寥寥无几——在社会风气日趋保守的当下，爱国是政治正确，亲美与西化倾向都难免非议，但这一点居然长期以来无人置喙，真乃咄咄怪事。</p><p>扯远了。虽然中文字体远比比英文字体大，但现在的手机动辄 128G 起步，一个 2M 左右的字体所占用的容量，还不如用户随手拍的一张照片大，所以字体的大小已不足以成为阻碍。但目前的状况就是，楷体、仿宋在大部分手机上都只能识别为 Serif，也就是宋体，这点只能看未来能否有国产手机厂商注意并纠正了。</p><h2 id="Gallery"><a href="#Gallery" class="headerlink" title="Gallery"></a>Gallery</h2><p>我行文经常插入大量的照片，如何优雅地展示这些照片自然是必须考虑的事情。</p><p>Minos 自带 <a href="https://miromannino.github.io/Justified-Gallery/">Justified Gallery</a> 插件，官方提供了<a href="http://ppoffice.github.io/hexo-theme-minos/Creating-a-Gallery-in-Minos/">演示页面</a>，效果中规中矩，但实际应用之后才发现，其高度是固定的 120px，横向照片看上去还可以，但纵向照片就太小了。</p><p>参阅 Justified Gallery 的官方文档，打开主题文件夹下面的 <code>/minos/plugins/gallery.ejs</code>，搜索 <code>$(&#39;.justified-gallery&#39;).justifiedGallery();</code>，添加几个参数，将其修改为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.justified-gallery&#x27;</span>).<span class="title function_">justifiedGallery</span>(&#123;</span><br><span class="line">rowHeight : <span class="number">360</span>, <span class="comment">//照片高度 360px</span></span><br><span class="line">lastRow : <span class="string">&#x27;nojustify&#x27;</span>, <span class="comment">//最后一行不对齐</span></span><br><span class="line">margins : <span class="number">5</span> <span class="comment">//图片间隔 5px</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>重新生成 Hexo，刷新页面，OK。</p><p>Justified Gallery 可以手动调整的所有参数请参考此页面：<a href="https://miromannino.github.io/Justified-Gallery/options-and-events/">Options &amp; Events</a>。<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline; vertical-align: top;">作为老用户，配置 Google Fonts 以后，网站的加载速度真是一言难尽。虽然特殊国情的影响更大，我自己也没有配置国内镜像。</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;Hexo 的主题生态非常贫乏，官方的主题列表看起来有几十页，但其实都是极少数几个主题（如 &lt;a href=&quot;https://theme-next.js.org/&quot;&gt;Next&lt;/a&gt;）的变体，所以颇有些千篇一律。个人不太喜欢 Next 这种太典型的博客风格，让我一种梦回十几年前，博客大爆发时期的错觉。&lt;/p&gt;
&lt;p&gt;我确实懂一些 CSS&amp;#x2F;SCSS，但 Node.js 就一无所知了，要根据 Hexo 的官方文档手撸初一个全新主题出来，肯定吃力不讨好。总之，找了一圈，最后选定了 &lt;a href=&quot;http://ppoffice.github.io/hexo-theme-minos/&quot;&gt;Minos&lt;/a&gt; 作为基础，来日方长，一步一步改造吧。&lt;/p&gt;</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="网站" scheme="https://waxa.design/categories/playground/web/"/>
    
    
    <category term="Hexo" scheme="https://waxa.design/tags/Hexo/"/>
    
    <category term="Theme" scheme="https://waxa.design/tags/Theme/"/>
    
    <category term="minos" scheme="https://waxa.design/tags/minos/"/>
    
    <category term="SCSS" scheme="https://waxa.design/tags/SCSS/"/>
    
    <category term="Justified Gallery" scheme="https://waxa.design/tags/Justified-Gallery/"/>
    
    <category term="中文字体" scheme="https://waxa.design/tags/%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 后续补充</title>
    <link href="https://waxa.design/playground/web/hexo-updates/"/>
    <id>https://waxa.design/playground/web/hexo-updates/</id>
    <published>2023-05-28T13:36:07.000Z</published>
    <updated>2023-07-13T10:29:41.160Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><div class="foreword">Hexo 用了两天，基本功能差不多弄清楚了。不过也发现一些问题，逐个记录，分享出来，没准能对 Hexo 的其他用户提供一些帮助。</div><span id="more"></span><h2 id="Markdown-支持"><a href="#Markdown-支持" class="headerlink" title="Markdown 支持"></a>Markdown 支持</h2><p>Hexo 对 Markdown 语法的支持尚不完备，比如将内容标记为高亮： <code>==highlight==</code>， Obsidian 已经支持，但 Hexo 尚未跟进。类似的还有 footnote，目前只能通过插件搞定。</p><h3 id="footnote-脚注"><a href="#footnote-脚注" class="headerlink" title="footnote 脚注"></a>footnote 脚注</h3><p>对一个业余文字爱好者来说，注释是免不了要加的。<a href="https://github.com/LouisBarranqueiro/hexo-footnotes">hexo-footnotes</a>  可以为 Hexo 用户提供额外的 footnote 语法支持，直接命令行安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-footnotes --save</span><br></pre></td></tr></table></figure><p>安装之后 Hexo 一般可以自动识别，此时在 Markdown 文件中添加注释即可。如果不能识别，则需要在 <code>_config.yml</code> 内手动配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plugins:</span><br><span class="line">  - hexo-footnotes</span><br></pre></td></tr></table></figure><p>footnote 的语法请自行搜索。个人体验下来，目前还有两个问题尚待解决：</p><ol><li><del>如果一条注释包含多个段落，则只有第一个段落会被识别，不知如何指定脚注的起讫范围？</del> 后续段落可以通过缩进来声明脚注的起讫，但仍然有个问题。第一段是纯文本，而后续段落都是 <code>&lt;p&gt;...&lt;/p&gt;</code> 标签，导致第一段与第二段之间缺少段间距。</li><li><del>不知是否与主题 css 存在冲突，脚注序号、内容与返回按钮分成了三行。</del>此问题已经解决，办法是修改 <code>/Hexo/node_modules/hexo-footnotes/src/footnotes.js</code>，搜索 <code>display: inline-block;</code>，删除第二个结果。</li><li>脚注的标记不支持中文，<code>&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;</code> 正常，<code>[^注一]</code> 则不正常。</li></ol><p>最终效果可以参考这篇文章：<a href="/writings/research/photos-of-luxun">鲁迅照片集</a></p><h3 id="Markdown-与-HTML-标签混用"><a href="#Markdown-与-HTML-标签混用" class="headerlink" title="Markdown 与 HTML 标签混用"></a>Markdown 与 HTML 标签混用</h3><h2 id="内容嵌入"><a href="#内容嵌入" class="headerlink" title="内容嵌入"></a>内容嵌入</h2><h3 id="Youtube-视频"><a href="#Youtube-视频" class="headerlink" title="Youtube 视频"></a>Youtube 视频</h3><p>Wordpress 里面插入 Youtube 视频很简单，网址粘贴进去，自动转换成视频播放界面。与之相比，Obsidian 还能找到 <a href="https://github.com/samwarnick/obsidian-simple-embeds">Simple Embeds</a> 这样的插件，Hexo 简直太不方便了，反正我不怎么想在 Markdown 里面写这样的标签：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% youtube video_id [type] [cookie] %&#125;</span><br></pre></td></tr></table></figure><p>作为互联网的老用户，平台或者软件搞私有标准的危害，我们可是太有体会了。还是希望 Hexo 能在 Markdown 通行标准的基础上发展，不要强推这种换个软件就无法识别的标签。</p><h2 id="子页面"><a href="#子页面" class="headerlink" title="子页面"></a>子页面</h2><p>发现一个奇怪现象：<a href="/about/">关于</a> 页面本来正常，但我想在这个页面下面再挂一份简历，计划的路径是 <code>/about/resume</code>。Hexo 官方没有子页面的信息，所以我就直接在 source 文件夹建了一个 <code>about</code> 子文件夹，然后在里面新增了一个 <code>resume.md</code>。没想到生成之后，这个简历倒是没有问题，主菜单点击关于页面报 403 错误了，令人一头雾水。</p><p>当然解决办法还是有的，将 <code>about.md</code> 移到 <code>about</code> 文件夹，并重命名为 <code>index.md</code>，虽然生成网页之后实际路径其实从 <code>/about.html</code> 变成了 <code>/about/index.html</code>，但这样一来，按照之前的路径访问就没有问题了。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;div class=&quot;foreword&quot;&gt;
Hexo 用了两天，基本功能差不多弄清楚了。不过也发现一些问题，逐个记录，分享出来，没准能对 Hexo 的其他用户提供一些帮助。
&lt;/div&gt;</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="网站" scheme="https://waxa.design/categories/playground/web/"/>
    
    
    <category term="Hexo" scheme="https://waxa.design/tags/Hexo/"/>
    
    <category term="Hexo Plugins" scheme="https://waxa.design/tags/Hexo-Plugins/"/>
    
    <category term="Markdown" scheme="https://waxa.design/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 的安装与配置</title>
    <link href="https://waxa.design/playground/web/hexo-and-new-blog/"/>
    <id>https://waxa.design/playground/web/hexo-and-new-blog/</id>
    <published>2023-05-27T12:33:19.000Z</published>
    <updated>2023-07-13T10:01:22.550Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>最近计划把自己的<a href="https://kaero.org/">个人网站</a>转移到本地的 NAS 上，但 Wordpress 用了这么多年，确实越来越臃肿，最新的模块化编辑器确实很简单，但主题定制的成本也更高了。所以这次就琢磨着趁机改换门庭，试试其他博客平台。</p><span id="more"></span><p><a href="https://typecho.org/">Typecho</a> 虽然轻量化，但开后台写文章的路数与 Wordpress 并无太大差异，而主题、插件的生态又远不如 Wordpress 繁荣多元。最要命的是，不知是我的 Wordpress 数据包太大，还是 NAS 存在性能瓶颈，总之 Typecho 试着导入好几次，每次都卡在百分之三四十就报错。即便我没有任何其他不满，光这一点就足以杀死该进程了。</p><p>然后就是 <a href="https://hexo.io/">Hexo</a> 了。本地写 Markdown，服务器端一键生成静态文件，这个模式确实简便。我行文经常卡住，拖十天半月实属寻常，拖十几年都没有写完的题目还有好几篇呢……王师北定中原日，一个 <code>hexo g</code> 命令敲下去，痛快！</p><h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><p>参考张大妈上的一篇文章：<a href="https://post.smzdm.com/p/az39o2xp/">在群晖上部署快速简洁且高效的博客框架HEXO</a>，按部就班，顺利完成。只不过仍有一些疑问：</p><ol><li><strong>np日常国内镜像</strong>，安装之后输入 <code>cnpm -v</code> 查看版本，输出的是：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cnpm@9.2.0 (/usr/local/lib/node_modules/cnpm/lib/parse_argv.js)</span><br><span class="line">npm@9.6.7 (/usr/local/lib/node_modules/cnpm/node_modules/npm/index.js)</span><br><span class="line">node@18.12.0 (/volume1/@appstore/Node.js_v18/usr/local/bin/node)</span><br><span class="line">npminstall@7.9.0 </span><br><span class="line">/usr/local/lib/node_modules/cnpm/node_modules/npminstall/lib/index.js)</span><br><span class="line">prefix=/usr/local</span><br><span class="line">linux x64 4.4.180+</span><br><span class="line">registry=https://registry.npmmirror.com</span><br></pre></td></tr></table></figure>看起来已经成功，但实际上有没有生效，我一点拿不准，毕竟 <code>npm install</code> 拉取超时的错误仍旧经常发生；</li><li>原文经常切换普通账号与 root 账号，颇有些应接不暇。在我应该不存在误操作的情况下，如果登录的是普通账号，则无法通过 <code>hexo init blog</code> 命令去建立 Hexo 的安装目录，必须用 root 账号才能完成这一步；</li><li>前一个问题导致，所有与 Hexo 相关的命令都必须通过 root 账号才能操作，不知何解？虽然普通用户也有文件夹的操作权限，映射到本地写 Markdown 并不受影响，但后续还得再研究一下。</li></ol><h2 id="配置-Hexo"><a href="#配置-Hexo" class="headerlink" title="配置 Hexo"></a>配置 Hexo</h2><p>Hexo 的配置比较简单，按照<a href="https://hexo.io/zh-cn/docs/index.html">官方文档</a>操作，基本顺利。不过有几点需要注意：</p><ol><li><strong><code>language</code></strong> 参数，中文用户自然默认设置为 <code>zh-CN</code>，但某些主题会产生奇怪现象。比如 <a href="http://ppoffice.github.io/hexo-theme-minos/">Minos</a> 主题，<code>zh-CN</code> 会导致界面上出现德文，改为小写的 <code>zh-cn</code> 则恢复正常。</li><li><strong><code>permalink</code></strong> 参数，我一度将其设置为 <code>&#39;:categories/:title/&#39;</code>，结果输出为 <code>https://kaerozhi.com/[object object]/posttile/</code>，当时纳闷了半天，后来改作 <code>&#39;:category/:title/&#39;</code> 就正常了。</li><li><strong><code>category_map</code></strong> 参数，官方文档没有具体说明，我将其理解为分类名称与用于链接的别名，然而设置之后似乎没有任何效果。后来查阅<a href="https://paugram.com/coding/hexo-secret-usage.html">资料</a>，发现是我理解错了。我原以为，如果 <code>_config.yml</code> 这么写：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">category_map:</span><br><span class="line">  &#x27;随笔&#x27;: blog</span><br><span class="line">  &#x27;文字&#x27;: writings </span><br><span class="line">  &#x27;游历&#x27;: tours</span><br><span class="line">  &#x27;玩艺&#x27;: playground</span><br><span class="line">  &#x27;观点&#x27;: thoughts</span><br></pre></td></tr></table></figure>然后 Markdown 的 Front-Matter 内配置 <code>categories: writings</code>，那么 Hexo 在前端会将分类显示为 “文字”。但 Hexo 的实际逻辑是，你的 Front-Matter 写作 <code>categories: &#39;文字&#39;</code>，然后链接地址会自动给你转为 <code>https://kaerozhi.com/writings/yourpost</code>。</li><li><code>tag_map</code> 同理。</li></ol><h2 id="从-Wordpress-导入"><a href="#从-Wordpress-导入" class="headerlink" title="从 Wordpress 导入"></a>从 Wordpress 导入</h2><p>Hexo 没有 <code>/wp-admin</code> 这样的后台管理界面，无法通过图形界面导入 Wordpress 数据。虽然后台也可以自行安装，但完全没这个必要。毕竟 Hexo 的设计初衷就不走这条路，既然选择了 Hexo，自然也就不图一个图形界面了。</p><p>我使用的是一个名为 <a href="https://github.com/lonekorean/wordpress-export-to-markdown">wordpress-export-to-markdown</a> （后文简称 WE2M）的脚本，可以将 Wordpress 导出的 xml 转换成每篇文章、页面各自独立的 Markdown 文档集合，用过的图片也可以选择一并下载到本地。即使你只写 Markdown 但不捣鼓 Hexo，这个脚本也值得推荐。</p><p>操作很简单，只要本地安装 Node.js 环境，然后运行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx wordpress-export-to-markdown</span><br></pre></td></tr></table></figure><p>过程中会有几个选项，一般保持默认即可，也可以根据自身需求灵活选择。</p><p>Wordpress 数据包的解析非常快，脚本完成的时间还是取决于需要下载的图片包有多大。脚本结束后，在 Typora、Obsidian 查看导出的 Markdown 文档，一般都能正常显示。</p><p>参阅<a href="https://hexo.io/zh-cn/docs/asset-folders">官方文档</a>，如果 <code>_config.xml</code> 保持默认的资源配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: false</span><br></pre></td></tr></table></figure><p>则 Hexo 会统一从 <code>/images/</code> 读取图片，那每篇文章都能正常显示。WE2M 默认也会将所有图片下载到 <code>images</code> 文件夹。</p><p>但是，如果和我一样经常在文章里引用大量的照片，那应该也会倾向给每篇文章指定独立的资源文件夹，Hexo 与 WE2M 就没法完美匹配了。</p><h2 id="给每篇文章配置独立资源文件夹"><a href="#给每篇文章配置独立资源文件夹" class="headerlink" title="给每篇文章配置独立资源文件夹"></a>给每篇文章配置独立资源文件夹</h2><p>当然，我这样的强迫症还是免不了作死，如前文所述，我改了 Hexo 的资源配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure><p>此时 Hexo 会给每篇文章生成独立的资源文件夹。观众老爷可能要发问：这有什么影响？</p><p>本来不会有什么影响的，但因为 Hexo 的奇异机制，如果你用 <code>![](image.jpg)</code> 在 Markdown 文档中插入图片，图片在文章页面显示正常，但首页却不显示。</p><p>根据官方建议，我们可以安装 <a href="https://github.com/hexojs/hexo-renderer-marked">hexo-renderer-marked</a> 来规避这个问题，如需启用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true  </span><br><span class="line">marked:  </span><br><span class="line">  prependRoot: true  </span><br><span class="line">  postAsset: true</span><br></pre></td></tr></table></figure><p>启用之后，文章页面和首页都可以正常显示。</p><h2 id="与-Obsidian-协作"><a href="#与-Obsidian-协作" class="headerlink" title="与 Obsidian 协作"></a>与 Obsidian 协作</h2><p>用 Obsidian 直接将 <code>Hexo/source</code> 文件夹作为仓库打开，即便不作任何设置，基本也能完美接管 Hexo 的内容创作部分。</p><p>但因为我们在 Hexo 里面配置了每篇文章生成单独的资源文件夹，与之对应，在 Obsidian 中，我们也需要将文章用到的图片收纳到指定的同名文件夹，这样 Hexo 每次生成静态网站的时候才不需要额外的配置。</p><p>这里要用到一个 Obsidian 的第三方插件 <a href="https://github.com/RainCat1998/obsidian-custom-attachment-location">Custom-Attachment-Location</a>。不知为何，我在第三方插件市场能找到该插件，但无法安装，只能按照以下步骤手动安装：</p><ol><li>在插件的 Github 页面下载最新版的 <code>main.js</code>、<code>manifest.json</code>；</li><li>将以上的两个文件复制到已经建立 Obsidian 仓库的 Hexo 文件夹：<code>Hexo/source/.obsidian/plugins/obsidian-custom-attachment-localtion/</code>；</li><li>最后在 Obsidian 设置界面启用该插件。</li></ol><p>设置很简单，将 Default location for new attachments（默认资源路径）设置为 <code>./$&#123;filename&#125;</code>，插入文章的图片就会自动收纳到与文章同名的子文件夹了。</p><p>还有一点，Obsidian 插入图片时，默认会写作 <code>![[image.jpg]]</code>，但这种格式 Hexo 无法识别，在 Obsidian 的设置界面找到 <code>文件与链接 &gt; 使用 Wiki 链接</code>，将其关闭。再次插入图片，就会变成 Markdown 通用格式 <code>![](image.jpg)</code>了。</p><p>如此一来，Obsidian 与 Hexo 差不多做到无缝接入。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;最近计划把自己的&lt;a href=&quot;https://kaero.org/&quot;&gt;个人网站&lt;/a&gt;转移到本地的 NAS 上，但 Wordpress 用了这么多年，确实越来越臃肿，最新的模块化编辑器确实很简单，但主题定制的成本也更高了。所以这次就琢磨着趁机改换门庭，试试其他博客平台。&lt;/p&gt;</summary>
    
    
    
    <category term="玩艺" scheme="https://waxa.design/categories/playground/"/>
    
    <category term="网站" scheme="https://waxa.design/categories/playground/web/"/>
    
    
    <category term="Blog" scheme="https://waxa.design/tags/Blog/"/>
    
    <category term="Hexo" scheme="https://waxa.design/tags/Hexo/"/>
    
    <category term="Hexo Theme" scheme="https://waxa.design/tags/Hexo-Theme/"/>
    
    <category term="Synology" scheme="https://waxa.design/tags/Synology/"/>
    
    <category term="Obsidian" scheme="https://waxa.design/tags/Obsidian/"/>
    
  </entry>
  
  <entry>
    <title>深圳之眼</title>
    <link href="https://waxa.design/tours/eye-of-shenzhen/"/>
    <id>https://waxa.design/tours/eye-of-shenzhen/</id>
    <published>2023-04-30T16:00:00.000Z</published>
    <updated>2023-06-10T01:01:37.525Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>今天五一放假，大概也是在深圳的最后一个假期了。支景曦平时是个大门不出二门不迈的座敷童子，在深圳七年，几乎不曾主动要求出游，也从未见过见他约同学出去玩。本着让他多留下一些美好回忆的想法，头一天跟他说好，好在反应还算比较积极。</p><p><a href="/tours/eye-of-shenzhen/P1038093.jpg" title="晚霞中的宝安新城" class="gallery-item"><img src="/tours/eye-of-shenzhen/P1038093.jpg" alt="晚霞中的宝安新城"><span class="image-caption">晚霞中的宝安新城</span></a></p><p>刚搬到此处时，因为高居于二十六层之上，从客厅的横窗望去，西边的宝安新城一览无遗，区区摩天轮自然也难逃视野的覆盖，努力挤一挤角度，甚至还能窥见前海湾的一隅。虽然西晒确实有点讨厌，四点之后不拉上窗帘，靠窗的大沙发就没法坐人。但代价还是值得的，夏天只要天气晴朗，城市的天际线上就会出现非常绚丽的晚霞。每当吃晚饭时，从餐厅望去，只能说赏心悦目，倍觉饭菜香甜生活美妙。</p><p>2020 年之后，宝安新城几乎是肉眼可见地拔地而起，然后远眺摩天轮就不那么容易了，要仔细分辨，才能在林立的笔直而硬朗的高楼之中找到它纤细的弧影。我们也经常去前海的南科大附属医院，常常从它附近经过——只是也不觉得它特别高大。</p><p>可惜今天的天气不怎么好，蓝天白云全都不见，只剩下灰蒙蒙一片。</p><p><a href="/_ZJG6840.jpg" title="出租车趋近摩天轮" class="gallery-item"><img src="/_ZJG6840.jpg" alt="出租车趋近摩天轮"><span class="image-caption">出租车趋近摩天轮</span></a></p><p>摩天轮下面是个海滨商场，开放的时间应该不太长，店铺都比较新净。不知是否因为放假的缘故，今天的游人也比较多，排队大概花了二十多分钟。</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article</summary>
      
    
    
    
    <category term="游历" scheme="https://waxa.design/categories/tours/"/>
    
    
    <category term="深圳" scheme="https://waxa.design/tags/%E6%B7%B1%E5%9C%B3/"/>
    
    <category term="摩天轮" scheme="https://waxa.design/tags/%E6%91%A9%E5%A4%A9%E8%BD%AE/"/>
    
    <category term="深圳之眼" scheme="https://waxa.design/tags/%E6%B7%B1%E5%9C%B3%E4%B9%8B%E7%9C%BC/"/>
    
    <category term="支景曦" scheme="https://waxa.design/tags/%E6%94%AF%E6%99%AF%E6%9B%A6/"/>
    
  </entry>
  
  <entry>
    <title>游戏排位系统的设计思路</title>
    <link href="https://waxa.design/thoughts/visual-design-of-ranking-system/"/>
    <id>https://waxa.design/thoughts/visual-design-of-ranking-system/</id>
    <published>2022-06-09T00:00:00.000Z</published>
    <updated>2023-05-28T11:49:25.097Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><div class="foreword"><p>排位系统基本上是现代游戏的标配，只要在游戏里玩家与玩家可以直接对抗（即 PvP），排位系统就必不可少。甚至一些玩家不用直接对抗的休闲游戏，也都会加上好友排行榜之类的系统，以期激发玩家的竞争本能，互相攀比、追赶，从而提高游戏的活跃度和营收。</p><p>为了鞭笞玩家，避免他们偷懒懈怠，现代游戏还设计出了赛季的概念。<strong>什么是赛季呢？</strong>赛季系统就相当于一个滴答作响的闹钟，在你的脑子里拧紧了发条，提醒你赶紧去玩游戏，否则本赛季的荣誉、成就以及丰厚的奖励就通通和你无缘了。</p><p>赛季通常以月为单位，比如 Clash Royale 每个月就是一个赛季；王者荣耀的则是三个月，一个季度就是一个赛季，很符合现实里「季」的定义；而 League of Legends 的赛季与传统体育赛事是一样的，一个赛季长达一年。</p><p>在每个新的赛季，厂商都会打包推出一系列的游戏内容，除了常规玩法的更迭、平衡性的调整，还会有全新的地图、游戏机制、英雄、皮肤，以及特别的荣誉、成就以及奖励。</p><p>在赛季系统出现以前，玩家弃游很简单，不想玩就不玩了，我的排位积分可能会慢慢降下来，但只要想打，还是能随时把它打上去，完全不用考虑会有什么损失。但赛季限定内容的出现，尤其是赛季奖励，一般都具有最顶级的品质，一旦错过，就没办法再通过其他渠道获得。如果你不想因为错过了什么而追悔莫及，那么你就必须……很遗憾，他们就希望你这么想。</p><p>这种机制建立在人性弱点的基础上，是现代商业最幽微隐晦不可言说的黑暗面。它一手炮制了玩家的焦虑，增加玩家弃游的心理负担，从而不得不定期上线为游戏厂商打工。</p><p>所以你问我怎么说？<strong>当然是去玩买断制游戏啦</strong>。</p></div><span id="more"></span><hr><p>吐槽完了，研究正事。</p><p>这篇文章还有姐妹篇：<a href="/categories/thoughts/design-comparison-of-games-ranking-system/">游戏排位系统的设计横向考察</a>，可以两篇同看，相信会更明白。</p><p>按照现在最流行的排位系统 + Season Pass 驱动的游戏运营模式，排位系统与其关联的其他应用场景，基本上可以像下图一样，划分为两条横轴和一条纵轴：</p><p><a href="/thoughts/visual-design-of-ranking-system/ranking-system.png" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/ranking-system.png"></a></p><p>排位系统将游戏的核心玩法纳入一个稳定可循环的框架，而 Season Pass 则以赛季为周期，源源不断地将新的游戏内容打包推送给玩家，为玩家提供游戏动力。玩家消耗时间或金钱，从 Season Pass 中获取相应的奖励内容，而厂商则从中获得营收。</p><p>作为游戏的核心系统，段位集中体现了玩家在排位系统中获得的成就，自然需要不厌其烦地反复展示。这既是一种激励，在段位比较低的时候，也可以变成一种无形的鞭策。总之，我们会在很多需要展示玩家信息的界面里看到段位图标或它的变体，比如头像框。所以在设计段位图标的时候，也需要将这些衍生的应用场景纳入考量范围。</p><p>段位图标在这个系统里面当然重要，但单独提升段位图标的视觉酷炫度是否可行？有没有更好的方式来提升整个排位系统的流程体验？在横向考察、对比过众多游戏之后，我的建议是这样的：</p><h2 id="一、提取设计概念"><a href="#一、提取设计概念" class="headerlink" title="一、提取设计概念"></a>一、提取设计概念</h2><p><a href="/thoughts/visual-design-of-ranking-system/fad4a41ad5ddfd1cbe62d1b954b9dd2c_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/fad4a41ad5ddfd1cbe62d1b954b9dd2c_detail.jpg"></a></p><p><a href="/thoughts/visual-design-of-ranking-system/Dota-Underlords-Seasonal-Rank-System-October-2019-Esports-Tales.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/Dota-Underlords-Seasonal-Rank-System-October-2019-Esports-Tales.jpg"></a></p><hr><h2 id="二、视觉风格的塑造与强化"><a href="#二、视觉风格的塑造与强化" class="headerlink" title="二、视觉风格的塑造与强化"></a>二、视觉风格的塑造与强化</h2><p>我们必须实现提前声明：<strong>游戏当然可以、也必须追求视觉风格的独特性，但风格必须保持主题稳定，整体协调</strong>。</p><p>游戏的外围系统，比如常见的皮肤售卖、营销节点，设计风格可以更有弹性，但游戏的核心系统必须契合游戏的整体调性，保持一致的视觉体验，才行给玩家留下稳定强烈的品牌印象。</p><p>排位赛作为竞技游戏的核心模块，它的视觉体验当然也很难和游戏的其他模块割裂开来。如果我们打算全方位地翻新整个排位赛系统的视觉设计，那可能要跟英雄联盟推出 Hextech 一样，提前做好全局规划，逐步迭代整体视觉。然而即使是 Hextech，虽然视觉的提升非常巨大，但前后的风格传承也非常明显，并不是将游戏的既有风格置之不理，而是在既有风格的基础上加入 Art Deco，再以皮尔特沃夫的科技为支点，从而与世界观完美融合。</p><p>Arena of Valor 经过几年的迭代，视觉风格已经比较稳定，就是以光明圣殿的风格为代表，充满几何线条的秩序感，同时又有很多幻想的反重力装置，兼具未来感。</p><p><a href="/thoughts/visual-design-of-ranking-system/1ab72cc528d0560a45c38fcf7cf685b4_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/1ab72cc528d0560a45c38fcf7cf685b4_detail.jpg"></a></p><p>光明圣殿可以代表 Arena of Valor 的特殊美学</p><p><a href="/thoughts/visual-design-of-ranking-system/shadow-fight-arena-chests.png" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/shadow-fight-arena-chests.png"></a></p><p>Shadow Fight Arena 的一些宝箱设计</p><p><a href="/thoughts/visual-design-of-ranking-system/APEX-LEGENDS-UI-Seasons-3-5.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/APEX-LEGENDS-UI-Seasons-3-5.jpg"></a></p><p><a href="/thoughts/visual-design-of-ranking-system/Marvin-Washington-Destiny-2-Skins-and-Livery-1.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/Marvin-Washington-Destiny-2-Skins-and-Livery-1.jpg"></a></p><p><a href="/thoughts/visual-design-of-ranking-system/Destiny-UI-The-Taken-King.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/Destiny-UI-The-Taken-King.jpg"></a></p><p><a href="/thoughts/visual-design-of-ranking-system/Destiny-2-Ranked-Icons-on-Behance.png" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/Destiny-2-Ranked-Icons-on-Behance.png"></a></p><h2 id="三、场景化与代入感"><a href="#三、场景化与代入感" class="headerlink" title="三、场景化与代入感"></a>三、场景化与代入感</h2><p>玩 Devil May Cry 5 _（以下简称 DMC5）_的时候，它的装备系统给我留下了非常深的印象。如果你还没有玩过这个游戏，也不打算去试一下，那我建议你看一下它的 Trailer：</p><p><a href="https://www.youtube.com/watch?v=k2ltzFooKSs">https://www.youtube.com/watch?v=k2ltzFooKSs</a></p><p>注意 Nero 出场时的那辆挂着「Devil May Cry」灯带的厢式货车，后面我们就会发现那完全就是 Nico 这姑娘的后勤基地，Nero 的武器、义肢还有其他装备都在这个货厢内部更换。这个装备系统设定合理，场景切换流畅，代入感十足，与大部分游戏的常规装备系统相比，可谓鹤立鸡群了。</p><p><a href="/thoughts/visual-design-of-ranking-system/dd31def0d98f0634ade4d80c738464d9_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/dd31def0d98f0634ade4d80c738464d9_detail.jpg"></a></p><p>装备列表</p><p><a href="/thoughts/visual-design-of-ranking-system/d91e9d293870af13eb15b3df358e71b7_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/d91e9d293870af13eb15b3df358e71b7_detail.jpg"></a></p><p>Nico 的报告：Nico 除了担当研发和维护装备的技师，还负责收集和调查各种数据。</p><p>2019 年发行的 Call of Duty: Modern Warfare，里面的装备系统也采用了近似的设计，但因为少了一个 Nico 这样身材火爆性格可人的妹子，所以仍然稍逊一筹。</p><p>Call of Duty: Modern Warfare 装备系统</p><p>所以王者荣耀排位界面从赛季皮肤换成了世界观插画，尽管叙事性只是从无到有，但给人的想象空间却大了很多。</p><p><a href="/thoughts/visual-design-of-ranking-system/c646a13ddee2c6d5150401a690dbf4bf_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/c646a13ddee2c6d5150401a690dbf4bf_detail.jpg"></a></p><p>王者荣耀 S27 赛季的排位入口界面</p><h3 id="可以场景化的排位流程"><a href="#可以场景化的排位流程" class="headerlink" title="可以场景化的排位流程"></a>可以场景化的排位流程</h3><p>PUBG 一百名玩家齐聚在机场的大场面，是场景化设计的极佳范例。很少有人意识到，这个流程对应到英雄联盟这样的 MOBA 游戏里，就只能在按下 PLAY 按钮后开始无聊地等待计时。</p><p>MOBA 游戏注重英雄的刻画，但需要指出的是，玩家的形象实际上从未存在过。在 PUBG 和 Fortnite 里，参与游戏的是玩家本人的虚拟形象，所以玩家可以任意地装扮自己。而在 MOBA 游戏里，玩家就是现实里的玩家本人，虽然英雄也可以更换皮肤，但它只是玩家操作的机体，皮肤差不多就相当于机体换个涂装。</p><p>在 FPS 游戏里，也存在像守望先锋、Apex、Valorant 这样走技能路线的，在这些游戏里，玩家的角色逻辑倒是与 MOBA 游戏比较像。</p><p>如果考虑走场景化的路线，以下这些环节都存在场景化的可能：</p><h4 id="1-组队界面"><a href="#1-组队界面" class="headerlink" title="1. 组队界面"></a>1. 组队界面</h4><p><a href="/thoughts/visual-design-of-ranking-system/image.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/image.jpg"></a></p><p>英雄联盟的组队界面</p><p><a href="/thoughts/visual-design-of-ranking-system/valorant-lobby.png" title="Lobby screenshot of Valorant video game interface." class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/valorant-lobby.png" alt="Lobby screenshot of Valorant video game interface."><span class="image-caption">Lobby screenshot of Valorant video game interface.</span></a></p><p>Valorant 的组队界面</p><p><a href="/thoughts/visual-design-of-ranking-system/apex-legends-matchmaking-1920x1080.jpg" title="Matchmaking screenshot of Apex Legends video game interface." class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/apex-legends-matchmaking-1920x1080.jpg" alt="Matchmaking screenshot of Apex Legends video game interface."><span class="image-caption">Matchmaking screenshot of Apex Legends video game interface.</span></a></p><p>Apex Legends 的组队界面</p><h4 id="2-段位提升"><a href="#2-段位提升" class="headerlink" title="2. 段位提升"></a>2. 段位提升</h4><p>像阴阳师那样，每个称号就是一个大段，导致段位太多，最后图标不得堕入妖艳浮夸的尴尬境地，这样的游戏毕竟不多。大多数的游戏，每个段位都分为若干个星级，提升星级比较简单，可以频繁地激励玩家，大段位之间的晋级赛则充满挑战。这样的升级路径张弛有度，节奏感更好。</p><h4 id="3-比赛奖励"><a href="#3-比赛奖励" class="headerlink" title="3. 比赛奖励"></a>3. 比赛奖励</h4><p>守望先锋奖励结算的动态效果非常精彩，引来了很多效仿者。比如 Apex Legends 的这个小机器人，笨头笨脑，有点呆萌，给人的印象也非常深刻。</p><p>Apex 广泛地运用三角形元素，连赛后奖励都是三个，正好对应小机器人掉落的三片装甲。</p><p>如果我们的排位流程以光明圣殿为主题，用圣殿的某个角色或者元素作为颁奖的引子，想必也能制造精彩的局部细节。</p><p>当然也有节省资源的做法，比如风暴英雄，用六边形元素形成一个抽屉，从中推出奖励，也非常贴合它的设计主题。</p><p><a href="/thoughts/visual-design-of-ranking-system/b7698a66b1cba7b3d9d02f6329db8b69_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/b7698a66b1cba7b3d9d02f6329db8b69_detail.jpg"></a></p><p>风暴英雄的奖励结算界面</p><h4 id="4-赛季结算"><a href="#4-赛季结算" class="headerlink" title="4. 赛季结算"></a>4. 赛季结算</h4><h2 id="四、流程的叙事性"><a href="#四、流程的叙事性" class="headerlink" title="四、流程的叙事性"></a>四、流程的叙事性</h2><p>以英雄联盟为代表的 MOBA 游戏，游戏流程都非常简单直接，点击 PLAY 按钮，等待玩家匹配，然后就进入 BP 界面，双方确定阵容，Welcome to the rift~</p><p>这个流程沿袭自最早的 Dota，因为 Dota 只是一张 Warcraft 3 的自定义地图，完全是基于玩法的，脱离 Warcraft 3 世界观以后，玩法之外的设定约等于没有。</p><p><a href="/thoughts/visual-design-of-ranking-system/dota-allstars-version-v6-78b.jpeg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/dota-allstars-version-v6-78b.jpeg"></a></p><p>Dota Allstars</p><p>但这个游戏模式非常成功，早已深入人心，导致后来的类型开拓者只能基于约定俗成的流程修修补补：Dota 2 的世界观建设似乎早就躺平了，而英雄联盟宇宙经过十几年的经营，尽管现在已经非常宏大，也成功地塑造过很多个性鲜明的英雄形象，但召唤师_（也就是玩家）_是什么角色？与他们所操作的英雄是什么关系？在删除战争学院这个尴尬的设定以后，这里面的逻辑都有些语焉不详了。</p><p>所以 MOBA 游戏的流程设定有些先天不良，虽然玩家早已习惯，但只要跟 PUBG 那种充满戏剧性的流程对照一下，就只能用朴实无华、枯燥乏味来形容。</p><h3 id="PUBG-的游戏流程"><a href="#PUBG-的游戏流程" class="headerlink" title="PUBG 的游戏流程"></a>PUBG 的游戏流程</h3><p>我们都知道 PUBG 的游戏背景是从大逃杀衍化而来，一百名玩家被空投到一个孤岛上各自为战，最后活下来的玩家或小队才是唯一的赢家。这些设定并没有停留在背景设定的层面，每一步都被游戏画面呈现出来，可以被玩家体验到，足以帮助玩家快速进入情境。</p><p>因为一下子找不到完整的 PUBG 流程截图，所以姑且以一脉相承的《和平精英》为例：</p><p><a href="/thoughts/visual-design-of-ranking-system/fa2a7bd70bf08a77c53ca7733b1836b3_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/fa2a7bd70bf08a77c53ca7733b1836b3_detail.jpg"></a></p><p>第一步：玩家在机场集结</p><p><a href="/thoughts/visual-design-of-ranking-system/3dd0f4fa7936fbca6d0948e0de399b68_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/3dd0f4fa7936fbca6d0948e0de399b68_detail.jpg"></a></p><p>第二步：飞机将玩家送往岛上</p><p><a href="/thoughts/visual-design-of-ranking-system/cbd044783cc730791ce5782a8357ecbd_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/cbd044783cc730791ce5782a8357ecbd_detail.jpg"></a></p><p>第三步：玩家选择一个地方空投，开始为生存而战</p><p><a href="/thoughts/visual-design-of-ranking-system/85365389b35659831bf0ab46a313cad0_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/85365389b35659831bf0ab46a313cad0_detail.jpg"></a></p><p>游戏结算：玩家在出口集合</p><p>虽然并不是 PUBG 开创了大逃杀类型，DayZ 和 H1Z1 推出的时间更早，但不妨碍 PUBG 最终脱颖而出。与常规的匹配、开打相比，这个独特的游戏流程，以及「大吉大利，今晚吃鸡」这样的梗所带来的品牌效应无疑是洗脑级别的。所以我们看到后来的追随者，比如 Fortnite，也袭用了差不多的设定：</p><p><a href="/thoughts/visual-design-of-ranking-system/28ba649fdea23359fc6457e3d48eda52_detail.jpg" class="gallery-item"><img src="/thoughts/visual-design-of-ranking-system/28ba649fdea23359fc6457e3d48eda52_detail.jpg"></a></p><p>Fortnite 把飞机换成了热气球大巴车</p><h3 id="搭建叙事性流程"><a href="#搭建叙事性流程" class="headerlink" title="搭建叙事性流程"></a>搭建叙事性流程</h3><p>所以我们能否抛开约定俗成的观念，切实地考虑以下这些问题：</p><ol><li>玩家为什么要参加排位赛？</li><li>谁举办了这些比赛？</li><li>玩家领取的奖励是什么？</li><li>玩家的段位对应游戏世界观里的什么？</li><li>赛季内容_（比如赛季皮肤）_与比赛是什么关系？</li></ol><p>对于某些类型的游戏来说，这些东西都是不言自明的，比如 FPS 游戏，玩家很容易代入军人或者战士的身份，战斗就是军人的天职：消灭敌人，获得勋章，提升军衔。当然，不同的游戏讲故事的能力可能天差地别——像 PUBG 这样把故事融入排位赛流程的更是灵感溢出的神来之笔，它甚至不用再讲别的故事来填充设定——但这套底层逻辑却是大家都很容易认同的。</p><p>但 MOBA 游戏没有这样的便利，反而因为花样百出的英雄，世界观总是趋于纷繁驳杂，无法用几句简单的话就概括出来。所以，我们是否可以从中入手，挑战一下那套沿用了十几年的、模式化的流程设定？这些设定当然不能、也不必强加在每个流程里，但整理好这些线索，不但非常有助于保持整个排位流程的体验的一致性，以及情境的前后连贯，而且可以在某些环节增加有趣的细节。</p><p>在思考这些问题的过程中，我们会遇到各种各样的衍生问题，但只要顺着这个思路捋下去，逐步细化，我相信设计该走什么风格，哪个环节可以加入精彩的局部效果，都会形成越来越清晰的方向。</p><p>当然，大部分玩家可能无法直接领会这些设定的意义，但这些工作也足以起到潜移默化的功效，就像曾经有玩家在不同的英雄故事里发现零星线索，串联出一个不得了的大事件一样，一定也会有玩家发现流程背后隐藏的故事，那将会是极大的满足。</p><hr><p>本文小部分 UI 由自己截图，大部分搜集于以下 UI 资源网站，行文疏漏，无法一一注明其来源，谨此致谢：</p><ol><li><a href="https://interfaceingame.com/">Interface In Game | Collection of video games UI | Screenshots and videos</a></li><li><a href="https://www.gameuidatabase.com/index.php">Game UI Database</a></li><li><a href="https://gameui.net/">GAMEUI - 游戏UI&#x2F;UX学习、交流、分享平台</a></li></ol></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;div class=&quot;foreword&quot;&gt;

&lt;p&gt;排位系统基本上是现代游戏的标配，只要在游戏里玩家与玩家可以直接对抗（即 PvP），排位系统就必不可少。甚至一些玩家不用直接对抗的休闲游戏，也都会加上好友排行榜之类的系统，以期激发玩家的竞争本能，互相攀比、追赶，从而提高游戏的活跃度和营收。&lt;/p&gt;
&lt;p&gt;为了鞭笞玩家，避免他们偷懒懈怠，现代游戏还设计出了赛季的概念。&lt;strong&gt;什么是赛季呢？&lt;/strong&gt;赛季系统就相当于一个滴答作响的闹钟，在你的脑子里拧紧了发条，提醒你赶紧去玩游戏，否则本赛季的荣誉、成就以及丰厚的奖励就通通和你无缘了。&lt;/p&gt;
&lt;p&gt;赛季通常以月为单位，比如 Clash Royale 每个月就是一个赛季；王者荣耀的则是三个月，一个季度就是一个赛季，很符合现实里「季」的定义；而 League of Legends 的赛季与传统体育赛事是一样的，一个赛季长达一年。&lt;/p&gt;
&lt;p&gt;在每个新的赛季，厂商都会打包推出一系列的游戏内容，除了常规玩法的更迭、平衡性的调整，还会有全新的地图、游戏机制、英雄、皮肤，以及特别的荣誉、成就以及奖励。&lt;/p&gt;
&lt;p&gt;在赛季系统出现以前，玩家弃游很简单，不想玩就不玩了，我的排位积分可能会慢慢降下来，但只要想打，还是能随时把它打上去，完全不用考虑会有什么损失。但赛季限定内容的出现，尤其是赛季奖励，一般都具有最顶级的品质，一旦错过，就没办法再通过其他渠道获得。如果你不想因为错过了什么而追悔莫及，那么你就必须……很遗憾，他们就希望你这么想。&lt;/p&gt;
&lt;p&gt;这种机制建立在人性弱点的基础上，是现代商业最幽微隐晦不可言说的黑暗面。它一手炮制了玩家的焦虑，增加玩家弃游的心理负担，从而不得不定期上线为游戏厂商打工。&lt;/p&gt;
&lt;p&gt;所以你问我怎么说？&lt;strong&gt;当然是去玩买断制游戏啦&lt;/strong&gt;。&lt;/p&gt;
&lt;/div&gt;</summary>
    
    
    
    <category term="观点" scheme="https://waxa.design/categories/thoughts/"/>
    
    
    <category term="game" scheme="https://waxa.design/tags/game/"/>
    
    <category term="排位赛系统" scheme="https://waxa.design/tags/%E6%8E%92%E4%BD%8D%E8%B5%9B%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="段位图标" scheme="https://waxa.design/tags/%E6%AE%B5%E4%BD%8D%E5%9B%BE%E6%A0%87/"/>
    
  </entry>
  
  <entry>
    <title>游戏排位系统的设计考察</title>
    <link href="https://waxa.design/thoughts/design-comparison-of-ranking-system/"/>
    <id>https://waxa.design/thoughts/design-comparison-of-ranking-system/</id>
    <published>2022-06-02T00:00:00.000Z</published>
    <updated>2023-05-28T17:52:07.416Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p>显而易见，没有网络游戏玩家之间的联机对抗，就不会产生在线的排位系统，所以相对于漫长的电子游戏史，排位赛应该是一个比较现代的游戏系统。</p><p>在八零后九零后的童年记忆里，游戏厅遍布街头巷尾，大部分的街机游戏结束之后，一般也会有一个得分排行榜，霸榜的自然都是高手和大佬。当然，那个排名非常原始，虽然看起来跟现代网络游戏的排位赛榜单也没差多少，但系统机制早已是霄壤之别。</p><p>以常理推测，DOOM、CS 这些可以联机的 FPS 游戏应该最有可能产生最初的排位赛系统，但早期的画面很难搜索到，并且考虑到那个时代的屏幕分辨率，其视觉表现也不宜高估，所以一并略过。</p><span id="more"></span><p>关于游戏排位系统，我们主要考察以下几个方面：</p><ol><li>排位赛的世界观设定；</li><li>排位赛入口；</li><li>段位图标，_有很多游戏没有段位的概念，但普遍存在的等级图标和成就图标也可以参考_；</li><li>排位赛结算界面；</li><li>排位赛结果的分享页面；</li><li>个人页面里的段位信息呈现；</li><li>与排位系统相关的其他游戏内界面；</li><li>游戏外的排位赛查询系统。</li></ol><p>当然，并不是每个游戏都具备对应的模块，或者对应的设计太过于寻常，对我们没有启发，这种情况就不必提及了。</p><h2 id="一、暴雪游戏的排位系统"><a href="#一、暴雪游戏的排位系统" class="headerlink" title="一、暴雪游戏的排位系统"></a>一、暴雪游戏的排位系统</h2><p>虽然暴雪的声望近几年每况愈下，但作为最早有意识地推动电子竞技发展的游戏厂商，并且旗下的几个游戏在视觉表现上也一直保持着出类拔萃的水准，考察一下他们的排位系统设计还是非常有必要的。</p><h3 id="World-of-Warcraft-魔兽世界"><a href="#World-of-Warcraft-魔兽世界" class="headerlink" title="World of Warcraft 魔兽世界"></a>World of Warcraft 魔兽世界</h3><p>作为 MMORPG 品类的代表作，魔兽世界虽然没有通常意义上的排位赛，但是 PVP 玩法却非常丰富，其中与排位赛接近的有两种：一种是<strong>竞技场</strong>，由两名或者三名玩家组队参与，玩起来倒比较像 3D 格斗游戏。另一种则是<strong>战场</strong>，需要十名玩家参与，一般是争夺地图资源或者夺取对方阵营的旗帜。</p><p>游戏提供了网页版的 PvP 排行版，请参见：<a href="https://worldofwarcraft.com/en-us/game/pvp/leaderboards/">https://worldofwarcraft.com/en-us/game/pvp/leaderboards/</a> 国服不知道出于什么原因把这个页面阉割掉了，有些莫名其妙。</p><p>虽然玩法略有不同，但是对应的荣誉系统却是一致的，根据不同的荣誉积分，一共分为以下几个段位：</p><ul><li>Unranked &#x2F; 无排名: <em>0 - 1400</em></li><li>Combatant &#x2F; 战斗者: <em>1375 - 1600</em></li><li>Challenger &#x2F; 挑战者: <em>1575 - 1800</em></li><li>Rival &#x2F; 竞争者: <em>1775 - 2100</em></li><li>Duelist &#x2F; 决斗者: <em>2075 - 2400</em></li><li>Elite &#x2F; 精英：<em>2400+</em></li><li>Gladiator &#x2F; 角斗士: <em>在 2400+ 分段取得 50 胜</em></li></ul><p><a href="/thoughts/design-comparison-of-ranking-system/wow-ranking.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/wow-ranking.png"></a></p><p>魔兽世界荣誉段位图标</p><p>虽然纯布甲法师玩家可能要抗议了：为什么图标都长这样？这些图标却无疑影射出他们在竞技场的尴尬地位与悲惨命运，而战士才是笑到最后的终极强者。</p><p>因为魔兽世界的玩法与世界观贴合得异常紧密，这套图标单独拿出来也不是很出色，所以除此之外的 UI 表现反而没什么值得说的了。</p><h3 id="StarCraft-2-星际争霸-2"><a href="#StarCraft-2-星际争霸-2" class="headerlink" title="StarCraft 2 星际争霸 2"></a>StarCraft 2 星际争霸 2</h3><p>星际争霸 2 同样提供了 PvP 排名的展示页面：<a href="https://starcraft2.com/zh-tw/ladder/grandmaster/1">宗師排名</a>，但仅限于排名前 200 的宗师联赛。</p><p><a href="/thoughts/design-comparison-of-ranking-system/starcarft2-rankings-1380x776.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/starcarft2-rankings-1380x776.png"></a></p><p>Starcraft 2 的段位图标，单拎出来看比较常规</p><p>如上图所示，星际争霸共有六个段位，依次是青铜 &#x2F; 白银 &#x2F; 黄金 &#x2F; 铂金 &#x2F; 钻石 &#x2F; 大师，以及大师之上排名前 200 的宗师。这个段位设置我们还会在其他暴雪游戏中看到，非常朴实无华。</p><p>星际争霸的界面可能是科幻写实风格的巅峰，但是综合效果可能还停留在上个世代，偏重界面设计，对动态效果的呈现则因为技术和电脑性能的限制而比较缺乏。</p><p>不妨横向对照一下，同样是暴雪游戏，同样的结算界面，守望先锋的设计很简洁但效果华丽，比赛结束之后几个银币抛在空中，划出漂亮的弧线后落回地面，之后战利品逐个展示，非常生动。反观星际争霸点一下按钮，啪一声回到快速匹配界面，你赢得了什么，排位积分涨了多少，都毫无体现，只能说约等于无吧……</p><p><a href="/thoughts/design-comparison-of-ranking-system/starcraft2-quick-match-1380x863.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/starcraft2-quick-match-1380x863.png"></a></p><p>比赛从这里开始，也从这里结束</p><h3 id="Hearthstone-炉石传说"><a href="#Hearthstone-炉石传说" class="headerlink" title="Hearthstone 炉石传说"></a>Hearthstone 炉石传说</h3><p>炉石传说的界面也非常厚重，但毕竟迟了四年发布，动态效果比星际争霸 2 不知强到哪里去了。</p><p>段位设定基本上就是从青铜到铂金的标配，只不过最上面的不叫大师，而是传奇。</p><p>炉石传说的六个大段位，同时也是玩家的头像框。</p><p>炉石整体上给人一种简易、拙朴的感受，按钮等 UI 控件大而少，菜单的层次也控制得特别浅，配上轻松诙谐的音乐，确实营造出了那种忘掉白天繁重的工作、置身深夜小酒馆的惬意感。现在的大多数游戏都容易把系统做得很大很复杂，让人望而却步，且容易疲惫。</p><p>一旦玩过炉石传说，这个匹配等待界面就忘不掉了吧？</p><h3 id="Heroes-of-the-Storm-风暴英雄"><a href="#Heroes-of-the-Storm-风暴英雄" class="headerlink" title="Heroes of the Storm 风暴英雄"></a>Heroes of the Storm 风暴英雄</h3><p>风暴英雄也有网页版[^1]的天梯排行榜：<a href="https://heroesofthestorm.com/en-gb/leaderboards/storm/20/americas/">Grand Master Leaderboards - Heroes of the Storm</a>，感觉是暴雪游戏标配。</p><p>[^1]: 无论如何，游戏荣誉得到官方的公开展示应该是顶级玩家的动力之一，虽然现代玩家——尤其是中国玩家更习惯于分享图片而非网页。但图片这种格式只能点对点主动传播，而网页却可以公开浏览，而且不受客户端的约束，仍然有它不可取代的作用。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Heroes-of-the-Storm-User-Interface-on-Behance-1-1380x1100.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Heroes-of-the-Storm-User-Interface-on-Behance-1-1380x1100.jpg"></a></p><p>段位设定以及与段位匹配的头像框</p><p>段位设定仍然和暴雪的其他游戏差不多，和星际争霸甚至一模一样。但作为一款正经的 MOBA 游戏，风暴英雄对段位的展示比暴雪的其他游戏要强调得多，而且动态效果华丽，感觉从这款游戏里攒到的经验，后续在守望先锋都用上了。</p><p><a href="/thoughts/design-comparison-of-ranking-system/UI-prototype-graphics-icons-fx-animation-Games-MOBA.gif" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/UI-prototype-graphics-icons-fx-animation-Games-MOBA.gif"></a></p><p><a href="/thoughts/design-comparison-of-ranking-system/UI-prototype-graphics-icons-fx-animation-Games-MOBA-2.gif" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/UI-prototype-graphics-icons-fx-animation-Games-MOBA-2.gif"></a></p><p>风暴英雄的设计都围绕「时空枢纽」这个核心概念来展开，有直接使用「时空枢纽」这个造型的延展应用，也有三等分围绕中心旋转的其他漩涡状设计，还有虚空、太空的背景空间营造，都和主题贴合得很紧密，整体感特别好。</p><p><a href="/thoughts/design-comparison-of-ranking-system/UI-prototype-graphics-icons-fx-animation-Games-MOBA-1.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/UI-prototype-graphics-icons-fx-animation-Games-MOBA-1.jpg"></a></p><p>关于风暴英雄的 UI 设计，Behance 上面有非常棒的设计总结：<a href="https://www.behance.net/gallery/77420483/Heroes-of-the-Storm-User-Interface">Heroes of the Storm User Interface on Behance</a>，本文与风暴英雄有关的部分大多引自这里。</p><h3 id="Overwatch-守望先锋"><a href="#Overwatch-守望先锋" class="headerlink" title="Overwatch 守望先锋"></a>Overwatch 守望先锋</h3><p>守望先锋的段位设定还是暴雪的老一套，而且单拎出来，似乎也没有多好——甚至我就很不喜欢这个黏黏糊糊的描边，就不能跟后面的大师段位一样，大大方方把轮廓展示出来？</p><p><a href="/thoughts/design-comparison-of-ranking-system/overwatch-ranking-level.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/overwatch-ranking-level.png"></a></p><p>Overwatch 的段位图标，非常简洁</p><p>不过游戏里的实际效果就是另外一回事了。暴雪的风格大家都很熟，基本上已经把写实 UI 做到头了，再往上也无路可走了。到守望先锋这里，改头换面，重洗了天赋树，走简洁轻量的路线，多出来的天赋点数，则全都加在动态的效果呈现上。所以我们进到游戏里，打动我们的不再是质感和层次，而是丰富而流畅的、赏心悦目的动态效果，比如我之前提到过的比赛结束以后的奖励结算界面：</p><p>以上的暴雪游戏根据发布日期排列，从最早的魔兽世界到最新的守望先锋_（虽然守望先锋都已经是六年的老游戏，但因为现在的暴雪早已躺平，沉迷炒冷饭，在此之后就没有发布过像样的新游戏了）_，UI 设计的发展方向清晰可见：更轻量的设计带来更简洁的信息呈现，更丰富的动态效果提供了更流畅的用户引导。</p><p>所以在现代的设计观念里，UI 设计的整体性与流畅感远比某个精彩的局部重要。善战者无赫赫之功，大部分玩家需要的是游戏的沉浸感，而不是随时被某个特别突出的 UI 组件所惊艳，停下来赞美这个设计做得有多好。</p><p>举个例子，单独来看，风暴英雄的段位图标要胜过守望先锋的段位图标，但是把风暴英雄的段位图标放到守望先锋里，那动态效果的流畅度肯定会受影响，因为它太精致了，视觉比重非常大，放在界面里好比水流中的一块石头，游戏的流畅体验反而受影响。</p><hr><h2 id="二、英雄联盟及-MOBA-游戏的排位系统"><a href="#二、英雄联盟及-MOBA-游戏的排位系统" class="headerlink" title="二、英雄联盟及 MOBA 游戏的排位系统"></a>二、英雄联盟及 MOBA 游戏的排位系统</h2><p>MOBA 游戏_（或者称之为 Dota-like 游戏）_应该是最早普及排位赛以及游戏段位的游戏类型，也是我们要考察的重点类型。</p><h3 id="英雄联盟"><a href="#英雄联盟" class="headerlink" title="英雄联盟"></a>英雄联盟</h3><p>时至今日，英雄联盟已经成为有史以来最成功的电子竞技游戏，即使是最原教旨的 Dota 2 玩家都无法否认这个事实。回顾其发展历程，必须说拳头明确的定位造就了它的成功，英雄联盟就是为电子竞技而生的：它在上线之处就着手组建自己的赛事体系，也第一次将更科学的 Elo rating system 引入到排位系统，针对当时主流的排位积分制，英雄联盟非常有创意地将它改造成了直观易懂的段位，才有了今天我们普遍接受的从青铜到王者的升级路径。</p><p><a href="/thoughts/design-comparison-of-ranking-system/League-Of-Legends-Ranking-System-Explained-1920x888.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/League-Of-Legends-Ranking-System-Explained-1920x888.jpg"></a></p><p>英雄联盟 2019 年以前的段位图标，它定义了大多数玩家习惯的从青铜到王者的段位设置。</p><p>不过相对于「青铜 - 白银 - 黄金 - 铂金 - 钻石 - 大师 - 王者」这个极容易接受的段位概念，段位图标的设计概念则比较模糊，我们能感受到质感与装饰感的逐级提升，但这个展翼的造型有什么特别的意义吗？玩家可能很难理解，反正我从来不曾领会到。</p><p>在 S6 赛季，英雄联盟推出了全新的 <a href="https://www.behance.net/gallery/43098489/League-of-Legends-Hextech-Visual-Identity?tracking_source=search_projects%7Chextech">Hextech</a> 视觉概念，之后的设计都围绕着这个概念展开，并逐步迭代替换了原有的各个系统。新的排位系统刚上线的时候，造型和动画效果都让人眼前一亮。</p><p>排位匹配成功，韩服</p><p>新段位图标刷新之后，头盔的概念自然比之前的展翼造型更清晰明了，但是如何理解呢？联想到鬼蟹在两家公司的职位，我甚至有一个毫无依据的推测：这个头盔与前面出现过的魔兽世界竞技场图标放在一起比较，思路是一以贯之的，就是将玩家定位成 脚男 战士。战士的武力、荣誉和地位，不就全凭剑盾盔甲来体现吗？</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E5%9B%BE%E5%83%8F-1.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E5%9B%BE%E5%83%8F-1.jpg"></a></p><p>英雄联盟 2019 年更新的段位图标，以头盔为主题。</p><p>另外，这个头盔造型很容易误认为是铁铠冥魂莫德凯撒，钻石段位以上有些浮夸的华丽质感，不由让人挠头发问：吉他手所在的五杀乐队又出新专辑了？</p><p>不过话说回来，既然已经建立了 Hextech 这样与世界观紧密联系、同时又能兼顾审美格调与辨识特征的视觉体系，在几年以后更新的这套段位图标，不但游离于 Hextech 体系之外，还散发着一种莫名其妙的复古味道，窃以为很难称之为优秀的设计。</p><h4 id="段位图标的延展设计"><a href="#段位图标的延展设计" class="headerlink" title="段位图标的延展设计"></a>段位图标的延展设计</h4><p>段位是非常重要的身份标识，是玩家实力的象征，荣誉的体现。玩家和别人组队的时候，都喜欢把段位直观地展示出来，证明自己是一个值得信赖的可靠队友。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Lobby-1920x1080.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Lobby-1920x1080.jpg"></a></p><p>英雄联盟组队界面</p><p>可能大部分人都觉得把头像、名字和段位图标摆在一起就行了，但现实往往不会那么简单。对玩家而言，头像才是自己的代入对象，段位固然重要，但它就像官员头上的帽子，彰显自己的身份品级，但这个帽子也绝对不能遮蔽自己的脸孔，否则喧宾夺主，再华丽又有何意义？所以如何协调玩家头像与段位图标之间的视觉比重，就成了一个非常微妙的目标。</p><p>英雄联盟的段位图标非常精美，细节很多，但这些质感和层次让它看起来非常重。也就是说，在同样的面积里，这种风格会占据更多的关注，这就导致了一个难以平衡的尴尬局面：这个图标放大，会抢注意力；缩小，辨识度又不够。总之，很容易导致视觉的失调。</p><p>对付这种过于精致视觉比重太大的图标，常规的解决办法是另外准备一个简单的剪影版。比如英雄联盟的地域徽标，都有对应的剪影版：</p><p><a href="/thoughts/design-comparison-of-ranking-system/league-of-legends-regions.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/league-of-legends-regions.png"></a></p><p>英雄联盟五个地域徽标的完整版与剪影版</p><p>但英雄联盟这套段位图标主要由质感来区分等级差异，简化成剪影之后都是头盔，大同小异，很难分辨所属等级，这个思路行不通。</p><p>所以英雄联盟提供了另外一种解决方案，它们为每个段位都设计了一个对应的头像框，放在头像的下方。你可以通过这个框直观地读取玩家的段位，同时头像居中且在上面，保证了视觉层次的优先级。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Banner-1.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Banner-1.jpg"></a></p><p>无段位至铂金段位对应的头像框</p><p><a href="/thoughts/design-comparison-of-ranking-system/Banner-2.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Banner-2.jpg"></a></p><p>大师至王者段位对应的头像框</p><p>英雄联盟的这个设计可能对我们会有所启发：段位图标的风格选择非常重要，否则在各个界面的适配性会出现问题；同时，像头像框这种能体现玩家段位的延展设计也是必不可少的，需要考虑到可能的应用场景。</p><h4 id="英雄联盟的赛季包装"><a href="#英雄联盟的赛季包装" class="headerlink" title="英雄联盟的赛季包装"></a>英雄联盟的赛季包装</h4><p>排位系统是固定的框架，而不断更新的赛季内容则像是框架之中流动的河水，总是推动着玩家进入这个框架。对大多数的网络游戏来说，一旦停止内容更新，那玩家的游戏动力也必将随之消散。</p><p>英雄联盟对赛季包装非常重视，每个赛季都有单独的图标和主题，以及围绕主题制作的一系列宣传素材，比如现在的 2022 赛季，它的图标是这样：</p><p><a href="/thoughts/design-comparison-of-ranking-system/Riot-is-being-criticized-by-league-players-following-modifications-to.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Riot-is-being-criticized-by-league-players-following-modifications-to.jpg"></a></p><p>League of Legends season 2022</p><p>2022 赛季的主题是 The Call 召唤，对应的宣传片是：</p><p><a href="https://www.youtube.com/watch?v=mDYqT0%5C_9VR4">https://www.youtube.com/watch?v=mDYqT0\_9VR4</a></p><p>流失的玩家啊，你们有没有听到内心的召唤？</p><p>回溯前几个赛季，2021 赛季的主题是 Ruination 破败之咒：</p><p><a href="/thoughts/design-comparison-of-ranking-system/Twitter-%E4%B8%8A%E7%9A%84League-of-Legends%EF%BC%9ASeason-2021-is-just-getting-started-Check.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Twitter-%E4%B8%8A%E7%9A%84League-of-Legends%EF%BC%9ASeason-2021-is-just-getting-started-Check.jpg"></a></p><p>League of Legends season 2021</p><p>2021 赛季整个是围绕新英雄破败之王展开的大事件，所以本赛季的宣传片跟以往的玩家动员不太一样，可以看作是大事件的预告：</p><p><a href="https://www.youtube.com/watch?v=8PbhGt8XxSM">https://www.youtube.com/watch?v=8PbhGt8XxSM</a></p><p>黑雾来袭，危机初现。</p><p>再往前，2020 年的赛季主题是勇士，其图标如下：</p><p><a href="/thoughts/design-comparison-of-ranking-system/League-of-Legends-Best-Champions-to-Play-for-Ranked-2020.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/League-of-Legends-Best-Champions-to-Play-for-Ranked-2020.jpg"></a></p><p>League of Legends season 2020</p><p>可以看出 2020 年和 2021 年图标之间存在某种连续性。</p><p>不知为何，无论是 2020 年的勇士还是 2022 年的召唤，这些赛季宣传片都带着一种一往无前、百折不挠的悲壮色彩：</p><p><a href="https://www.youtube.com/watch?v=aR-KAldshAE&t=102s">https://www.youtube.com/watch?v=aR-KAldshAE&amp;t=102s</a></p><p>Warriors，这首歌比较经典</p><h3 id="DOTA-2"><a href="#DOTA-2" class="headerlink" title="DOTA 2"></a>DOTA 2</h3><p>英雄联盟从推出 Hextech 以后，除了我们熟悉的静态视觉语言，也越来越重视 UI 的动态效果，游戏体验日趋流畅生动。但 Dota 2 却一直给我一种保守复古的感受：灰黑的界面给人磐石一般的坚实感，但反过来说就不够灵动。配色冷静克制，注重操作的辅助引导和数据的准确呈现，但很少利用动态效果去调动玩家的情绪，有一种强烈的理工科色彩，特别工具化。</p><p><a href="/thoughts/design-comparison-of-ranking-system/dota-2-choose-your-hero-1920x1080.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/dota-2-choose-your-hero-1920x1080.jpg"></a></p><p>英雄选择界面，风格、体验都与英雄联盟差异明显。</p><p>跟现在市面上大部分追随英雄联盟那一套_（也就是青铜白银到大师王者，可能顶端的王者会有所变化）_的普通游戏迥然不同，Dota 2 有自己的传承与坚持，段位设置也很特别，由低到高分别是：先锋，卫士，中军，统帅，传奇，万古流芳，超凡入圣，冠世一绝。</p><p><a href="/thoughts/design-comparison-of-ranking-system/dota2-ranking-1380x776.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/dota2-ranking-1380x776.png"></a></p><p>DOTA 2 2022 年的段位图标</p><p>就和先锋、卫士、中军和统帅这种军事色彩很强烈的名词一样，Dota 2 的段位图标大概也是由军衔和勋章衍化而来，初级段位朴实无华，越往上越华丽。</p><h3 id="王者荣耀"><a href="#王者荣耀" class="headerlink" title="王者荣耀"></a>王者荣耀</h3><p>作为一款国民游戏，王者荣耀早已形成了清晰的品牌定位，那就是基于中国本土传统文化的东方奇幻风格。</p><p><a href="/thoughts/design-comparison-of-ranking-system/wzry-ranking.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/wzry-ranking.png"></a></p><p>王者荣耀 2022 年的段位图标</p><p>然而主题上，这套段位图标并不具备鲜明的东方奇幻感，可能只是单纯地继承了魔兽世界、英雄联盟那样的西式魔幻设定，也就是将玩家定位成冒险的勇士，所以力量、荣誉都体现为骑士的剑盾盔甲，只不过相应的造型都换成了中国传统风格。</p><p>虽然大部分人并不会思考这样的问题，但这种泛用的概念是否契合王者荣耀的世界观？玩家能否领会和接受？我认为是存疑的。</p><h4 id="段位图标的等级划分"><a href="#段位图标的等级划分" class="headerlink" title="段位图标的等级划分"></a>段位图标的等级划分</h4><p>与其他游戏一样，王者荣耀的段位图标也有比较明显的等级划分，很明显分为三个等级：</p><ol><li>从青铜到铂金所衬的旗帜是蓝色，可视为<strong>常规段位</strong>；</li><li>钻石和星耀的旗帜则是紫色，可视为<strong>进阶段位</strong>；</li><li>两个王者段位都是红色旗帜，同时主体也从剑盾变成了威严的龙头，可视为<strong>高级段位</strong>。</li></ol><p>我们回顾前面几个游戏，发现大多具有明显的段位划分，比如英雄联盟和 Dota 2，第一排的常规段位与第二排的高级段位都存在明显的视觉差异。而风暴英雄的常规段位都是圆形外框，高级段位的外框则换成了「时空枢纽」的特殊造型。</p><h4 id="短赛季的整合方案：赛年"><a href="#短赛季的整合方案：赛年" class="headerlink" title="短赛季的整合方案：赛年"></a>短赛季的整合方案：赛年</h4><p>因为英雄联盟的赛季长达一年，所以赛季素材的筹备时间都足够充裕，制作也非常精良。而王者荣耀、Arena of Valor 这些手机上的 MOBA 游戏，每个赛季只有三个月，时间过于短促，如果每个赛季也按照同样的高标准来包装，厂商是无力承担的。</p><p>可能正是出于这样的考量，王者荣耀推出了赛年的概念。每个赛年跨度就是一年，包含四个赛季，比如 2021 年的长安赛年，年初定下总体基调，接下来的四个赛季则围绕长安城内的特定区域或者机构来推进，形成一个连续而且完整的故事线。</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%EF%BC%9A%E9%95%BF%E5%AE%89%E7%A5%9E%E7%A7%98%E7%AC%A6%E5%8F%B7%E6%8F%AD%E7%A7%98%EF%BC%8C%E5%8F%B8%E7%A9%BA%E9%9C%87%E5%87%BA%E8%A3%85%E6%8F%90%E5%89%8D%E7%9F%A5%EF%BC%8CS22%E6%97%B6%E9%95%BF%E4%B8%80%E8%A7%88.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%EF%BC%9A%E9%95%BF%E5%AE%89%E7%A5%9E%E7%A7%98%E7%AC%A6%E5%8F%B7%E6%8F%AD%E7%A7%98%EF%BC%8C%E5%8F%B8%E7%A9%BA%E9%9C%87%E5%87%BA%E8%A3%85%E6%8F%90%E5%89%8D%E7%9F%A5%EF%BC%8CS22%E6%97%B6%E9%95%BF%E4%B8%80%E8%A7%88.jpg"></a></p><p>王者荣耀 2021 长安赛年，预告素材</p><p><a href="https://www.youtube.com/watch?v=9dcoVlBtXQU">https://www.youtube.com/watch?v=9dcoVlBtXQU</a></p><p>王者荣耀 2021 长安赛年 CG：不夜长安</p><p>时间跨度更长的赛年具备短赛季所无法媲美的优势：</p><ol><li>赛年的美学标准和应用规范可以覆盖比较长的时期，素材的利用率大大提高。因为筹备时间更长，素材的质量可以相应提高；</li><li>对设计团队来说，他们不再需要给每个赛季单独定制主题，只需在赛年概念_（比如王者荣耀的长安）_之下拓展不同的子主题即可，工作压力可以减轻；</li><li>对玩家来说，赛年的概念比较完整而且连续，不再是东一榔头西一锤子的碎片化输出，如此一来，不但世界观的接受度得到提升，而且剧情的连续发展也能吸引玩家的长期关注。</li></ol><p>对于短赛季的游戏来说，整合包装成赛年无疑是一种事半功倍的方案。当然，它将对团队的整体规划能力提出更高的要求。</p><h4 id="赛年内容与排位系统的结合"><a href="#赛年内容与排位系统的结合" class="headerlink" title="赛年内容与排位系统的结合"></a>赛年内容与排位系统的结合</h4><p>很早之前，王者荣耀也和其他同类游戏一样，排位界面以展示赛季皮肤为主：</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%B8%8D%E8%83%BD%E9%87%8D%E5%BC%80%EF%BC%9F%E9%87%8D%E5%BC%80%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3%EF%BC%8C%E5%88%AB%E5%86%8D%E5%8E%BB%E8%B8%A9%E5%89%AF%E8%81%8C%E4%B8%9A%E7%9A%84%E5%9D%91-%E6%AF%8F%E6%97%A5%E5%A4%B4%E6%9D%A1.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%B8%8D%E8%83%BD%E9%87%8D%E5%BC%80%EF%BC%9F%E9%87%8D%E5%BC%80%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3%EF%BC%8C%E5%88%AB%E5%86%8D%E5%8E%BB%E8%B8%A9%E5%89%AF%E8%81%8C%E4%B8%9A%E7%9A%84%E5%9D%91-%E6%AF%8F%E6%97%A5%E5%A4%B4%E6%9D%A1.jpg"></a></p><p>S19 赛季奖励皮肤：明世隐 • 疑决卦</p><p>从长安赛年开始，王者荣耀的排位界面不再展示赛季皮肤，而是换成了与赛季故事相关联的插画：</p><p><a href="/thoughts/design-comparison-of-ranking-system/20210120134810_96294-1-1920x886.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/20210120134810_96294-1-1920x886.jpg"></a></p><p>S22 上元夺魁</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E6%8E%92%E4%BD%8D%E6%98%BE%E7%A4%BA%E4%B8%89%E4%B8%AA%E8%8B%B1%E9%9B%84%E6%80%8E%E4%B9%88%E6%94%B9%EF%BC%9F-Lu18%E7%8E%A9%E5%90%A7-1920x886.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E6%8E%92%E4%BD%8D%E6%98%BE%E7%A4%BA%E4%B8%89%E4%B8%AA%E8%8B%B1%E9%9B%84%E6%80%8E%E4%B9%88%E6%94%B9%EF%BC%9F-Lu18%E7%8E%A9%E5%90%A7-1920x886.jpg"></a></p><p>S24 长枪掠火</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E6%89%A3%E9%99%A4%E6%8E%92%E4%BD%8D%E6%98%9F%E7%A7%AF%E5%88%86%E5%A5%96%E5%8A%B1%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%EF%BC%9F-Lu18%E7%8E%A9%E5%90%A7-1920x873.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E6%89%A3%E9%99%A4%E6%8E%92%E4%BD%8D%E6%98%9F%E7%A7%AF%E5%88%86%E5%A5%96%E5%8A%B1%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%EF%BC%9F-Lu18%E7%8E%A9%E5%90%A7-1920x873.jpg"></a></p><p>S26 玉城之子</p><p>单从设计上比较，这两种处理方式并无明显的高下之分，但其中隐含着包装思路的转变和升级。在排位赛界面展示赛季皮肤，就跟在拉磨的驴脑袋上面绑一根胡萝卜一样，简单直接但有效。</p><p>与之相比，一张插画在技术上虽然也非常简单，但充满故事感的画面具备更多的想象空间，能引发玩家对赛季内容更深入的探索和关注，所以左下角多了一个小小的世界观入口。</p><p>我们要相信，相较于玩法，剧情和世界观也是玩家消费内容非常重要的一部分，这种综合体验能比单纯的奖励产生更强也更长期的用户黏性，同时也让赛季奖励具备了更强的包涵性——毕竟一个赛季的奖励也不仅限于一款皮肤而已。</p><h3 id="Mobile-Legends"><a href="#Mobile-Legends" class="headerlink" title="Mobile Legends"></a>Mobile Legends</h3><p>我对 Mobile Legends 不太熟，但这套以动物为主题的段位图标却具备很强的辨识度和记忆点。</p><p><a href="/thoughts/design-comparison-of-ranking-system/mlbb-ranking.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/mlbb-ranking.png"></a></p><p>Mobile Legends 2022 年的段位图标</p><p>动物形象天然具有自然崇拜的色彩，比如萨满教和德鲁伊就很容易和这样的主题关联起来。我不知道 Mobile Legends 如何将它与世界观相结合，但更可能仅仅是基于设计团队的灵感。</p><p>当然，除了地位超然的龙以外，这套段位图标的等级次序可能存在一定的争议，毕竟在常规印象里，熊、狼与犀牛_（如果我没有认错的话）_谁强谁弱？按照它们的力量来划分等级，标准很模糊，因而必然导致玩家对段位高低的迷惑，需要更长时间来适应。</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E6%97%A0%E5%B0%BD%E5%AF%B9%E5%86%B3-Mobile-LegendsBang-Bang-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E6%97%A0%E5%B0%BD%E5%AF%B9%E5%86%B3-Mobile-LegendsBang-Bang-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg"></a></p><p>展示段位的界面比较少，但旗帜的颜色应该会随段位变化。</p><h3 id="决战平安京"><a href="#决战平安京" class="headerlink" title="决战平安京"></a>决战平安京</h3><p>前文提到英雄联盟采用头盔作为段位图标的主题，我隐晦地表达了一些不满。但同样是用帽子，阴阳师却自然得多，因为平安时代的日本公卿戴的就是名为「乌帽子」的官帽。以此为段位图标，既符合游戏的文化背景，也契合本身的世界观设定。</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E5%86%B3%E6%88%98%EF%BC%81%E5%B9%B3%E5%AE%89%E4%BA%AC%E6%96%B0-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E5%86%B3%E6%88%98%EF%BC%81%E5%B9%B3%E5%AE%89%E4%BA%AC%E6%96%B0-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg"></a></p><p>决战平安京的段位图标，完全继承了阴阳师的设定</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E5%86%B3%E6%88%98%EF%BC%81%E5%B9%B3%E5%AE%89%E4%BA%AC%E6%96%B0-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0-2.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E5%86%B3%E6%88%98%EF%BC%81%E5%B9%B3%E5%AE%89%E4%BA%AC%E6%96%B0-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0-2.jpg"></a></p><p>三个最高段位</p><p>当然，主题选得好不代表设计就好，虽然我们能理解，都是为了拉开不同段位的等级差才这样设计的，但高段位的装饰实在太浮夸了，偏离了阴阳师一贯的调性。没人会相信这种帽子能戴在阴阳寮的高级官员头上，它更像是某个山寨游戏里内置的结婚系统，里面新郎官就应该戴这种喜庆热闹但审美完全放飞的冠帽。</p><p>不过反过来想，为什么同样是体现等级之间的差距，别的游戏就不需要这么浮夸？在别的游戏里，每个段位都拆成了三到五个细分的星级，所以五到七个大段位就满足需求。而阴阳师的段位数量则达到了十二个，也难怪画图标的设计师殚精竭虑，挠破头皮，还得担心拉不开等级之间的差距，最终导致了比较浮夸的结局。</p><hr><h2 id="三、FPS-游戏的排位系统"><a href="#三、FPS-游戏的排位系统" class="headerlink" title="三、FPS 游戏的排位系统"></a>三、FPS 游戏的排位系统</h2><p>在英雄联盟大获成功之后，段位的概念也随之普及，FPS 游戏作为传统的 PvP 游戏类型，也顺理成章地引入了排位赛与段位系统。</p><p>虽然 FPS 游戏的世界观背景通常都处于近现代甚至是未来的科幻时代，与 MOBA 的魔幻或奇幻_（魔幻 &amp; 奇幻应该是最具宽容度的世界观架构，_为了容纳更多类型的英雄，这无疑是殊途同归的最优选择_）_的设定有不小的差异，但既然我们关注的是排位系统与段位图标的设计，而它们都具备这些系统，所以不妨考察一下，看看能否激发我们的灵感。</p><h3 id="Call-of-Duty-Mobile"><a href="#Call-of-Duty-Mobile" class="headerlink" title="Call of Duty: Mobile"></a>Call of Duty: Mobile</h3><p>作为稳定输出的年货游戏，Call of Duty 无疑是非常巨大的 IP，旗下的作品非常多。我们没办法做到面面俱到，就只能挑一些和排位系统、段位图标有关的设计作为考察对象。</p><p>光看 Call of Duty: Mobile 这个 5v5 的匹配界面，以及比赛的结算界面，我们不禁要问：FPS 游戏与 MOBA 游戏的分界到底在哪里？</p><p><a href="/thoughts/design-comparison-of-ranking-system/call-of-duty-mobile-loading-game.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/call-of-duty-mobile-loading-game.jpg"></a></p><p>Call of Duty: Mobile 匹配界面</p><p><a href="/thoughts/design-comparison-of-ranking-system/call-of-duty-mobile-game-detail.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/call-of-duty-mobile-game-detail.jpg"></a></p><p>Call of Duty: Mobile 比赛结算界面</p><p>根据段位图标的质感和配色，CODM 的段位无疑也脱胎于英雄联盟的经典设定：Rookie 明显是青铜的质感，Veteram 则对应着白银，而 Elite 和 Pro 也能和黄金、铂金轻松匹配起来，但相应的段位名称都军事化了。</p><p><a href="/thoughts/design-comparison-of-ranking-system/NEW-S8-RANKED-SYSTEM...-NEW-GRAND-MASTER-RANKED-AND-INTRO-IN-CALL-OF-D.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/NEW-S8-RANKED-SYSTEM...-NEW-GRAND-MASTER-RANKED-AND-INTRO-IN-CALL-OF-D.jpg"></a></p><p>Call of Duty: Mobile 段位图标</p><p>雄鹰的造型也不用说了，十有八九指向 US Army 的经典标志，Call of Duty 毕竟是一个现实基础很强、军事色彩很浓的游戏。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Call-of-Duty-Mobiles-Ranking-System-Decrypted-Gamepleton.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Call-of-Duty-Mobiles-Ranking-System-Decrypted-Gamepleton.png"></a></p><p>Call of Duty: Mobile 比赛结算界面对段位的展示</p><p>在比赛结算界面之后，非常华丽地展示了玩家的段位以及这场比赛取得的提升，想必玩家能从中得到巨大的激励和满足。</p><p>从中也可以发现，CODM 的段位图标存在两个不同的版本，后面这套更接近现代军衔的样式，也更贴合 CODM 的品牌调性。</p><p>我们也可以顺便看一些 Call of Duty 系列的图标设计，作为顶级 IP，每一代的图标设计都非常有识别度，质量也很高。</p><p><a href="/thoughts/design-comparison-of-ranking-system/call-of-duty-black-ops-4-medals-1-1920x1080.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/call-of-duty-black-ops-4-medals-1-1920x1080.jpg"></a></p><p>Call of Duty: Black Ops 的图标设计。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Introducing-League-Play-in-Black-Ops-Cold-War-3.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Introducing-League-Play-in-Black-Ops-Cold-War-3.jpg"></a></p><p><a href="https://www.callofduty.com/blog/page?id=Introducing_League_Play_in_Black_Ops_Cold_War&src=treyarch">Call of Duty: Black Ops Cold War 的图标设计</a>，整个系列的设计都很棒</p><p>这套从蝎子到龙的段位序列倒是和 Mobile Legends 有异曲同工之妙，也不知道后者的设计师是否曾经从中汲取过灵感？</p><h3 id="PUBG"><a href="#PUBG" class="headerlink" title="PUBG"></a>PUBG</h3><p>按照某个既不科学也不权威的定律，一个游戏的造梗能力与它的流行度成正比。自 2018 年初伊始，PUBG 可谓引领了好一段时间的风气，吃鸡，空投，平底锅，三级头，进圈，落地成盒，都是玩家当时津津乐道的新名词。随之而来的是轰轰烈烈的吃鸡大跃进，各个大小厂商纷纷尝试引入 Battle Royale 玩法，连王者荣耀这样貌似八竿子都打不到一块的 MOBA 游戏都内置了一个「边境突围」模式。</p><p>与腾讯合作以后，PUBG 开枝散叶，除了 PUBG Mobile 手游版本，还因为特殊的审查机制衍生出了和平精英这样的新品牌。</p><p>在 PUBG New State 版本的段位图标里，我们熟悉的空投元素_（降落伞）_、平底锅和三级头都纷纷登场。</p><p><a href="/thoughts/design-comparison-of-ranking-system/pubg-new-state-ranking-icon-Google-%E6%90%9C%E5%B0%8B.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/pubg-new-state-ranking-icon-Google-%E6%90%9C%E5%B0%8B.jpg"></a></p><p>PUBG New State 段位图标</p><p>相比低段位没有任何特效的粗犷的铁板铸模，高段位的设计明显采用了勋章的制式，显得更华丽。</p><p><a href="/thoughts/design-comparison-of-ranking-system/pubg-new-state-conqueror-Done-YouTube.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/pubg-new-state-conqueror-Done-YouTube.jpg"></a></p><p>最初的 PUBG 设计感比较糙，不过在 New State 重新包装之后，整体观感跃升了几个台阶。</p><p>不过在和平精英里，段位图标的形式则要统一得多，虽然我们也能清晰地看到传承自 PUBG 的视觉渊源，段位主体由不同的枪组成，但始终衬在下面的平底锅仍然成为了最有辨识度的元素。</p><p><a href="/thoughts/design-comparison-of-ranking-system/peace-elite-ranked-icons.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/peace-elite-ranked-icons.png"></a></p><p>和平精英的段位图标</p><p>这种设计在单独传播的时候会有更好的效果，无论你是什么段位，贴出来就知道这是和平精英_（就算是转发的对象是游戏小白，但注意到这个平底锅，至少也能意识到属于某个吃鸡游戏）_，而 PUBG 中间的一些段位很难做到如此极致的辨识度。</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E5%92%8C%E5%B9%B3%E7%B2%BE%E8%8B%B1%E6%AE%B5%E4%BD%8D%E5%88%86%E6%95%B0.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E5%92%8C%E5%B9%B3%E7%B2%BE%E8%8B%B1%E6%AE%B5%E4%BD%8D%E5%88%86%E6%95%B0.jpg"></a></p><p>段位图标的单独展示有点意思，但不够 PUBG New State 高级。</p><h3 id="Fortnite"><a href="#Fortnite" class="headerlink" title="Fortnite"></a>Fortnite</h3><p>我还挺喜欢 Fortnite 那种风格的，从美术、UI 到宣发，所有素材都稳定一致地传递着一种相同的感受，放松，俏皮，没头没脑的开心，活像日常去参加某个派对的美帝年轻人。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Fortnite-UIUX-Visual-Design-on-Behance-1.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Fortnite-UIUX-Visual-Design-on-Behance-1.png"></a></p><p>Fortnite 段位图标</p><p>我们非常擅长模仿各种风格，但那种整体的放松感在国产游戏里却很罕见，即便是休闲取向的游戏也容易给人一板一眼的印象。也许必须成长在低压力的生活环境里才能获得这种气质，小镇做题家出身的我们，越是努力去模仿，越是南辕北辙。</p><p>游戏内等待匹配时，段位展示得到强调</p><h3 id="Apex-Legends"><a href="#Apex-Legends" class="headerlink" title="Apex Legends"></a>Apex Legends</h3><p>看 Apex 的设计，Destiny 2 的影子经常在脑中一闪而过：同样以几何造型为主，同样是切割感很强的线条，不同的是 Destiny 2 几乎是完全的平面化，Apex 则不能免俗，做不到那么极端那么纯粹，所以也经常能看到追加的质感和层次。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Apex-Legends-ranked-system-Season-13-Ranked-Reloaded-split-date-maps-1.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Apex-Legends-ranked-system-Season-13-Ranked-Reloaded-split-date-maps-1.jpg"></a></p><p>Apex 的段位图标</p><p>这个段位图标跟守望先锋那一套是一个风格，但处理得干净利落，以字母 A 为基础，随段位提升逐级增强装饰感，在最高的两个段位打破之前的常规，绝顶高手的超拔感立刻就体现出来了。</p><p><a href="/thoughts/design-comparison-of-ranking-system/TSM-FTX-Sonho-on-Twitter-One-of-the-best-feelings-about-Apex-Legends-1920x864.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/TSM-FTX-Sonho-on-Twitter-One-of-the-best-feelings-about-Apex-Legends-1920x864.jpg"></a></p><p>Apex 最高的 Predator 段位</p><p><a href="/thoughts/design-comparison-of-ranking-system/Squad-screenshot-of-Apex-Legends-video-game-interface.-1920x1080.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Squad-screenshot-of-Apex-Legends-video-game-interface.-1920x1080.jpg"></a></p><p>Apex 的组队界面，段位并没有呈现，取而代之的是 Season Wins 赛季胜场。当然，也有可能是 IIG 的测试账号还没有取得段位？姑且存疑。</p><h3 id="Valorant"><a href="#Valorant" class="headerlink" title="Valorant"></a>Valorant</h3><p>打开 Valorant 的客户端，看到的是朴实无华的画质，精打细算的动态效果，被酷炫的宣发素材吸引而来的玩家，此时难免会产生一些心理上的落差。与守望先锋、Fontnite、Apex 这些妖艳华丽的竞争对手相比，只能默默安慰自己，艰苦朴素才能保障 FPS 游戏里最最最关键的帧率，稳定流畅不掉帧，还有什么比这更重要？</p><p>不过平心而论，静态的界面设计依然非常出色，简洁，优雅，造型与线条的装饰感非常讲究，足以令人留下深刻的印象。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Five-Fast-Facts-VALORANT-Competitive-Ranking-System-Tiers-Codashop.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Five-Fast-Facts-VALORANT-Competitive-Ranking-System-Tiers-Codashop.jpg"></a></p><p>Valorant 的段位图标</p><p><a href="/thoughts/design-comparison-of-ranking-system/Valorant-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Valorant-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg"></a></p><p>比赛后的 MVP，同样没有段位的展示。</p><p>Valorant 对段位的展示也不像英雄联盟那样强调，更侧重比赛数据的呈现。看来是 FPS 的优良传统？</p><hr><h2 id="四、其他值得关注的游戏"><a href="#四、其他值得关注的游戏" class="headerlink" title="四、其他值得关注的游戏"></a>四、其他值得关注的游戏</h2><p>因为排位系统和段位的大范围普及，我们也可以在其他类型的游戏中找到排位系统的参考。</p><h3 id="Legends-of-Runeterra"><a href="#Legends-of-Runeterra" class="headerlink" title="Legends of Runeterra"></a>Legends of Runeterra</h3><p>虽然只是一款卡牌游戏，但因为与英雄联盟的亲缘关系，LoR 的美术风格与 UI 风格都和英雄联盟非常接近，毕竟是同一个世界观的孪生兄弟。LoR 也比 Valorant 更强调段位。</p><p><a href="/thoughts/design-comparison-of-ranking-system/Twitter-%E4%B8%8A%E7%9A%84Legends-of-Runeterra%EF%BC%9ARanked-queues-will-be-disabled-on-May-5.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Twitter-%E4%B8%8A%E7%9A%84Legends-of-Runeterra%EF%BC%9ARanked-queues-will-be-disabled-on-May-5.jpg"></a></p><p>LoR 的段位图标，这个造型莫非是恕瑞玛的太阳圆盘？</p><p>不过，即使关系这么近，但每个游戏的机制总会有所不同，LoR 是 1v1，天生就比 5v5 的英雄联盟节省系统资源，追求动态效果就没有那么大的负担，可以放开手脚，游戏流程中，华丽的特效随处可见，毫不逊色于前辈炉石传说。</p><p>无论是在比赛开始的匹配界面，还是在比赛结束的结算界面，玩家的段位都会非常明显地体现出来，不过依然很少使用完整的段位图标，而是与英雄联盟一样，以边框的形式展现。</p><p>匹配到对手，双方的段位都非常明显。© <a href="https://www.twitch.tv/hunteracehs">hunteracehs</a></p><p>比赛胜利，段位点数提升。© <a href="https://www.twitch.tv/hunteracehs">hunteracehs</a></p><h3 id="DJMAX-RESPECT-V"><a href="#DJMAX-RESPECT-V" class="headerlink" title="DJMAX RESPECT V"></a>DJMAX RESPECT V</h3><p>虽然一款音游很难和排位赛、段位这些应该很硬核的电竞概念关联起来，但 DJMax Respect V 确实也引入了排位系统和段位。并且，我真是太喜欢它的这套设计了，色彩大胆，造型率性，动作也大多很张扬，很容易联想倒 Triggle 社的风格。</p><p><a href="/thoughts/design-comparison-of-ranking-system/DJMAX-Respect-V-full-release-launches-March-12-Gematsu.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/DJMAX-Respect-V-full-release-launches-March-12-Gematsu.jpg"></a></p><p>这个画风是不是酷似扳机社？</p><p>整个系统中，对段位的强调显而易见，只要出现玩家信息的界面，都会出现大大的段位图标。这套图标个性十足，并且有动态效果加持，在简洁的布局里分外醒目。</p><p><a href="/thoughts/design-comparison-of-ranking-system/game-GUI-interaction-motion-music-rank-UI-ux-2.png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/game-GUI-interaction-motion-music-rank-UI-ux-2.png"></a></p><p>和画风一致，段位图标的设计也个性十足！</p><p><a href="/thoughts/design-comparison-of-ranking-system/Ranked-Lobby-screenshot-of-DJMAX-RESPECT-V-video-game-interface..png" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/Ranked-Lobby-screenshot-of-DJMAX-RESPECT-V-video-game-interface..png"></a></p><p>大厅里的段位展示</p><p><a href="/thoughts/design-comparison-of-ranking-system/L3SDLDMWQMF71.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/L3SDLDMWQMF71.jpg"></a></p><p>玩家对战时双方的段位展示</p><p>段位升级的动态效果</p><p>一个音游的排位系统都这么用心了，MOBA 游戏要加油啊。</p><h3 id="战歌竞技场"><a href="#战歌竞技场" class="headerlink" title="战歌竞技场"></a>战歌竞技场</h3><p>专门提及这款游戏，是因为它的段位图标有些意思，是以国际象棋的棋子为基础来设计的。考虑到它的棋盘玩法，足以让人会心一笑，同时兼具不错的识别度和记忆点，可谓顺理成章，妙手偶得。在概念的选择上，是一个很好的案例。</p><p><a href="/thoughts/design-comparison-of-ranking-system/%E6%88%98%E6%AD%8C%E7%AB%9E%E6%8A%80%E5%9C%BA-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg" class="gallery-item"><img src="/thoughts/design-comparison-of-ranking-system/%E6%88%98%E6%AD%8C%E7%AB%9E%E6%8A%80%E5%9C%BA-%E6%B8%B8%E6%88%8F%E6%88%AA%E5%9B%BE-GAMEUI.NET-%E6%B8%B8%E6%88%8FUIUX%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BA%A4%E6%B5%81%E3%80%81%E5%88%86%E4%BA%AB%E5%B9%B3%E5%8F%B0.jpg"></a></p><p>战歌竞技场的段位图标</p><p>很多时候，只要概念对了，就足以给人留下印象。而最终设计的品质如何，在国内设计师日趋内卷的当下，只要给足时间打磨，反而不会是什么大问题。</p><p>另外悄悄说一句，这款游戏好像已经下架了……</p><hr><p>本文小部分 UI 由自己截图，大部分搜集于以下 UI 资源网站，行文疏漏，无法一一注明其来源，谨此致谢：</p><ol><li><a href="https://interfaceingame.com/">Interface In Game | Collection of video games UI | Screenshots and videos</a></li><li><a href="https://www.gameuidatabase.com/index.php">Game UI Database</a></li><li><a href="https://gameui.net/">GAMEUI - 游戏UI&#x2F;UX学习、交流、分享平台</a></li></ol></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article-gallery&quot;&gt;&lt;p&gt;显而易见，没有网络游戏玩家之间的联机对抗，就不会产生在线的排位系统，所以相对于漫长的电子游戏史，排位赛应该是一个比较现代的游戏系统。&lt;/p&gt;
&lt;p&gt;在八零后九零后的童年记忆里，游戏厅遍布街头巷尾，大部分的街机游戏结束之后，一般也会有一个得分排行榜，霸榜的自然都是高手和大佬。当然，那个排名非常原始，虽然看起来跟现代网络游戏的排位赛榜单也没差多少，但系统机制早已是霄壤之别。&lt;/p&gt;
&lt;p&gt;以常理推测，DOOM、CS 这些可以联机的 FPS 游戏应该最有可能产生最初的排位赛系统，但早期的画面很难搜索到，并且考虑到那个时代的屏幕分辨率，其视觉表现也不宜高估，所以一并略过。&lt;/p&gt;</summary>
    
    
    
    <category term="观点" scheme="https://waxa.design/categories/thoughts/"/>
    
    
    <category term="排位赛" scheme="https://waxa.design/tags/%E6%8E%92%E4%BD%8D%E8%B5%9B/"/>
    
    <category term="gaming" scheme="https://waxa.design/tags/gaming/"/>
    
    <category term="研究" scheme="https://waxa.design/tags/%E7%A0%94%E7%A9%B6/"/>
    
    <category term="系统设计" scheme="https://waxa.design/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>肥猫与作诗机</title>
    <link href="https://waxa.design/writings/shici/feimao-and-the-poem-creator/"/>
    <id>https://waxa.design/writings/shici/feimao-and-the-poem-creator/</id>
    <published>2022-05-24T00:00:00.000Z</published>
    <updated>2023-05-28T11:12:36.621Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p class="foreword">肥猫少年时，才气横溢，不可一世，好歌行乐府，众目之为当世李白。中年后改弦易辙，尝作七律，牛教授见而疑之曰：无乃作诗机乎？适逢作诗机重新上线，因赠肥猫。</p><p>手捉柴刀尺许长，童年锈蚀杂阳光。斩平野外青蒿地，误入中年黑墓场。嘎嘎智能人复活，徐徐记忆体消亡。残余片段重输入，代码生成第几行？</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&quot; /&gt;&lt;div class=&quot;.article</summary>
      
    
    
    
    <category term="文字" scheme="https://waxa.design/categories/writings/"/>
    
    <category term="诗词" scheme="https://waxa.design/categories/writings/shici/"/>
    
    
    <category term="七律" scheme="https://waxa.design/tags/%E4%B8%83%E5%BE%8B/"/>
    
    <category term="肥猫" scheme="https://waxa.design/tags/%E8%82%A5%E7%8C%AB/"/>
    
  </entry>
  
</feed>
